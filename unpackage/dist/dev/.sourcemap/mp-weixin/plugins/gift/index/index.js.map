{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/gift/index/index.vue?bc7f","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/gift/index/index.vue?c000","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/gift/index/index.vue?5d35","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/gift/index/index.vue?cb11","uni-app:///plugins/gift/index/index.vue","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/gift/index/index.vue?f788","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/gift/index/index.vue?3379"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,qG;AACAA,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACc;;;AAGlE;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC1BA;AAAA;AAAA;AAAA;AAA+lB,CAAgB,ynBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACqGnnB,gD;;;;;;;;;;AAUA;AACA,eADA;;AAGA,MAHA,kBAGA;AACA;AACA;AACA,mBAFA;AAGA;AACA,mBAJA;AAKA;AACA,gCANA;AAOA;AACA,kBARA;AASA;AACA,oBAVA;AAWA;AACA,oBAZA;AAaA;AACA,mBAdA;AAeA;AACA,oBAhBA;AAiBA;AACA,gBAlBA;AAmBA;AACA,oBApBA;AAqBA;AACA,iBAtBA;AAuBA;AACA,iBAxBA;AAyBA;AACA,cA1BA;AA2BA,0CA3BA;AA4BA,oBA5BA;AA6BA,uBA7BA;AA8BA,aA9BA;AA+BA,2BA/BA;AAgCA;AACA,oBAjCA;AAkCA,eAlCA;AAmCA,2BAnCA;AAoCA,uBApCA;AAqCA,qBArCA;AAsCA,gBAtCA;AAuCA,oBAvCA;;AAyCA,GA7CA;;AA+CA,QA/CA,kBA+CA,OA/CA,EA+CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAPA;AAQA,KATA,MASA;AACA;AACA;AACA;AACA;AACA;AACA,OALA,MAKA;AACA;AACA;AACA,oCADA;AAEA;AACA,4BADA,EAFA;;;AAMA;AACA;AACA;AACA;AACA;AACA,qBADA;;AAGA;AACA;AACA;AACA;AACA,KAHA;AAIA;AACA,KADA;AAEA;AACA;AACA;AACA,kCADA;AAEA,kCAFA;AAGA,oBAHA;AAIA,yBAJA;AAKA;AACA,gCADA;AAEA,uBAFA,EALA;;AASA,eATA,mBASA,CATA,EASA;AACA,4BADA,CACA,IADA,eACA,IADA,CACA,IADA,eACA,IADA;AAEA;AACA,SAZA;;AAcA;AACA,KAhBA;;AAkBA;AACA,iDADA;;;AAIA,GA5GA;;AA8GA,QA9GA,oBA8GA;AACA;AACA;AACA;AACA;AACA,GAnHA;;AAqHA,UArHA,sBAqHA;AACA;AACA;AACA;AACA;AACA;AACA,GA3HA;;AA6HA,QA7HA,oBA6HA;AACA;AACA;AACA;AACA;AACA;AACA,GAnIA;;AAqIA,mBArIA,+BAqIA;AACA;AACA,uCADA;AAEA,iCAFA;;AAIA,GA1IA;;AA4IA,iBA5IA,6BA4IA;AACA;AACA;AACA,iCADA;AAEA;AACA;AAHA;AAKA,GAnJA;;AAqJA;AACA;AACA,WAFA,qBAEA;AACA,4CADA;;AAGA;AACA,gDADA;AAEA,iCAFA,GAHA,SAGA,GAHA;;AAOA;AACA;AACA;AACA;AACA,yCADA;;AAGA;AACA;AACA;AACA,iBARA,MAQA;AACA;AACA,+BADA;AAEA,oCAFA;;AAIA,iBArBA;;AAuBA,4CAvBA;AAwBA,wCAxBA;;AA0BA,KA5BA;;AA8BA;AACA,cA/BA,sBA+BA,KA/BA,EA+BA,QA/BA,EA+BA;AACA;AACA;AACA,KAlCA;;AAoCA;AACA,aArCA,qBAqCA,KArCA,EAqCA,QArCA,EAqCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OALA,MAKA;AACA;AACA;AACA;AACA,KAhDA;;AAkDA;AACA,gBAnDA,wBAmDA,KAnDA,EAmDA;AACA,2BADA,CACA,MADA,yBACA,MADA,C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","file":"plugins/gift/index/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './plugins/gift/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=6eedb493&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"plugins/gift/index/index.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=6eedb493&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = Number(96)\n  var g0 = Object.keys(_vm.gift)\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.voice_i = 0\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        g0: g0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<app-layout>\r\n\t\t<view class=\"index\">\r\n            <!--  导航  -->\r\n            <view class=\"page-width gift-navigation\">\r\n                <gift-navigation\r\n                    v-bind:theme=\"theme\"\r\n                    v-bind:botHeight=\"BotHeight\"\r\n                    v-bind:navBool=\"navBool\"\r\n                ></gift-navigation>\r\n            </view>\r\n\r\n\t\t\t<!--  挑选礼物  -->\r\n\t\t\t<view class=\"page-width pick-gift\">\r\n\t\t\t\t<pick-gift\r\n\t\t\t\t\tv-bind:theme=\"theme\"\r\n\t\t\t\t\tv-bind:gift_list=\"gift_list\"\r\n\t\t\t\t\tv-on:giftNumber=\"giftNumber\"\r\n\t\t\t\t\tv-on:giftInput=\"giftInput\"\r\n\t\t\t\t></pick-gift>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!--  送礼方式  -->\r\n\t\t\t<view class=\"page-width gift-method\">\r\n\t\t\t\t<gift-method\r\n\t\t\t\t\tv-bind:method_type=\"method_type\"\r\n\t\t\t\t\tv-bind:open_type=\"open_type\"\r\n\t\t\t\t\tv-bind:select_str=\"select_str\"\r\n\t\t\t\t\tv-bind:type=\"config.type\"\r\n\t\t\t\t\tv-on:set_methods=\"set_methods\"\r\n\t\t\t\t\tv-on:set_people_status=\"set_people_status\"\r\n\t\t\t\t\tv-on:change_people=\"change_people\"\r\n\t\t\t\t\tv-on:set_lottery_time=\"set_lottery_time\"\r\n\t\t\t\t></gift-method>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!--  祝福留言  -->\r\n\t\t\t<view class=\"page-width blessing-message\">\r\n\t\t\t\t<blessing-message\r\n\t\t\t\t\tv-bind:bless_word=\"bless_word\"\r\n\t\t\t\t\tv-on:changeTextarea=\"changeTextarea\"\r\n\t\t\t\t\tv-bind:place_bless_word=\"config.bless_word\"\r\n\t\t\t\t></blessing-message>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!--  语音  -->\r\n\t\t\t<view class=\"page-width voice\">\r\n\t\t\t\t<voice\r\n\t\t\t\t\tv-bind:theme=\"theme\"\r\n\t\t\t\t\tv-bind:botHeight=\"BotHeight\"\r\n\t\t\t\t\tv-bind:is_play=\"is_play\"\r\n\t\t\t\t\tv-on:play=\"play\"\r\n\t\t\t\t\tv-bind:audio=\"audio\"\r\n\t\t\t\t\tv-on:recorder=\"recorder\"\r\n\t\t\t\t\tv-bind:voice_i=\"voice_i\"\r\n\t\t\t\t\tv-on:click=\"voice_i = 0\"\r\n\t\t\t\t\tv-on:close=\"close\"\r\n\t\t\t\t></voice>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!--  生成礼包  -->\r\n\t\t\t<view class=\"page-width generate-package\">\r\n\t\t\t\t<generate-package\r\n\t\t\t\t\tv-bind:theme=\"theme\"\r\n\t\t\t\t\tv-bind:totalPrice=\"totalPrice\"\r\n\t\t\t\t\tv-on:click=\"generatePackage\"\r\n\t\t\t\t\tv-bind:template_message_captain=\"config.template_message_captain_gift_form_user\"\r\n\t\t\t\t></generate-package>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 空白格 -->\r\n\t\t\t<view class=\"page-width empty-nav\">\r\n\t\t\t\t<app-empty-bottom\r\n\t\t\t\t\t\tbackgroundColor=\"#f7f7f7\"\r\n\t\t\t\t\t\tv-bind:height=\"Number(96)\"\r\n\t\t\t\t></app-empty-bottom>\r\n\t\t\t</view>\r\n\r\n            <view class=\"page-width get-right-now\" v-if=\"is_gift && Object.keys(gift).length > 0\">\r\n                <get-right-now\r\n\t                v-bind:background=\"config.background\"\r\n                    v-on:setGift=\"setGift\"\r\n\t                v-bind:gift_id=\"gift_id\"\r\n\t                v-bind:turn_no=\"turn_no\"\r\n\t                v-bind:bless_word=\"gift.list.bless_word\"\r\n\t                v-bind:nickname=\"gift.list.user.nickname\"\r\n\t                v-bind:avatar=\"gift.list.user.userInfo.avatar\"\r\n\t                v-bind:type=\"gift.list.type\"\r\n\t\t\t\t\tv-bind:bless_music=\"gift.list.bless_music\"\r\n\t\t\t\t\tv-bind:template_message=\"config.template_message_captain_gift_convert\"\r\n\t\t\t\t\tv-bind:music_play=\"music_play\"\r\n\t\t\t\t\tv-on:music=\"music\"\r\n                ></get-right-now>\r\n            </view>\r\n\r\n\t\t\t<view v-bind:style=\"{width: `100%`, height: `${BotHeight}rpx`}\" v-if=\"navBool\"></view>\r\n\t\t</view>\r\n\t</app-layout>\r\n</template>\r\n\r\n<script>\r\n    import { mapState, mapGetters } from 'vuex';\r\n\timport pickGift from '../components/index/pick-gift.vue';\r\n\timport giftMethod from '../components/index/gift-method.vue';\r\n\timport blessingMessage from '../components/index/blessing-message.vue';\r\n\timport generatePackage from '../components/index/generate-package.vue';\r\n\timport giftNavigation from '../components/announcement/gift-navigation.vue';\r\n\timport appEmptyBottom from'../../../components/basic-component/app-empty-bottom/app-empty-bottom.vue';\r\n    import getRightNow from '../components/index/get-right-now.vue';\r\n\timport voice from '../components/index/voice.vue';\r\n\r\n    export default {\r\n        name: 'index',\r\n\r\n\t\tdata() {\r\n\t\t\treturn {\r\n                // 礼物购物车\r\n                gift_list: [],\r\n                // 总价\r\n                totalPrice: 0,\r\n\t\t\t\t// 送礼方式\r\n                method_type: 'direct_open',\r\n\t\t\t\t// 领取方式\r\n                open_type: 0,\r\n\t\t\t\t// 领取人数\r\n                open_num: null,\r\n\t\t\t\t// 开奖时间\r\n                select_str: ``,\r\n                // 打开时间\r\n                open_time: ``,\r\n                // 祝福语\r\n                bless_word: ``,\r\n                // 插件配置\r\n                config: {},\r\n\t\t\t\t// 是否领取礼物\r\n                is_gift: false,\r\n\t\t\t\t// 礼物id\r\n                gift_id: -1,\r\n\t\t\t\t// 转增码\r\n                turn_no: '',\r\n\t\t\t\t// 礼物\r\n\t\t\t\tgift: {},\r\n                currentRoute:  this.$platDiff.route(),\r\n                navBool: false,\r\n\t\t\t\tnew_open_type: '',\r\n\t\t\t\tsrc: '',\r\n                innerAudioContext: '',\r\n\t\t\t\t// 是否播放\r\n\t\t\t\tis_play: false,\r\n\t\t\t\taudio: {},\r\n\t\t\t\trecorderManager: null,\r\n\t\t\t\tmusic_play: false,\r\n\t\t\t\tbless_music: '',\r\n\t\t\t\tvoice_i: 0,\r\n\t\t\t\tvoice_time: -1\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonLoad(options) {\r\n\t\t\tif (!this.$user.isLogin()) {\r\n\t\t\t\tthis.$user.getInfo().then(() => {\r\n                    if (options.gift_id && options.user_id) {\r\n                        this.gift_id = options.gift_id;\r\n                        this.is_gift = true;\r\n                        this.turn_no = options.turn_no;\r\n                        this.getGift(this.gift_id);\r\n                    }\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t    if (options.gift_id && options.user_id) {\r\n\t\t\t        this.is_gift = true;\r\n                    this.gift_id = options.gift_id;\r\n                    this.turn_no = options.turn_no;\r\n                    this.getGift(this.gift_id);\r\n                } else if (options.pay_data) {\r\n\t\t\t        let gift_id = JSON.parse(options.pay_data).gift_id;\r\n\t\t\t        this.$request({\r\n\t\t\t\t        url: this.$api.gift.cancel,\r\n\t\t\t\t        data: {\r\n\t\t\t\t            gift_id: gift_id,\r\n\t\t\t\t        }\r\n\t\t\t        })\r\n\t\t\t    }\r\n\t\t\t}\r\n\t\t\tthis.request();\r\n\t\t\tlet self = this;\r\n\t\t\tthis.recorderManager = uni.getRecorderManager({\r\n\t\t\t\tduration: 30000\r\n\t\t\t});\r\n\t\t\tthis.innerAudioContext = uni.createInnerAudioContext();\r\n\t\t\tthis.innerAudioContext.onEnded(function(res) {\r\n\t\t\t\tself.is_play = false;\r\n\t\t\t\tself.music_play = false;\r\n\t\t\t});\r\n\t\t\tthis.innerAudioContext.onStop(function() {\r\n\t\t\t});\r\n\t\t\tthis.innerAudioContext.autoplay = true;\r\n\t\t\tthis.recorderManager.onStop(function (res) {\r\n\t\t\t\tuni.uploadFile({\r\n\t\t\t\t\turl: self.$api.upload.file,\r\n\t\t\t\t\tfilePath: res.tempFilePath,\r\n\t\t\t\t\tname: 'file',\r\n\t\t\t\t\tfileType: 'audio',\r\n\t\t\t\t\tformData: {\r\n\t\t\t\t\t\tfile: res.tempFilePath,\r\n\t\t\t\t\t\tfile_name: ''\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess(e) {\r\n\t\t\t\t\t\tlet {code, data} = JSON.parse(e.data);\r\n\t\t\t\t\t\tself.bless_music = data.url;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tself.audio = res;\r\n\t\t\t});\r\n\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\twx.showShareMenu({\r\n\t\t\t\tmenus: ['shareAppMessage', 'shareTimeline']\r\n\t\t\t})\r\n\t\t\t// #endif\r\n\t\t},\r\n\r\n        onShow() {\r\n            this.gift_list = this.$storage.getStorageSync(`GIFT_CART`);\r\n            for (let i = 0; i < this.gift_list.length; i++) {\r\n                this.gift_list[i].total_cost =  parseFloat((this.gift_list[i].number * this.gift_list[i].price).toFixed(2));\r\n            }\r\n        },\r\n\r\n\t\tonUnload() {\r\n\t\t\tif (this.innerAudioContext) {\r\n\t\t\t\tthis.music_play = false;\r\n\t\t\t\tthis.is_play = false;\r\n\t\t\t\tthis.innerAudioContext.stop();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonHide() {\r\n\t\t\tif (this.innerAudioContext) {\r\n\t\t\t\tthis.music_play = false;\r\n\t\t\t\tthis.is_play = false;\r\n\t\t\t\tthis.innerAudioContext.stop();\r\n\t\t\t}\r\n\t\t},\r\n\r\n        onShareAppMessage() {\r\n            return this.$shareAppMessage({\r\n                path: '/plugins/gift/index/index',\r\n                title: this.config.ask_gift,\r\n            });\r\n        },\r\n\t\t// #ifdef MP-WEIXIN\r\n\t\tonShareTimeline() {\r\n\t\t\t// 分享朋友圈beta\r\n\t\t\treturn this.$shareTimeline({\r\n\t\t\t\ttitle: this.config.ask_gift,\r\n\t\t\t\tquery: {\r\n\t\t\t\t} // 此处填写页面的参数\r\n\t\t\t});\r\n\t\t},\r\n\t\t// #endif\r\n\t\tmethods: {\r\n            // 请求配置\r\n            async request() {\r\n\t            this.$utils.showLoading();\r\n                try {\r\n                    const res = await this.$request({\r\n                        url: this.$api.gift.config,\r\n                        method: 'get',\r\n                    });\r\n                    this.$utils.hideLoading();\r\n                    if (res.code === 0) {\r\n\t\t\t\t\t\tthis.config = res.data;\r\n\t\t\t\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\t\t\t\ttitle: res.data.title,\r\n\t\t\t\t\t\t});\r\n                        this.$store.commit('gift/setTheme', Number(res.data.theme.id));\r\n                        this.$store.commit('gift/setGiftPic', res.data.big_gift_pic);\r\n\t\t\t\t\t\tthis.method_type = this.config.type[0];\r\n                    } else {\r\n                        uni.showModal({\r\n                            title: '提示',\r\n                            content: res.msg,\r\n                        });\r\n                    }\r\n                } catch (e) {\r\n                    this.$utils.hideLoading();\r\n                    throw new Error(e);\r\n                }\r\n            },\r\n\r\n            //加减礼物数量\r\n            giftNumber(index, quantity) {\r\n                this.gift_list[index].number += quantity;\r\n                this.changeNumber(index);\r\n            },\r\n\r\n\t\t\t//input改变礼物数量\r\n            giftInput(index, quantity) {\r\n                // 数量大于规格库存\r\n                if (quantity >= this.gift_list[index].attr.stock) {\r\n                    let gift  = JSON.parse(JSON.stringify(this.gift_list[index]));\r\n                    gift.number = this.gift_list[index].attr.stock;\r\n                    this.$set(this.gift_list, index, gift);\r\n                    this.changeNumber(index);\r\n                } else {\r\n                    this.$set(this.gift_list[index], 'number', quantity);\r\n                    this.changeNumber(index);\r\n                }\r\n            },\r\n\r\n\t\t\t// 改变数量\r\n\t\t\tchangeNumber(index) {\r\n                let { number, price } = this.gift_list[index];\r\n                this.$set(this.gift_list[index], 'total_cost', parseFloat((number * price).toFixed(2)));\r\n                if (this.gift_list[index].number === 0) {\r\n                    this.$delete(this.gift_list, index);\r\n                }\r\n                this.$storage.setStorageSync('GIFT_CART', this.gift_list);\r\n\t\t\t},\r\n\r\n\t\t\tasync submit() {\r\n\t\t\t\tthis.$utils.showLoading();\r\n\t\t\t\tlet form_data = [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tmch_id: 0,\r\n\t\t\t\t\t\ttype: this.method_type,\r\n\t\t\t\t\t\topen_num: this.open_num,\r\n\t\t\t\t\t\topen_time: this.open_time,\r\n\t\t\t\t\t\tbless_word: this.bless_word ? this.bless_word : this.config.bless_word,\r\n\t\t\t\t\t\tbless_music: this.bless_music,\r\n\t\t\t\t\t\topen_type: this.open_type,\r\n\t\t\t\t\t\tgoods_list: [],\r\n\t\t\t\t\t\tremark: '',\r\n\t\t\t\t\t\tuse_integral: 0,\r\n\t\t\t\t\t\tuser_coupon_id: 0\r\n\t\t\t\t\t}\r\n\t\t\t\t];\r\n\t\t\t\tfor (let i = 0; i < this.gift_list.length; i++) {\r\n\t\t\t\t\tlet goods = {\r\n\t\t\t\t\t\tid: this.gift_list[i].attr.goods_id,\r\n\t\t\t\t\t\tattr: [],\r\n\t\t\t\t\t\tnum: this.gift_list[i].number,\r\n\t\t\t\t\t\tcat_id: 0,\r\n\t\t\t\t\t\tgoods_attr_id: this.gift_list[i].attr.id,\r\n\t\t\t\t\t};\r\n\t\t\t\t\tfor (let j = 0; j < this.gift_list[i].attr.attr_list.length; j++) {\r\n\t\t\t\t\t\tgoods.attr.push({\r\n\t\t\t\t\t\t\tattr_id: this.gift_list[i].attr.attr_list[j].attr_id,\r\n\t\t\t\t\t\t\tattr_group_id: this.gift_list[i].attr.attr_list[j].attr_group_id,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tform_data[0].goods_list.push(goods);\r\n\t\t\t\t}\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\tform_data: JSON.stringify({\r\n\t\t\t\t\t\tlist: form_data,\r\n\t\t\t\t\t})\r\n\t\t\t\t};\r\n\t\t\t\tthis.$store.commit('gift/setFormData', data);\r\n\t\t\t\tif (this.method_type === 'direct_open') {\r\n\t\t\t\t\tdelete form_data[0].open_num;\r\n\t\t\t\t\tdelete form_data[0].open_time;\r\n\t\t\t\t} else if (this.method_type === 'time_open') {\r\n\t\t\t\t\tdelete form_data[0].open_num;\r\n\t\t\t\t} else if (this.method_type === 'num_open') {\r\n\t\t\t\t\tdelete form_data[0].open_time;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$utils.hideLoading();\r\n\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/order-submit/order-submit?preview_url=${encodeURIComponent(this.$api.gift.order_preview)}&submit_url=${encodeURIComponent(this.$api.gift.order_submit)}&pay_data_url=${encodeURIComponent(this.$api.gift.pay_data)}&show_pay_result=false&mch_list=${JSON.stringify(form_data)}&theme=${this.theme}&order_page_url=/plugins/gift/share/share&pay_cancel_url=/plugins/gift/index/index`\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t// 生成礼物\r\n            generatePackage() {\r\n\t\t\t\tthis.submit();\r\n            },\r\n\r\n\t\t\t// 设置方法\r\n            set_methods(data) {\r\n                this.method_type = data;\r\n            },\r\n\r\n\t\t\t// 设置单人多人\r\n            set_people_status(data) {\r\n                this.open_type = data;\r\n            },\r\n\r\n\t\t\t// 设置参与如数\r\n            change_people(data) {\r\n                this.open_num = data;\r\n            },\r\n\r\n\t\t\t// 设置定时时间\r\n            set_lottery_time(data, time) {\r\n                this.select_str = data;\r\n                this.open_time = time;\r\n            },\r\n\r\n\t\t\t// 修改祝福语\r\n            changeTextarea(data) {\r\n                this.bless_word = data;\r\n            },\r\n\r\n\t\t\t// 支付接口\r\n            async pay_data(data) {\r\n                try {\r\n                    const res = await this.$request({\r\n                        url: this.$api.gift.pay_data,\r\n                        method: 'post',\r\n                        data: {\r\n                            ...data\r\n                        },\r\n                    });\r\n                    if (res.code === 0) {\r\n                        if (res.data.hasOwnProperty('id')) {\r\n                            this.$payment.pay(res.data.id).then(() => {\r\n                                // 支付成功\r\n                                this.$storage.setStorageSync('GIFT_CART', []);\r\n                                uni.redirectTo({\r\n                                    url: `/plugins/gift/share/share?gift_id=${res.data.gift_id}`,\r\n                                });\r\n                            }).catch(() => {\r\n                                // 支付失败\r\n                            });\r\n                            this.$utils.hideLoading();\r\n                        } else {\r\n                            setTimeout(() => {\r\n                                this.pay_data(data);\r\n                            }, 1000);\r\n                        }\r\n                    } else {\r\n                        this.$utils.hideLoading();\r\n                        uni.showModal({\r\n                            title: '提示',\r\n                            content: res.msg,\r\n                        });\r\n                    }\r\n                } catch (e) {\r\n                    this.$utils.hideLoading();\r\n                    throw new Error(e);\r\n                }\r\n            },\r\n\r\n            // 开启关闭领取礼物\r\n            setGift(data) {\r\n                this.is_gift = data;\r\n            },\r\n\r\n\t\t\tasync getGift(data) {\r\n                this.$utils.showLoading();\r\n                const res = await this.$request({\r\n\t                url: this.$api.gift.gift,\r\n\t                data: {\r\n\t                    gift_id: data,\r\n\t                }\r\n                });\r\n                if (res.code === 0) {\r\n                    this.gift = res.data;\r\n\t\t\t\t\tthis.wordYun(this.gift.list.bless_word);\r\n                } else {\r\n                    uni.showModal({\r\n\t                    title: '提示',\r\n\t                    content: res.msg,\r\n                    })\r\n                }\r\n\t\t\t\tthis.$utils.hideLoading();\r\n\t\t\t},\r\n\r\n            setNav() {\r\n                let currentRoute = this.currentRoute;\r\n                for (let i = 0; i < this.tabBarNavs.length; i++) {\r\n                    if(currentRoute.includes(this.tabBarNavs[i].url.split('?')[0])) {\r\n                        return this.navBool = true;\r\n                    }\r\n                }\r\n                return  this.navBool = false;\r\n            },\r\n\r\n\t\t\tplay(status) {\r\n\t\t\t\tthis.is_play = status;\r\n\t\t\t\tif (status) {\r\n\t\t\t\t\tthis.innerAudioContext.src = this.audio.tempFilePath;\r\n                    this.innerAudioContext.play();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.innerAudioContext.stop();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\trecorder(status) {\r\n\t\t\t\tif (status) {\r\n\t\t\t\t\tclearInterval(this.voice_time);\r\n\t\t\t\t\tthis.voice_i = 0;\r\n\t\t\t\t\tthis.voice_time = setInterval(() => {\r\n\t\t\t\t\t\tthis.voice_i++;\r\n\t\t\t\t\t}, 1000);\r\n\t\t\t\t\tthis.recorderManager.start();\r\n\t\t\t\t} else {\r\n\t                this.recorderManager.stop();\r\n\t\t\t\t\tclearInterval(this.voice_time);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tmusic(status, bless_music) {\r\n\t\t\t\tthis.music_play = status;\r\n\t\t\t\tif (status) {\r\n\t\t\t\t\tthis.innerAudioContext.src = bless_music;\r\n                    this.innerAudioContext.play();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.innerAudioContext.stop();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tclose() {\r\n\t\t\t\tthis.is_play = false;\r\n\t\t\t\tthis.innerAudioContext.stop();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\twatch: {\r\n            gift_list: {\r\n                handler(data) {\r\n                    this.totalPrice = 0;\r\n                    for (let i = 0; i < data.length; i++) {\r\n                        this.totalPrice += data[i].total_cost;\r\n                    }\r\n                    this.totalPrice = this.totalPrice.toFixed(2);\r\n                },\r\n\t            immediate: true,\r\n\t            deep: true,\r\n            },\r\n            tabBarNavs: {\r\n                handler: function() {\r\n                    this.setNav();\r\n                },\r\n                immediate: true,\r\n            }\r\n\t\t},\r\n\r\n\t\tcomputed: {\r\n\t\t\t...mapState('gift',{\r\n\t\t\t\ttheme: state => state.theme,\r\n                big_gift_pic: state => state.big_gift_pic,\r\n\t\t\t}),\r\n            ...mapState({\r\n                tabBarNavs: state => state.mallConfig.navbar.navs,\r\n            }),\r\n            ...mapGetters('iPhoneX', {\r\n                BotHeight: 'getNavHei',\r\n            }),\r\n\t\t},\r\n\r\n\t\tcomponents: {\r\n\t\t\t'pick-gift': pickGift,\r\n\t\t\t'gift-method': giftMethod,\r\n\t\t\t'blessing-message': blessingMessage,\r\n\t\t\t'generate-package': generatePackage,\r\n\t\t\t'gift-navigation': giftNavigation,\r\n            'app-empty-bottom': appEmptyBottom,\r\n            'get-right-now': getRightNow,\r\n\t\t\t'voice': voice\r\n\t\t},\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n\t/* 首页 */\r\n\t.index {\r\n\t\tposition: absolute;\r\n\t\tmin-height: 100%;\r\n\t\twidth: 100%;\r\n\t\tbackground-color: #f7f7f7;\r\n\t}\r\n\r\n\t/* 挑选礼物 */\r\n\t.pick-gift {\r\n\r\n\t}\r\n\r\n\t/* 送礼方式 */\r\n\t.gift-method {\r\n\t\tposition: relative;\r\n\t\ttop: -20upx;\r\n\t}\r\n\r\n\t/* 祝福留言 */\r\n\t.blessing-message {\r\n\t\tposition: relative;\r\n\t\ttop: -20upx;\r\n\t}\r\n\r\n\t/* 生成礼包 */\r\n\t.generate-package {\r\n\t\tposition: relative;\r\n\t\ttop: -20upx;\r\n\t}\r\n\r\n\t/* 导航 */\r\n\t.gift-navigation {}\r\n</style>\r\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1611297837753\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}