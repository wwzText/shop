{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/community/order-detail/order-detail.vue?ce2c","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/community/order-detail/order-detail.vue?0b50","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/community/order-detail/order-detail.vue?a8e8","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/community/order-detail/order-detail.vue?946f","uni-app:///plugins/community/order-detail/order-detail.vue","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/community/order-detail/order-detail.vue?1344","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/community/order-detail/order-detail.vue?adf6"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,8H;AACAA,UAAU,CAACC,oBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqI;AACrI;AACgE;AACL;AACsC;;;AAGjG;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,mGAAM;AACR,EAAE,4GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAsmB,CAAgB,goBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACqJ1nB,gD;;;AAGA;AACA,MADA,kBACA;AACA;AACA;AACA,wBADA;AAEA,uBAFA;AAGA,6BAHA;AAIA,sCAJA;AAKA,sBALA;AAMA,oBANA;AAOA,uCAPA;AAQA,wCARA;AASA,2CATA;AAUA,wCAVA,EADA;;AAaA,WAbA;AAcA,WAdA;AAeA,WAfA;AAgBA,WAhBA;AAiBA,qBAjBA;AAkBA,wBAlBA;AAmBA,mBAnBA;AAoBA,oBApBA;AAqBA,iBArBA;AAsBA,qBAtBA;;AAwBA,GA1BA;AA2BA;AACA,oBADA,EA3BA;;AA8BA;AACA;AACA,wBADA,GADA;;AAIA;AACA,gEADA;AAEA,uFAFA,GAJA,CA9BA;;;AAuCA;AACA;AACA,UAFA,kBAEA,CAFA,EAEA;AACA;AACA;AACA,oEADA;;AAGA,KAPA;AAQA,SARA,mBAQA;AACA;AACA;AACA;AACA;AACA,KAbA;AAcA,YAdA,sBAcA;AACA;AACA,KAhBA;AAiBA,aAjBA,uBAiBA;AACA;AACA;AACA;AACA,yBADA;;AAGA;AACA,iFADA;AAEA;AACA,4BADA,EAFA;;AAKA,UALA,CAKA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA,+BADA;AAEA,wBAFA;AAGA,0BAHA;;AAKA;AACA,OAhBA;AAiBA,KAxCA;AAyCA;AACA,YA1CA,oBA0CA,CA1CA,EA0CA;AACA;AACA;AACA;AACA,2CADA;AAEA;AACA,4BADA,EAFA;;AAKA,UALA,CAKA;AACA;AACA;AACA;AACA;AACA;AACA,6DADA;;AAGA,WALA,EAKA,KALA,CAKA;AACA;AACA;AACA,uBADA;AAEA,+BAFA;AAGA,+BAHA;;AAKA,WAZA;AAaA;AACA,OAtBA,EAsBA,KAtBA,CAsBA;AACA;AACA,OAxBA;AAyBA,KAtEA;AAuEA,QAvEA,kBAuEA;AACA;AACA,kCADA;AAEA,eAFA,qBAEA;AACA;AACA;AACA,mBADA,qBACA;AACA;AACA,6BADA;AAEA,8BAFA;;AAIA,aANA;;AAQA,SAZA;;AAcA,KAtFA;AAuFA,OAvFA,iBAuFA;AACA;AACA;AACA;AACA;AACA;AACA,gCADA;;AAGA,KA/FA;AAgGA,aAhGA,uBAgGA;AACA;AACA;AACA,sBADA;AAEA,sBAFA;;AAIA;AACA,gGADA;AAEA;AACA,qBADA,EAFA;;AAKA,sBALA;AAMA,UANA,CAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAHA,MAGA;AACA;AACA;AACA,aARA,EAQA,IARA;AASA;AACA,SAfA,MAeA;AACA;AACA,+BADA;AAEA,wBAFA;AAGA,0BAHA;;AAKA;AACA;AACA;AACA,yCADA;;AAGA,aAJA,EAIA,IAJA;AAKA;AACA;AACA,OAtCA,EAsCA,KAtCA,CAsCA;AACA;AACA;AACA,OAzCA;AA0CA,KAhJA;AAiJA,WAjJA,mBAiJA,IAjJA,EAiJA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OANA,MAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OANA,MAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAjLA,EAvCA;;AA0NA,QA1NA,oBA0NA;AACA;AACA,GA5NA;AA6NA,UA7NA,sBA6NA;AACA;AACA,GA/NA;AAgOA,QAhOA,kBAgOA,OAhOA,EAgOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OANA;;AAQA;AACA;AACA,GA/OA,E;;;;;;;;;;;;;ACxJA;AAAA;AAAA;AAAA;AAAgoC,CAAgB,0mCAAG,EAAC,C;;;;;;;;;;;ACAppC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"plugins/community/order-detail/order-detail.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './plugins/community/order-detail/order-detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./order-detail.vue?vue&type=template&id=7bdb58fc&scoped=true&\"\nvar renderjs\nimport script from \"./order-detail.vue?vue&type=script&lang=js&\"\nexport * from \"./order-detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./order-detail.vue?vue&type=style&index=0&id=7bdb58fc&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7bdb58fc\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"plugins/community/order-detail/order-detail.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order-detail.vue?vue&type=template&id=7bdb58fc&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order-detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order-detail.vue?vue&type=script&lang=js&\"","<template>\r\n    <app-layout>\r\n        <scroll-view scroll-y :style=\"{'height':`${windowHeight}px`}\">\r\n            <app-head :theme=\"getTheme\" height=\"320rpx\"></app-head>\r\n            <view class=\"title main-between cross-center\">\r\n                <view>\r\n                    <view class=\"big-title-text\">{{detail.status_text == '待付款' ? '等待买家付款': detail.status_text}}</view>\r\n                    <view v-if=\"detail.status_text == '待付款' && detail.cancel_time_stamp > 0\">若未在<text v-if=\"d>0\">{{d}}天</text>{{h}}:{{m}}:{{s}}内付款，订单将自动取消</view>\r\n                    <view v-if=\"detail.status_text == '已关闭' && detail.is_pay == 0 && detail.auto_cancel_time\">超时未付款</view>\r\n                </view>\r\n                <view v-if=\"!is_user && detail.status_text != '待付款'\" class=\"pick dir-top-nowrap main-center cross-center\" :class=\"{'over': detail.status_text == '已完成'}\">\r\n                    <view>提货编码</view>\r\n                    <view class=\"number\" :class=\"getTheme + '-m-text ' + getTheme\">{{detail.no}}</view>\r\n                </view>\r\n            </view>\r\n            <view v-if=\"is_user && (detail.status_text == '待提货' || detail.status_text == '已提货' || detail.status_text == '已完成')\" class=\"item-card send main-between\">\r\n                <view class=\"send-info dir-top-nowrap cross-center\">\r\n                    <view>提货编码</view>\r\n                    <view :style=\"[{'opacity': `${detail.status_text == '已提货' || detail.status_text == '已完成' ? '0.3':'1'}`}]\" class=\"send-no\" :class=\"detail.status_text == '已提货' || detail.status_text == '已完成' ? '':getTheme + '-m-text ' + getTheme\">{{detail.no}}</view>\r\n                </view>\r\n                <view class=\"line\"></view>\r\n                <view class=\"send-info dir-top-nowrap cross-center\">\r\n                    <view>提货二维码</view>\r\n                    <image @click=\"toBig\" :style=\"[{'opacity': `${detail.status_text == '已提货' || detail.status_text == '已完成' ? '0.3':'1'}`}]\" class=\"qr\" :src=\"detail.no_QrCode.file_path\"></image>\r\n                </view>\r\n            </view>\r\n            <view class=\"info\">\r\n                <view class=\"main-between cross-center info-top\">\r\n                    <view v-if=\"detail.mobile\" class=\"user-info dir-left-nowrap cross-center\">\r\n                        <view class=\"avatar\">\r\n                            <image :src=\"is_user ? detail.middleman_info.avatar:detail.user_avatar\"></image>\r\n                        </view>\r\n                        <view class=\"user main-center cross-center\">\r\n                            <text class=\"user-name\" :class=\"!is_user ? 'long-name': ''\">{{is_user ? detail.middleman_info.name:detail.name}}</text>\r\n                            <view class=\"middleman-name\" :class=\"getTheme + '-m-text ' + getTheme + ' ' +getTheme + '-m-border ' + getTheme\" v-if=\"is_user\">{{detail.middleman_info.middleman_name}}\r\n                                <view class=\"middleman-bg\" :class=\"getTheme + '-m-back ' + getTheme\"></view>\r\n                            </view>\r\n                            <text>{{is_user ? detail.middleman_info.mobile:detail.mobile}}</text>\r\n                        </view>\r\n                    </view>\r\n                    <view @click=\"tel\" class=\"detail-btn\" :class=\"getTheme + '-m-text ' + getTheme\">\r\n                        <image :class=\"getTheme + '-m-back ' + getTheme\" src=\"./../image/tel.png\"></image>\r\n                        <text>{{is_user?'联系团长':'联系收货人'}}</text>\r\n                    </view>\r\n                </view>\r\n                <view class=\"info-bottom\">\r\n                    <view v-if=\"is_user && detail.middleman_info\" class=\"dir-left-nowrap cross-center\"><image src=\"./../image/middleman-add.png\"></image>提货地址：{{detail.address}}</view>\r\n                    <view v-else>订单备注：{{detail.remark ? detail.remark : '暂无备注'}}</view>\r\n                </view>\r\n            </view>\r\n            <view class=\"item-card\">\r\n                <view>\r\n                    <view class=\"goods-title main-between\">\r\n                        <view class=\"dir-left-nowrap cross-center\">\r\n                            <image src=\"./../image/activity-name.png\"></image>\r\n                            <view>{{detail.activity_name}}</view>\r\n                        </view>\r\n                        <view v-if=\"is_user && detail.status_text == '待发货'\" class=\"number\" :class=\"getTheme + '-m-text ' + getTheme\">{{detail.no}}</view>\r\n                    </view>\r\n                    <view v-for=\"goods in detail.detail\">\r\n                        <view class=\"goods\" :key=\"goods.id\">\r\n                            <image mode='aspectFill' class=\"goods-img\" :src='goods.goods_info.pic_url'></image>\r\n                            <view class='t-omit-two goods-name'>{{goods.goods_info.name}}</view>\r\n                            <view class=\"goods-attr t-omit\">\r\n                                <text v-for=\"attr in goods.goods_info.attr_list\" :key=\"item.attr_id\">{{attr.attr_group_name}}:{{attr.attr_name}}</text>\r\n                            </view>\r\n                            <view class=\"goods-num\">x{{goods.goods_info.num}}</view>\r\n                            <view class=\"goods-price\">￥{{goods.goods_info.total_original_price}}</view>\r\n                        </view>\r\n                        <view class=\"refund dir-right-nowrap\">\r\n                            <!-- <view @click=\"toRefund\" class=\"refund-btn\">申请退款</view> -->\r\n                            <!-- 无售后记录 且 未超过售后时间 才可申请售后 -->\r\n                            <block v-if='goods.is_show_apply_refund'>\r\n                                <app-jump-button :url=\"`/pages/order/refund/select-refund-type?id=${goods.id}&sign=community`\">\r\n                                    <view size='mini' class='refund-btn'>申请售后</view>\r\n                                </app-jump-button>\r\n                            </block>\r\n                            <block v-else-if=\"goods.refund\">\r\n                                <text class='refund-status'>已申请售后({{goods.refund.status_text}})</text>\r\n                            </block>\r\n                        </view>\r\n                    </view>\r\n                </view>\r\n                <view class=\"main-between price-item\">\r\n                    <view class=\"price-label\">商品金额</view>\r\n                    <view>￥{{detail.total_goods_original_price}}</view>\r\n                </view>\r\n                <view v-if=\"detail.plugin_data\" class=\"main-between price-item\" v-for=\"(pluginData,index) in detail.plugin_data\" :key=\"index\">\r\n                    <view class=\"price-label\">{{pluginData.label}}</view>\r\n                    <view>-￥{{ pluginData.value }}</view>\r\n                </view>\r\n                <view class=\"main-between price-item\" style='margin-bottom: 0'>\r\n                    <view class=\"price-label\">合计</view>\r\n                    <view class=\"total-price\" :class=\"getTheme+ '-m-text ' + getTheme\">￥{{detail.total_price}}</view>\r\n                </view>\r\n            </view>\r\n            <view v-if=\"!is_user\" class=\"item-card main-between cross-center\">\r\n                <view class=\"goods-title dir-left-nowrap cross-center\">\r\n                    <image src=\"./../image/profit.png\"></image>\r\n                    <view>利润</view>\r\n                </view>\r\n                <view class=\"total-price\" :class=\"getTheme+ '-m-text ' + getTheme\">￥{{detail.profit_price}}</view>\r\n            </view>\r\n            <view v-if=\"is_user && detail.remark\" class=\"item-card\">\r\n                <view class=\"time-info main-between\">\r\n                    <view>备注: {{detail.remark}}</view>\r\n                </view>\r\n            </view>\r\n            <view class=\"item-card\">\r\n                <view class=\"time-info main-between\">\r\n                    <view>订单号: {{detail.order_no}}</view>\r\n                    <view @click=\"copy\" class=\"copy-btn\">复制</view>\r\n                </view>\r\n                <view class=\"time-info\">下单时间: {{detail.created_at}}</view>\r\n                <view v-if=\"detail.pay_time != '0000-00-00 00:00:00'\" class=\"time-info\">付款时间: {{detail.pay_time}}</view>\r\n                <view v-if=\"detail.send_time != '0000-00-00 00:00:00'\" class=\"time-info\">发货时间: {{detail.send_time}}</view>\r\n                <view v-if=\"detail.confirm_time != '0000-00-00 00:00:00'\" class=\"time-info\">提货时间: {{detail.confirm_time}}</view>\r\n                <view v-if=\"detail.is_sale == 1\" class=\"time-info\">完成时间: {{detail.updated_at}}</view>\r\n            </view>\r\n            <view :class=\"['bottom-place', `${iphone_x? 'iphone_x':''}`]\"></view>\r\n            <view v-if=\"(is_user && (detail.status_text == '待付款' || detail.status_text == '待发货')) || detail.status_text == '待提货'\" :class=\"['dir-right-nowrap','btn', `${iphone_x ? 'iphone_x':''}`]\">\r\n                <view @click.stop=\"orderPay\" v-if=\"is_user && detail.is_pay == 0 && detail.cancel_status == 0\" class=\"handle-btn\" :class=\"getTheme + '-m-text ' + getTheme + ' ' +getTheme + '-m-border ' + getTheme\">立即支付</view>\r\n                <view @click.stop=\"toRemind\" v-if=\"detail.is_send == 1 && detail.is_confirm == 0\" class=\"handle-btn\" :class=\"getTheme + '-m-text ' + getTheme + ' ' +getTheme + '-m-border ' + getTheme\">确认提货</view>\r\n                <view @click.stop=\"cancel\" v-if=\"detail.is_pay == 1 && detail.is_send == 0\" class=\"handle-btn\" :class=\"getTheme + '-m-text ' + getTheme + ' ' +getTheme + '-m-border ' + getTheme\">申请退款</view>\r\n            </view>\r\n            <view v-if=\"is_user && (detail.is_pay == 0 || (detail.is_pay == 1 && detail.is_send == 0)) && detail.cancel_status == 0\" :class=\"['bottom-total-price',`${getTheme+ '-m-text ' + getTheme}`, `${iphone_x? 'iphone_x':''}`]\">合计：￥{{detail.total_price}}</view>\r\n            <view v-if=\"show\" class=\"bg\">\r\n                <view class=\"dialog\">\r\n                    <view class=\"dialog-content\">是否确认提货</view>\r\n                    <view class=\"main-center btn-area\">\r\n                        <view class=\"submit-btn box-grow-1\" style=\"color: #666\" @click='toRemind'>取消</view>\r\n                        <view class=\"line\"></view>\r\n                        <view class=\"submit-btn box-grow-1\" @click='beConfirm' :class=\"getTheme + '-m-text ' + getTheme\">确认</view>\r\n                    </view>\r\n                </view>\r\n            </view>\r\n            <view @click=\"toBig\" v-if=\"showQr\" class=\"bg\">\r\n                <view  @click.stop=\"\" class=\"dialog qr-dialog dir-top-nowrap cross-center\">\r\n                    <image @click.stop=\"toBig\" class=\"close\" src=\"/static/image/icon/icon-close.png\"></image>\r\n                    <image class=\"qr\" :src=\"detail.no_QrCode.file_path\"></image>\r\n                    <view>提货编码 {{detail.no}}</view>\r\n                    <view class=\"qr-info\">仅{{detail.middleman_info.middleman_name}} {{detail.middleman_info.name}} 可以扫码核销</view>\r\n                </view>\r\n            </view>\r\n        </scroll-view>\r\n    </app-layout>\r\n</template>\r\n\r\n<script>\r\n    import {mapGetters, mapState} from 'vuex';\r\n    import appHead from \"../components/app-head.vue\";\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                detail: {\r\n                    profit_price: '',\r\n                    total_price: '',\r\n                    total_goods_price: '',\r\n                    total_goods_original_price: '',\r\n                    created_at: '',\r\n                    order_no: '',\r\n                    pay_time: '0000-00-00 00:00:00',\r\n                    send_time: '0000-00-00 00:00:00',\r\n                    confirm_time: '0000-00-00 00:00:00',\r\n                    sale_time: '0000-00-00 00:00:00',\r\n                },\r\n                d: '',\r\n                h: '',\r\n                m: '',\r\n                s: '',\r\n                windowHeight: 0,\r\n                timeInterval: null,\r\n                showQr: false,\r\n                is_user: false,\r\n                show: false,\r\n                iphone_x: false\r\n            }\r\n        },\r\n        components: {\r\n            appHead\r\n        },\r\n        computed: {\r\n            ...mapGetters('mallConfig', {\r\n                getTheme: 'getTheme',\r\n            }),\r\n            ...mapState({\r\n                userInfo: state => state.user.info,\r\n                adminImg: state => state.mallConfig.__wxapp_img.app_admin,\r\n            })\r\n        },\r\n        methods: {\r\n            // 取消 | 申请退款\r\n            cancel(e) {\r\n                let self = this;\r\n                uni.navigateTo({\r\n                    url: '/pages/order/refund/order-refund?id=' + self.detail.id\r\n                });\r\n            },\r\n            toBig() {\r\n                if(this.detail.status_text == '已提货' || this.detail.status_text == '已完成') {\r\n                    return false\r\n                }\r\n                this.showQr = !this.showQr\r\n            },\r\n            toRemind() {\r\n                this.show = !this.show;\r\n            },\r\n            beConfirm() {\r\n                let that = this;\r\n                that.show = false;\r\n                uni.showLoading({\r\n                    title: '确认提货中...'\r\n                });\r\n                that.$request({\r\n                    url: that.is_user ? that.$api.order.confirm : that.$api.community.confirm,\r\n                    data: {\r\n                        id: that.detail.id\r\n                    }\r\n                }).then(response=>{\r\n                    uni.hideLoading();\r\n                    if(response.code == 0) {\r\n                        that.getDetail();\r\n                    }else {\r\n                        uni.showToast({\r\n                            title: response.msg,\r\n                            icon: 'none',\r\n                            duration: 1000\r\n                        });\r\n                    }\r\n                })\r\n            },\r\n            // 订单支付\r\n            orderPay(e) {\r\n                let _this = this;\r\n                _this.$showLoading();\r\n                _this.$request({\r\n                    url: _this.$api.order.list_pay_data,\r\n                    data: {\r\n                        id: this.detail.id\r\n                    }\r\n                }).then(response => {\r\n                    _this.$hideLoading();\r\n                    if (response.code === 0) {\r\n                        _this.$payment.pay(response.data.id).then(() => {\r\n                            // 支付成功\r\n                            uni.redirectTo({\r\n                                url: '/plugins/community/order/order?is_user=1'\r\n                            })\r\n                        }).catch(e => {\r\n                            // 支付失败\r\n                            uni.showModal({\r\n                                title: '',\r\n                                content: e.errMsg,\r\n                                showCancel: false\r\n                            })\r\n                        })\r\n                    }\r\n                }).catch(() => {\r\n                    _this.$hideLoading();\r\n                });\r\n            },\r\n            copy() {\r\n                uni.setClipboardData({\r\n                    data: this.detail.order_no,\r\n                    success() {\r\n                        uni.hideToast();\r\n                        uni.getClipboardData({\r\n                            success() {\r\n                                uni.showToast({\r\n                                    title: '复制成功',\r\n                                    duration: 1000\r\n                                });\r\n                            }\r\n                        })\r\n                    }\r\n                })\r\n            },\r\n            tel() {\r\n                let phoneNumber = this.detail.mobile\r\n                if(this.is_user) {\r\n                    phoneNumber = this.detail.middleman_info.mobile\r\n                }\r\n                uni.makePhoneCall({\r\n                    phoneNumber: phoneNumber\r\n                })\r\n            },\r\n            getDetail() {\r\n                let that = this;\r\n                that.$showLoading({\r\n                    type: 'global',\r\n                    text: '加载中...'\r\n                });\r\n                that.$request({\r\n                    url: that.is_user ? that.$api.community.order_detail : that.$api.community.middle_detail,\r\n                    data: {\r\n                        id: this.id\r\n                    },\r\n                    method: 'post'\r\n                }).then(response=>{\r\n                    uni.hideLoading();\r\n                    that.$hideLoading();\r\n                    if(response.code === 0) {\r\n                        that.detail = response.data.detail;\r\n                        that.getTime(that.detail.cancel_time_stamp);\r\n                        let time = +that.detail.cancel_time_stamp - 1;\r\n                        if(time > 0) {\r\n                            that.timeInterval = setInterval(() =>{\r\n                                time--;\r\n                                if(time < 0) {\r\n                                    clearInterval(that.timeInterval);\r\n                                    that.getDetail();\r\n                                }else {\r\n                                    that.getTime(time);\r\n                                }\r\n                            },1000);\r\n                        }\r\n                    }else {\r\n                        uni.showToast({\r\n                            title: response.msg,\r\n                            icon: 'none',\r\n                            duration: 1000\r\n                        });\r\n                        if(response.msg == '该订单您无权确认') {\r\n                            setTimeout(()=>{\r\n                                uni.redirectTo({\r\n                                    url: '/pages/index/index'\r\n                                });\r\n                            },1000)\r\n                        }\r\n                    }\r\n                }).catch(response => {\r\n                    uni.hideLoading();\r\n                    that.$hideLoading();\r\n                });\r\n            },\r\n            getTime(time) {\r\n                let that = this;\r\n                if(time > 86399) {\r\n                    this.d = Math.floor(time / 86400)\r\n                    time = time - (86400*this.d)\r\n                }else {\r\n                    this.d = 0\r\n                }\r\n                if(time > 3599) {\r\n                    this.h = Math.floor(time / 3600)\r\n                    if(this.h < 10) {\r\n                        this.h = '0' + this.h\r\n                    }\r\n                    time = time - (3600*this.h)\r\n                }else {\r\n                    this.h = '00'\r\n                }\r\n                if(time > 59) {\r\n                    this.m = Math.floor(time / 60)\r\n                    if(this.m < 10) {\r\n                        this.m = '0' + this.m\r\n                    }\r\n                    time = time - (60*this.m)\r\n                }else {\r\n                    this.m = '00';\r\n                }\r\n                if(time < 60) {\r\n                    this.s = time;\r\n                    if(this.s < 10) {\r\n                        this.s = '0' + this.s\r\n                    }\r\n                }\r\n            },\r\n        },\r\n        onHide() {\r\n            clearInterval(this.timeInterval);\r\n        },\r\n        onUnload() {\r\n            clearInterval(this.timeInterval);\r\n        },\r\n        onLoad(options) {\r\n            let that = this;\r\n            if(options.is_user == 1) {\r\n                that.is_user = true\r\n            }\r\n            uni.getSystemInfo({\r\n                success: function (res) {\r\n                    that.windowHeight = res.windowHeight;\r\n                    if(res.model.indexOf('iPhone X') > -1 || res.model.indexOf('iPhone 11') > -1 || res.model.indexOf('iPhone11') > -1 || res.model.indexOf('iPhone12') > -1 || res.model.indexOf('Unknown Device') > -1) {\r\n                        that.iphone_x = true;\r\n                    }\r\n                }\r\n            })\r\n            that.id = options.id;\r\n            that.getDetail();\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n    .bg {\r\n        position: fixed;\r\n        background-color: rgba(0,0,0,.3);\r\n        top: 0;\r\n        left: 0;\r\n        height: 100%;\r\n        width: 100%;\r\n        z-index: 99;\r\n        .dialog {\r\n            width: 480rpx;\r\n            height: 200rpx;\r\n            position: fixed;\r\n            top: 30%;\r\n            left: 50%;\r\n            margin-left: -240rpx;\r\n            background-color: #fff;\r\n            border-radius: 16rpx;\r\n            z-index: 233;\r\n            font-size: 28rpx;\r\n            color: #353535;\r\n            &.qr-dialog {\r\n                top: 230rpx;\r\n                width: 600rpx;\r\n                height: 620rpx;\r\n                border-radius: 16rpx;\r\n                padding: 90rpx 0 56rpx;\r\n                font-size: 32rpx;\r\n                margin-left: -300rpx;\r\n                .close {\r\n                    width: 30rpx;\r\n                    height: 30rpx;\r\n                    right: 103rpx;\r\n                    top: 260rpx;\r\n                    z-index: 234;\r\n                    position: fixed;\r\n                }\r\n                .qr {\r\n                    width: 360rpx;\r\n                    height: 360rpx;\r\n                    display: block;\r\n                    margin-bottom: 30rpx;\r\n                }\r\n                .qr-info {\r\n                    font-size: 26rpx;\r\n                    color: #999999;\r\n                    margin-top: 10rpx;  \r\n                }\r\n            }\r\n            .dialog-content {\r\n                height: 110rpx;\r\n                line-height: 110rpx;\r\n                text-align: center;\r\n            }\r\n            .btn-area {\r\n                height: #{88rpx};\r\n                position: relative;\r\n                border-top: #{2rpx} solid #e2e2e2;\r\n                .line {\r\n                    height: #{32rpx};\r\n                    width: #{1rpx};\r\n                    background-color: #e2e2e2;\r\n                    position: absolute;\r\n                    top: #{28rpx};\r\n                    left: 0;\r\n                    right: 0;\r\n                    margin: 0 auto;\r\n                }\r\n                .submit-btn {\r\n                    height: #{88rpx};\r\n                    line-height: #{88rpx};\r\n                    font-size: #{28rpx};\r\n                    text-align: center;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    .title {\r\n        padding: 20rpx 45rpx;\r\n        margin-top: -320rpx;\r\n        height: 160rpx;\r\n        color: #fff;\r\n        font-size: 26rpx;\r\n        .big-title-text {\r\n            font-size: 36rpx;\r\n        }\r\n        .pick {\r\n            height: 124rpx;\r\n            width: 124rpx;\r\n            border-radius: 50%;\r\n            background-color: #fff;\r\n            color: #353535;\r\n            font-size: 22rpx;\r\n            &.over {\r\n                background-color: #f0f0f0;\r\n                color: #dbdbdb;\r\n                .number {\r\n                    color: #dbdbdb;\r\n                }\r\n            }\r\n            .number {\r\n                font-size: 38rpx;\r\n            }\r\n        }\r\n    }\r\n    .info {\r\n        border-radius: 16rpx;\r\n        width: 702rpx;\r\n        margin: 0 24rpx;\r\n        background-color: #fff;\r\n        position: relative;\r\n        z-index: 10;\r\n        font-size: 24rpx;\r\n        .info-top {\r\n            height: 106rpx;\r\n            padding: 25rpx 24rpx;\r\n            .user-info {\r\n                height: 56rpx;\r\n                .avatar {\r\n                    margin-right: 24rpx;\r\n                    width: 56rpx;\r\n                    height: 56rpx;\r\n                    border-radius: 50%;\r\n                    image {\r\n                        width: 56rpx;\r\n                        height: 56rpx;\r\n                        border-radius: 50%;\r\n                    }\r\n                }\r\n                .user {\r\n                    color: #353535;\r\n                    .user-name {\r\n                        margin-left: 0;\r\n                        display: inline-block;\r\n                        max-width: 100rpx;\r\n                        max-height: 62rpx;\r\n                        overflow: hidden;\r\n                        &.long-name {\r\n                            max-width: 230rpx;\r\n                        }\r\n                    }\r\n                    .middleman-name {\r\n                        margin-left: 10rpx;\r\n                        font-size: 20rpx;\r\n                        height: 30rpx;\r\n                        line-height: 26rpx;\r\n                        padding: 0 5rpx;\r\n                        display: inline-block;\r\n                        border-radius: 10rpx;\r\n                        border: 2rpx solid;\r\n                        margin-top: 2rpx;\r\n                        position: relative;\r\n                        white-space: nowrap;\r\n                        .middleman-bg {\r\n                            border-radius: 10rpx;\r\n                            position: absolute;\r\n                            top: 0;\r\n                            left: 0;\r\n                            opacity: 0.1;\r\n                            height: 100%;\r\n                            width: 100%;\r\n                        }\r\n                    }\r\n                    text {\r\n                        margin-left: 25rpx;\r\n                    }\r\n                }\r\n            }\r\n            .detail-btn {\r\n                height: 56rpx;\r\n                line-height: 56rpx;\r\n                image {\r\n                    height: #{28rpx};\r\n                    width: #{28rpx};\r\n                    display: block;\r\n                    margin-top: #{14rpx};\r\n                    margin-right: #{10rpx};\r\n                    float: left;\r\n                }\r\n            }\r\n        }\r\n        .info-bottom {\r\n            border-top: 2rpx solid #e2e2e2;\r\n            padding: 18rpx 24rpx;\r\n            image {\r\n                width: 19rpx;\r\n                height: 25rpx;\r\n                margin-right: 10rpx;\r\n            }\r\n        }\r\n    }\r\n    .item-card {\r\n        padding: #{24rpx};\r\n        background-color: #fff;\r\n        margin: #{24rpx};\r\n        margin-bottom: 0;\r\n        border-radius: #{16rpx};\r\n        position: relative;\r\n        &.send {\r\n            margin: #{24rpx};\r\n            margin-top: 0;\r\n        }\r\n        .line {\r\n            height: 180rpx;\r\n            width: 2rpx;\r\n            position: absolute;\r\n            left: 50%;\r\n            top: 10rpx;\r\n            background-color: #e2e2e2;\r\n            margin-left: -1rpx;\r\n        }\r\n        .send-info {\r\n            width: 303rpx;\r\n            height: 152rpx;\r\n            text-align: center;\r\n            color: #353535;\r\n            font-size: 24rpx;\r\n            .send-no {\r\n                font-size: 38rpx;\r\n                height: 135rpx;\r\n                line-height: 135rpx;\r\n            }\r\n            .qr {\r\n                display: block;\r\n                height: 100rpx;\r\n                width: 100rpx;\r\n                margin-top: 10rpx;\r\n            }\r\n        }\r\n        .total-price {\r\n            font-size: 28rpx;\r\n        }\r\n        .goods-title {\r\n            color: #353535;\r\n            font-size: #{24rpx};\r\n            height: 30rpx;\r\n            image {\r\n                width: 30rpx;\r\n                height: 30rpx;\r\n                margin-right: 14rpx;\r\n                display: block;\r\n            }\r\n            .number {\r\n                font-size: 32rpx;\r\n            }\r\n        }\r\n        .goods {\r\n            height: #{160rpx};\r\n            margin-top: #{24rpx};\r\n            position: relative;\r\n            font-size: #{24rpx};\r\n            color: #353535;\r\n            margin-bottom: #{24rpx};\r\n            .goods-img {\r\n                height: #{160rpx};\r\n                width: #{160rpx};\r\n                float: left;\r\n                margin-right: #{24rpx};\r\n                border-radius: #{4rpx};\r\n            }\r\n            .goods-name {\r\n                font-size: 26rpx;\r\n            }\r\n            .goods-attr {\r\n                color: #999;\r\n                width: 70%;\r\n                position: absolute;\r\n                top: #{78rpx};\r\n                left: #{180rpx};\r\n                text {\r\n                    margin-right: #{20rpx};\r\n                }\r\n            }\r\n            .goods-num {\r\n                font-size: #{24rpx};\r\n                color: #999;\r\n                position: absolute;\r\n                top: #{126rpx};\r\n                left: #{180rpx};\r\n            }\r\n            .goods-price {\r\n                font-size: #{24rpx};\r\n                color: #353535;\r\n                position: absolute;\r\n                bottom: 0;\r\n                right: 0;\r\n            }\r\n        }\r\n        .refund {\r\n            margin-bottom: #{40rpx};\r\n            .refund-btn {\r\n                width: #{168rpx};\r\n                text-align: center;\r\n                height: #{56rpx};\r\n                line-height: #{54rpx};\r\n                font-size: #{26rpx};\r\n                color: #666666;\r\n                border: #{2rpx} solid #e2e2e2;\r\n                border-radius: #{28rpx};\r\n            }\r\n        }\r\n        .price-item {\r\n            margin-bottom: #{10rpx};\r\n            font-size: #{24rpx};\r\n            color: #353535;\r\n            .price-label {\r\n                color: #999;\r\n                font-size: #{24rpx};\r\n            }\r\n        }\r\n        .time-info {\r\n            margin-top: 25rpx;\r\n            color: #353535;\r\n            font-size: #{24rpx};\r\n            &:first-of-type {\r\n                margin-top: 0;\r\n            }\r\n            .copy-btn {\r\n                position: absolute;\r\n                top: 12rpx;\r\n                right: 24rpx;\r\n                height: 60rpx;\r\n                border-radius: 30rpx;\r\n                line-height: 58rpx;\r\n                padding: 0 30rpx;\r\n                border: 2rpx solid #e2e2e2;\r\n            }\r\n        }\r\n    }\r\n    .bottom-place {\r\n        height: #{120rpx};\r\n        &.iphone_x {\r\n            height: #{170rpx};\r\n        }\r\n    }\r\n    .bottom-total-price {\r\n        height: #{96rpx};\r\n        line-height: 96rpx;\r\n        position: fixed;\r\n        bottom: 0;\r\n        width: 50%;\r\n        left: 30rpx;\r\n        z-index: 14;\r\n        font-size: 32rpx;\r\n        &.iphone_x {\r\n            height: #{146rpx};\r\n            line-height: 146rpx;\r\n            padding-bottom: #{50rpx};\r\n        }\r\n    }\r\n    .btn {\r\n        height: #{96rpx};\r\n        position: fixed;\r\n        bottom: 0;\r\n        width: 100%;\r\n        right: 0;\r\n        border-top: #{1rpx} solid #e2e2e2;\r\n        z-index: 10;\r\n        padding: #{24rpx};\r\n        background-color: #fff;\r\n        &.iphone_x {\r\n            height: #{146rpx};\r\n            padding-bottom: #{50rpx};\r\n        }\r\n        .handle-btn {\r\n            height: #{48rpx};\r\n            line-height: #{46rpx};\r\n            padding: 0 #{24rpx};\r\n            border-radius: #{24rpx};\r\n            border: #{2rpx} solid;\r\n            font-size: #{24rpx};\r\n            margin-left: #{16rpx};\r\n            display: inline-block;\r\n        }\r\n    }\r\n\r\n</style>","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order-detail.vue?vue&type=style&index=0&id=7bdb58fc&scoped=true&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order-detail.vue?vue&type=style&index=0&id=7bdb58fc&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1608184839593\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}