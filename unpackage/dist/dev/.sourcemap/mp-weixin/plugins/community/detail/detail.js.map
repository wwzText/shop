{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/community/detail/detail.vue?2632","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/community/detail/detail.vue?b78d","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/community/detail/detail.vue?a4d3","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/community/detail/detail.vue?f4c2","uni-app:///plugins/community/detail/detail.vue","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/community/detail/detail.vue?dd70","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/community/detail/detail.vue?0613"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,6G;AACAA,UAAU,CAACC,eAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+H;AAC/H;AAC0D;AACL;AACsC;;;AAG3F;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,6FAAM;AACR,EAAE,sGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,iGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAgmB,CAAgB,0nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACmFpnB,gD;;;AAGA;AACA,MADA,kBACA;AACA;AACA,wBADA;AAEA,sBAFA;AAGA,WAHA;AAIA,qBAJA;AAKA,cALA;AAMA,eANA;AAOA,qBAPA;AAQA,kBARA;AASA,WATA;AAUA,WAVA;AAWA,WAXA;AAYA,2BAZA;AAaA,iBAbA;;AAeA,GAjBA;AAkBA;AACA,kCADA,EAlBA;;AAqBA;AACA;AACA,wBADA,GADA;;AAIA;AACA,6EADA;AAEA,kFAFA;AAGA,8EAHA;AAIA,mFAJA,GAJA,CArBA;;;AAgCA;AACA;AACA;AACA;AACA;AACA,oBADA;AAEA,oBAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBArBA;;AAuBA,KAxBA,EAwBA,CAxBA;AAyBA,GAlEA;AAmEA;AACA;AACA,+GADA;AAEA,gGAFA;AAGA,kDAHA;AAIA;AACA,mBADA,EAJA;;;AAQA,GA5EA;AA6EA,QA7EA,oBA6EA;AACA;AACA,GA/EA;AAgFA,UAhFA,sBAgFA;AACA;AACA,GAlFA;AAmFA;AACA,QADA,kBACA;AACA;AACA;AACA;AACA;AACA;AACA,gCADA;AAEA,wBAFA;AAGA,sBAHA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBADA;AAEA,eAFA,qBAEA;AACA;AACA;AACA,mBADA,qBACA;AACA;AACA,6BADA;AAEA,8BAFA;;AAIA,aANA;;AAQA,SAZA;;AAcA,KAtDA;AAuDA,cAvDA,sBAuDA,IAvDA,EAuDA;AACA;AACA;AACA,uCADA;AAEA;AACA,8BADA;AAEA,2BAFA,EAFA;;AAMA,sBANA;AAOA,UAPA,CAOA;AACA;AACA;AACA,6BADA;AAEA,sBAFA;AAGA,wBAHA;;AAKA,OAdA;AAeA,KAxEA;AAyEA,WAzEA,qBAyEA;AACA;AACA,4EADA;;AAGA,KA7EA;AA8EA,YA9EA,sBA8EA;AACA;AACA,6DADA;;AAGA,KAlFA;AAmFA,WAnFA,mBAmFA,IAnFA,EAmFA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA,KAtGA;AAuGA,cAvGA,wBAuGA;AACA;AACA;AACA,wCADA;AAEA,UAFA,CAEA;AACA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA,+BADA;AAEA,wBAFA;AAGA,0BAHA;;AAKA;AACA,OAbA,EAaA,KAbA,CAaA;AACA;AACA,OAfA;AAgBA,KAzHA;AA0HA,YA1HA,sBA0HA;AACA;AACA;AACA,4CADA;AAEA;AACA,mBADA;AAEA,sCAFA;AAGA,0BAHA,EAFA;;AAOA,UAPA,CAOA;AACA;AACA,OATA;AAUA,KAtIA;AAuIA,WAvIA,qBAuIA;AACA;AACA;AACA,gDADA;AAEA;AACA,qBADA,EAFA;;AAKA,sBALA;AAMA,UANA,CAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAPA,EAOA,IAPA;AAQA,WAVA,MAUA;AACA;AACA;AACA;AACA,SApBA,MAoBA;AACA;AACA,+BADA;AAEA,wBAFA;AAGA,0BAHA;;AAKA;AACA,OApCA,EAoCA,KApCA,CAoCA;AACA;AACA;AACA,OAvCA;AAwCA,KAjLA,EAnFA,E;;;;;;;;;;;;;ACtFA;AAAA;AAAA;AAAA;AAA0nC,CAAgB,omCAAG,EAAC,C;;;;;;;;;;;ACA9oC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"plugins/community/detail/detail.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './plugins/community/detail/detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail.vue?vue&type=template&id=5ca9149c&scoped=true&\"\nvar renderjs\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&id=5ca9149c&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ca9149c\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"plugins/community/detail/detail.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=template&id=5ca9149c&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.showShare = true\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=script&lang=js&\"","<template>\r\n    <app-layout>\r\n        <view class=\"status\" :class=\"activity.condition > 0 ? 'start':'cross-center'\" v-if=\"activity.activity_status == 1\">\r\n            <view class=\"main-between cross-center status-up\">\r\n                <view v-if=\"activity.condition == 0\" style=\"color: #999\">\r\n                    {{activity.user_num}}人已抢{{activity.all_sales}}件\r\n                </view>\r\n                <view v-else class=\"condition\">\r\n                    <text v-if=\"activity.num - activity.condition_count > 0\">\r\n                        还差{{activity.num - activity.condition_count}}{{activity.condition === 1 ? '人':'件'}}\r\n                    </text>\r\n                    拼团成功\r\n                </view>\r\n                <view class=\"status\">{{status_text}}</view>\r\n            </view>\r\n            <view v-if=\"activity.condition > 0\" class=\"main-between cross-center status-down\" >\r\n                <view class=\"progress\">\r\n                    <view :style=\"{'width': `${activity.rate}%`,'backgroundImage':`url(${bonusImg.progress})`}\"></view>\r\n                </view>\r\n                <view style=\"color: #999\">\r\n                    {{activity.condition_count ? activity.user_num : 0}}人已抢{{activity.all_sales}}件\r\n                </view>\r\n            </view>\r\n        </view>\r\n        <view class=\"status\" v-else>\r\n            <text v-if=\"activity.activity_status == 2\">本次活动已结束</text>\r\n            <text v-if=\"activity.activity_status == 0\">距离本次活动开始还有{{d > 0? d + '天': ''}}{{h > 0? h + '时': ''}}{{m > 0? m + '分': ''}}</text>\r\n        </view>\r\n        <view class=\"goods-list\">\r\n            <view class=\"dir-left-nowrap item\" v-for=\"item in list\" :key=\"item.id\">\r\n                <view class=\"goods-cover\">\r\n                    <view v-if=\"item.goods_stock == 0\" class=\"out-dialog\">\r\n                        <image :src=\"appSetting.is_use_stock == '1' ? appImg.plugins_out : appSetting.sell_out_pic\"></image>\r\n                    </view>\r\n                    <image :src=\"item.cover_pic\"></image>\r\n                </view>\r\n                <view @click=\"switchGood(item)\" v-if=\"activity.activity_status < 2\" class=\"goods-switch\">\r\n                    <switch :color=\"themeColor\" :checked=\"item.switch\" />\r\n                </view>\r\n                <view class=\"goods-info\">\r\n                    <view class=\"goods-name t-omit\">{{item.name}}</view>\r\n                    <view class=\"goods-profit\" :class=\"getTheme + '-m-text ' + getTheme +' '+getTheme+'-m-border'\">预计利润 \r\n                        <text v-if=\"item.use_attr === 1\">￥{{item.profit_price.min_price}}-{{item.profit_price.max_price}}</text>\r\n                        <text v-else>￥{{item.profit_price}}</text>\r\n                    </view>\r\n                    <view>库存:{{item.goods_stock}}{{item.goodsWarehouse.unit}}</view>\r\n                    <view :style=\"{'color': `${activity.activity_status == 0 ? '#ffffff': '#666'}`}\">{{item.sales}}</view>\r\n                    <view class=\"goods-price\" :class=\"getTheme + '-m-text ' + getTheme\">￥{{item.min_price}}</view>\r\n                </view>\r\n            </view>\r\n        </view>\r\n        <!--空格区域-->\r\n        <view class=\"safe-area-inset-bottom\">\r\n            <view class=\"u-bottom-height\"></view>\r\n        </view>\r\n        <!--底部按钮-->\r\n        <view class=\"safe-area-inset-bottom u-bottom-fixed\">\r\n            <view class=\"bottom-menu dir-left-nowrap\">\r\n                <view class=\"menu-btn-area dir-left-nowrap\">\r\n                    <view @click=\"toOrder\" class=\"menu-btn box-grow-1 dir-top-nowrap main-center cross-center\">\r\n                        <image src=\"./../image/order.png\"></image>\r\n                        <view>团购订单</view>\r\n                    </view>\r\n                    <view @click=\"toRecord\" class=\"menu-btn box-grow-1 dir-top-nowrap main-center cross-center\">\r\n                        <image src=\"./../image/data.png\"></image>\r\n                        <view>数据</view>\r\n                    </view>\r\n                    <view @click=\"copy\" v-if=\"activity.activity_status > 0\" class=\"menu-btn box-grow-1 dir-top-nowrap main-center cross-center\">\r\n                        <image src=\"./../image/long.png\"></image>\r\n                        <view>复制接龙</view>\r\n                    </view>\r\n                </view>\r\n                <view class=\"status-btn\">\r\n                    <button :class=\"getTheme + '-m-back ' + getTheme\" @click=\"showShare=true\" v-if=\"(activity.activity_status == 2 && activity.is_success == 1) || activity.activity_status == 1 || activity.activity_status == 0\" class=\"share\">推广到群聊</button>\r\n                    <view v-if=\"activity.activity_status == 2 && activity.is_success == 0\" class=\"lose\">活动失败</view>\r\n                </view>\r\n            </view>\r\n        </view>\r\n        <app-share-qr-code :posterUrl=\"'/plugins/community/poster/poster?activity_id='+id + '&middleman_id=0'\" hasPosterNav=\"true\" v-model=\"showShare\" :url=\"poster\" title=\"生成活动海报\"></app-share-qr-code>\r\n    </app-layout>\r\n</template>\r\n\r\n<script>\r\n    import {mapGetters, mapState} from 'vuex';\r\n    import appShareQrCode from '../../../components/page-component/app-share-qr-code-poster/app-share-qr-code-poster.vue';\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                timeInterval: null,\r\n                showShare: false,\r\n                id: 0,\r\n                middleman_id: 0,\r\n                list: [],\r\n                order: [],\r\n                status_text: '',\r\n                activity: {},\r\n                d: '',\r\n                h: '',\r\n                m: '',\r\n                themeColor: '#ff4544',\r\n                setting: {}\r\n            }\r\n        },\r\n        components: {\r\n            appShareQrCode\r\n        },\r\n        computed: {\r\n            ...mapGetters('mallConfig', {\r\n                getTheme: 'getTheme',\r\n            }),\r\n            ...mapState({\r\n                stock: state => state.mallConfig.__wxapp_img.stock,\r\n                appSetting: state => state.mallConfig.mall.setting,\r\n                appImg: state => state.mallConfig.__wxapp_img.mall,\r\n                bonusImg: state => state.mallConfig.__wxapp_img.bonus,\r\n            })\r\n        },\r\n        onLoad: function (options) {\r\n            let that = this;\r\n            that.id = options.id;\r\n            that.middleman_id = options.middleman_id;\r\n            that.$showLoading({\r\n                type: 'global',\r\n                text: '加载中...'\r\n            });\r\n            that.getSetting();\r\n            setTimeout(function(){\r\n                switch(that.getTheme) {\r\n                    case 'b':\r\n                        that.themeColor = '#fcc600';\r\n                        break;\r\n                    case 'c':\r\n                        that.themeColor = '#ff547b';\r\n                        break;\r\n                    case 'd':\r\n                        that.themeColor = '#ddb766';\r\n                        break;\r\n                    case 'e':\r\n                        that.themeColor = '#7783ea';\r\n                        break;\r\n                    case 'g':\r\n                        that.themeColor = '#63be72';\r\n                        break;\r\n                    case 'h':\r\n                        that.themeColor = '#4a90e2';\r\n                        break;\r\n                    case 'i':\r\n                        that.themeColor = '#333333';\r\n                        break;\r\n                }\r\n            },0)\r\n        },\r\n        onShareAppMessage: function() {\r\n            return this.$shareAppMessage({\r\n                title: this.setting.app_share_title ? this.setting.app_share_title : this.$children[0].navigationBarTitle,\r\n                imageUrl: this.setting.app_share_pic ? this.setting.app_share_pic : this.list[0].cover_pic,\r\n                path: \"/plugins/community/activity/activity\",\r\n                params: {\r\n                    id: this.id\r\n                }\r\n            });\r\n        },\r\n        onHide() {\r\n            clearInterval(this.timeInterval);\r\n        },\r\n        onUnload() {\r\n            clearInterval(this.timeInterval);\r\n        },\r\n        methods: {\r\n            copy() {\r\n                let that = this;\r\n                let order = '';\r\n                let no;\r\n                if(that.order.length === 0) {\r\n                    uni.showToast({\r\n                        title: '暂无订单，复制接龙文本失败',\r\n                        duration: 1000,\r\n                        icon: 'none'\r\n                    });\r\n                    return false;\r\n                }\r\n                for(let i = 0;i < that.order.length;i++) {\r\n                    no = i + 1\r\n                    if(no > 1) {\r\n                        order += '\\n\\n';\r\n                    }\r\n                    if(no < 10) {\r\n                        order += \"【00\"+no+\"】\\n\";\r\n                    }else if(no < 100) {\r\n                        order += \"【0\"+no+\"】\\n\";\r\n                    }else if(no < 1000) {\r\n                        order += \"【\"+no+\"】\\n\";\r\n                    }\r\n                    order += \"用户昵称：\"+that.order[i].name+\"\\n商品名称：\";\r\n                    for(let idx in that.order[i].list) {\r\n                        if(idx > 0) {\r\n                            order += \"、\";\r\n                        }\r\n                        order += that.order[i].list[idx].goods + \"（\";\r\n                        for(let index in that.order[i].list[idx].attr) {\r\n                            if(index > 0) {\r\n                                order += \"/\";\r\n                            }\r\n                            order += that.order[i].list[idx].attr[index].attr_name;\r\n                        }\r\n                        order += \"） x\" + that.order[i].list[idx].num;\r\n                    }\r\n                }\r\n                uni.setClipboardData({\r\n                    data: order,\r\n                    success() {\r\n                        uni.hideToast();\r\n                        uni.getClipboardData({\r\n                            success() {\r\n                                uni.showToast({\r\n                                    title: '复制成功',\r\n                                    duration: 1000\r\n                                });\r\n                            }\r\n                        })\r\n                    }\r\n                })\r\n            },\r\n            switchGood(item) {\r\n                let that = this;\r\n                that.$request({\r\n                    url: that.$api.community.switch,\r\n                    data: {\r\n                        activity_id: that.id,\r\n                        goods_id: item.id\r\n                    },\r\n                    method: 'post'\r\n                }).then(response=>{\r\n                    uni.hideLoading();\r\n                    uni.showToast({\r\n                        title: response.msg,\r\n                        icon: 'none',\r\n                        duration: 1000\r\n                    });\r\n                })\r\n            },\r\n            toOrder() {\r\n                uni.redirectTo({\r\n                    url: '/plugins/community/order/order?keyword=' + this.activity.title\r\n                });\r\n            },\r\n            toRecord() {\r\n                uni.navigateTo({\r\n                    url: '/plugins/community/record/record?id=' +this.id\r\n                });\r\n            },\r\n            getTime(time) {\r\n                if(time > 86399) {\r\n                    this.d = Math.floor(time / 86400);\r\n                    time = time - (86400*this.d);\r\n                }else {\r\n                    this.d = 0;\r\n                }\r\n                if(time > 3599) {\r\n                    this.h = Math.floor(time / 3600);\r\n                    time = time - (3600*this.h);\r\n                }else {\r\n                    this.h = 0;\r\n                }\r\n                if(time > 59) {\r\n                    this.m = Math.floor(time / 60);\r\n                    time = time - (60*this.m);\r\n                }else {\r\n                    this.m = 0;\r\n                }\r\n            },\r\n            getSetting() {\r\n                let that = this;\r\n                that.$request({\r\n                    url: that.$api.community.setting,\r\n                }).then(response=>{\r\n                    if(response.code === 0) {\r\n                        that.setting = response.data;\r\n                        that.getList();\r\n                    }else {\r\n                        uni.showToast({\r\n                            title: response.msg,\r\n                            icon: 'none',\r\n                            duration: 1000\r\n                        });\r\n                    }\r\n                }).catch(() => {\r\n                    that.$hideLoading();\r\n                });\r\n            },\r\n            getOrder() {\r\n                let that = this;\r\n                that.$request({\r\n                    url: that.$api.community.middle_list,\r\n                    data: {\r\n                        status: 0,\r\n                        keyword: that.activity.title,\r\n                        is_pagination: 2\r\n                    },\r\n                }).then(response=>{\r\n                    this.order = response.data.list;\r\n                })\r\n            },\r\n            getList() {\r\n                let that = this;\r\n                that.$request({\r\n                    url: that.$api.community.activity_detail,\r\n                    data: {\r\n                        id: that.id\r\n                    },\r\n                    method: 'post'\r\n                }).then(response=>{\r\n                    uni.hideLoading();\r\n                    that.$hideLoading();\r\n                    if(response.code === 0) {\r\n                        that.activity = response.data.activity;\r\n                        that.list = response.data.list;\r\n                        for(let i in that.list) {\r\n                            that.list[i].check = true;\r\n                        }\r\n                        if(that.activity.activity_status == 0) {\r\n                            let time = that.activity.time - 1;\r\n                            that.timeInterval = setInterval(() =>{\r\n                                that.getTime(time);\r\n                                time--;\r\n                                if(time == 0) {\r\n                                    clearInterval(that.timeInterval);\r\n                                    that.getList();\r\n                                }\r\n                            },1000);\r\n                        }else {\r\n                            that.status_text = that.activity.end_at.slice(5) + '结束';\r\n                            that.getOrder();\r\n                        }\r\n                    }else {\r\n                        uni.showToast({\r\n                            title: response.msg,\r\n                            icon: 'none',\r\n                            duration: 1000\r\n                        });\r\n                    }\r\n                }).catch(() => {\r\n                    uni.hideLoading();\r\n                    that.$hideLoading();\r\n                });\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n    .status {\r\n        height: 96rpx;\r\n        line-height: 96rpx;\r\n        background-color: #fff;\r\n        padding: 0 24rpx;\r\n        font-size: 24rpx;\r\n        &.start {\r\n            height: 140rpx;\r\n            padding-top: 30rpx\r\n        }\r\n        .status-up,.status-down {\r\n            height: 50rpx;\r\n            line-height: 50rpx;\r\n            font-size: 24rpx;\r\n            width: 100%;\r\n            view {\r\n                height: 50rpx;\r\n                line-height: 50rpx;\r\n            }\r\n            .progress {\r\n                width: #{430rpx};\r\n                background-color: #f0f0f0;\r\n                border-radius: #{10rpx};\r\n                height: #{20rpx};\r\n                position: relative;\r\n                overflow: hidden;\r\n                view {\r\n                    border-radius: #{10rpx};\r\n                    height: #{20rpx};\r\n                    position: absolute;\r\n                    top: 0;\r\n                    left: 0;\r\n                    z-index: 2;\r\n                }\r\n            }\r\n            .condition {\r\n                font-size: 28rpx;\r\n                color: #353535;\r\n            }\r\n            .status {\r\n                font-size: 26rpx;\r\n                color: #ff4544;\r\n                padding-right: 0;\r\n            }\r\n        }\r\n    }\r\n    .goods-list {\r\n        padding: 0 24rpx;\r\n        .item {\r\n            height: 220rpx;\r\n            width: 702rpx;\r\n            margin-top: 20rpx;\r\n            background-color: #fff;\r\n            border-radius: 16rpx;\r\n            position: relative;\r\n            .goods-switch {\r\n                position: absolute;\r\n                right: 24rpx;\r\n                bottom: 24rpx;\r\n                transform:scale(0.7)\r\n            }\r\n            .goods-cover {\r\n                flex-shrink: 0;\r\n                width: 220rpx;\r\n                height: 220rpx;\r\n                border-radius: 16rpx;\r\n                margin-right: 20rpx;\r\n                position: relative;\r\n                .out-dialog {\r\n                    width: #{220rpx};\r\n                    height: #{220rpx};\r\n                    border-radius: #{16rpx};\r\n                    position: absolute;\r\n                    top: 0;\r\n                    left: 0;\r\n                    z-index: 10;\r\n                    background-color: rgba(0,0,0,.5);\r\n                    image {\r\n                        width: #{220rpx};\r\n                        height: #{220rpx};\r\n                        border-radius: #{16rpx};\r\n                    }\r\n                }\r\n                image {\r\n                    width: 100%;\r\n                    height: 100%;\r\n                    border-radius: 16rpx;\r\n                }\r\n            }\r\n            .goods-info {\r\n                padding-top: 20rpx;\r\n                font-size: 20rpx;\r\n                color: #666;\r\n                .goods-name {\r\n                    font-size: 28rpx;\r\n                    width: 440rpx;\r\n                    color: #353535;\r\n                }\r\n                .goods-profit {\r\n                    display: inline-block;\r\n                    padding: 0 4rpx;\r\n                    border: 2rpx solid;\r\n                    border-radius: 8rpx;\r\n                    margin: 12rpx 0 8rpx;\r\n                    font-size: 22rpx;\r\n                    height: 30rpx;\r\n                    line-height: 28rpx;\r\n                }\r\n                .goods-price {\r\n                    font-size: 32rpx;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    .u-bottom-height {\r\n        height: 130upx;\r\n    }\r\n    .bottom-menu {\r\n        width: 100%;\r\n        height: 110rpx;\r\n        font-size: 20rpx;\r\n        .menu-btn-area {\r\n            width: 50%;\r\n            height: 110rpx;\r\n            .menu-btn {\r\n                height: 110rpx;\r\n                color: #999;\r\n                border-right: 2rpx solid #e2e2e2;\r\n                width: 25%;\r\n                &:last-of-type {\r\n                    border-right: 0;\r\n                }\r\n                image {\r\n                    width: 40rpx;\r\n                    height: 40rpx;\r\n                    margin-bottom: 5rpx;\r\n                }\r\n            }\r\n        }\r\n        .status-btn {\r\n            width: 50%;\r\n            height: 110rpx;\r\n            text-align: center;\r\n            line-height: 110rpx;\r\n            .lose {\r\n                width: 100%;\r\n                height: 100%;\r\n                background-color: #999999;\r\n                color: #fff;\r\n                font-size: 28rpx;\r\n            }\r\n            .share {\r\n                width: 100%;\r\n                height: 100%;\r\n                line-height: 110rpx;\r\n                color: #fff;\r\n                border-radius: 0;\r\n                font-size: 28rpx;\r\n            }\r\n        }\r\n    }\r\n    .u-bottom-fixed {\r\n        position: fixed;\r\n        bottom: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        z-index: 1500;\r\n        background-color: #ffffff;\r\n    }\r\n</style>","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=0&id=5ca9149c&scoped=true&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=0&id=5ca9149c&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1611297834612\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}