{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/community/poster/poster.vue?ad0e","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/community/poster/poster.vue?2348","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/community/poster/poster.vue?9a64","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/community/poster/poster.vue?5a1d","uni-app:///plugins/community/poster/poster.vue","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/community/poster/poster.vue?ed71","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/community/poster/poster.vue?c21d"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,6G;AACAA,UAAU,CAACC,eAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+H;AAC/H;AAC0D;AACL;AACsC;;;AAG3F;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,6FAAM;AACR,EAAE,sGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,iGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC1BA;AAAA;AAAA;AAAA;AAAgmB,CAAgB,0nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC6EpnB,gD;;AAEA;AACA,eADA;AAEA,MAFA,kBAEA;AACA;AACA;AACA,oBADA;AAEA,gBAFA;AAGA;AACA,oBADA;AAEA,gBAFA,EAHA;AAMA;AACA,oBADA;AAEA,gBAFA,EANA;AASA;AACA,oBADA;AAEA,gBAFA,EATA,CADA;;AAcA,kBAdA;AAeA,sBAfA;AAgBA;AACA,iBADA;AAEA,iCAFA,EAhBA;;AAoBA,iBApBA;AAqBA,cArBA;AAsBA,kBAtBA;AAuBA,mBAvBA;AAwBA,YAxBA;AAyBA,kBAzBA;AA0BA,mBA1BA;AA2BA,eA3BA;AA4BA,oBA5BA;AA6BA,qBA7BA;;AA+BA,GAlCA;AAmCA;AACA;AACA,wBADA,GADA;;AAIA;AACA,yFADA,GAJA,CAnCA;;;AA2CA,QA3CA,kBA2CA,OA3CA,EA2CA;AACA;AACA;AACA;AACA;AACA,aADA,mBACA,GADA,EACA;AACA;AACA,OAHA;;AAKA;AACA,GArDA;;AAuDA;AACA,YADA,oBACA,IADA,EACA,GADA,EACA,CADA,EACA,IADA,EACA,CADA,EACA,CADA,EACA,CADA,EACA,MADA,EACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAhBA,MAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAzDA;AA0DA,iBA1DA,yBA0DA,GA1DA,EA0DA,CA1DA,EA0DA,CA1DA,EA0DA,KA1DA,EA0DA,MA1DA,EA0DA,MA1DA,EA0DA,SA1DA,EA0DA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,0CARA,CAQA;AACA;AACA;AACA,KArEA;AAsEA,mBAtEA,2BAsEA,GAtEA,EAsEA,CAtEA,EAsEA,CAtEA,EAsEA,KAtEA,EAsEA,MAtEA,EAsEA,MAtEA,EAsEA,SAtEA,EAsEA,WAtEA,EAsEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qCARA,CAQA;AACA;AACA;AACA;AACA,KAlFA;;AAoFA,qBApFA,6BAoFA,GApFA,EAoFA,KApFA,EAoFA,MApFA,EAoFA,MApFA,EAoFA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KA9GA;AA+GA,YA/GA,sBA+GA;AACA;AACA;AACA,uCADA;AAEA;AACA,uCADA;AAEA,yCAFA,EAFA;;AAMA,UANA,CAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBADA;AAEA,oBAFA;AAGA;AACA,wBADA;AAEA,oBAFA,EAHA;;AAOA;AACA,0CADA;AAEA,0DAFA;AAGA,mBAHA;;AAKA;AACA;AACA;AACA,kBADA,CACA,0BADA;AAEA,gBAFA,CAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;AAsBA,aAhCA;;AAkCA,WApCA;AAqCA,SAvDA,MAuDA;AACA;AACA;AACA,OAlEA;AAmEA,KApLA;AAqLA,eArLA,uBAqLA,KArLA,EAqLA;AACA;AACA;AACA;;AAEA;;;;;;AAMA,OARA;AASA,KAjMA;AAkMA,cAlMA,sBAkMA,KAlMA,EAkMA;AACA;AACA;AACA;;AAEA;;;;;;AAMA,OARA;AASA,KA9MA;AA+MA,eA/MA,uBA+MA,KA/MA,EA+MA;AACA;AACA;AACA;;AAEA;;;;;;AAMA,OARA;AASA,KA3NA;AA4NA;AACA;AACA;AACA;;AAEA,2BAFA;;;;;;;;;;;AAaA;;AAEA;AACA,iCADA;AAEA;AACA;AACA,gCADA;AAEA;AACA;AACA,iBAJA;AAKA;AACA;AACA;AACA,iCADA;AAEA,+CAFA;AAGA,uCAHA;AAIA,6BAJA,mBAIA,GAJA,EAIA;AACA;AACA;AACA,mCADA,mBACA,WADA,EACA;AACA;AACA;AACA,0DADA;AAEA;AACA;AACA,mCAJA;;AAMA,+BAPA,MAOA;AACA;AACA,6CADA;AAEA,yDAFA;AAGA,mDAHA;;AAKA;AACA,6BAhBA;;AAkBA;AACA,uBAzBA;;AA2BA;AACA,iBAnCA;AAoCA;AACA;AACA,iBAtCA;;AAwCA,aA3CA;AA4CA;AACA;AACA,+BADA;AAEA,iCAFA;AAGA,iCAHA;;AAKA,aAlDA;AAmDA;AACA;AACA,aArDA;;;;;;;;;;;;;;;;;;;;;;;AA4EA,SA3FA;;AA6FA,KA5TA;;AA8TA,WA9TA,mBA8TA,MA9TA,EA8TA,GA9TA,EA8TA,GA9TA,EA8TA;AACA;AACA;AACA,sBADA;AAEA,sBAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OALA,MAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAHA;AAIA;AACA,KA3VA;AA4VA,eA5VA,uBA4VA,MA5VA,EA4VA,GA5VA,EA4VA,GA5VA,EA4VA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAlBA,MAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAlBA,MAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAlBA,MAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA;AAGA,SAfA;AAgBA,OA5BA;AA6BA,KAxcA;AAycA,YAzcA,oBAycA,MAzcA,EAycA,GAzcA,EAycA,CAzcA,EAycA,CAzcA,EAycA,IAzcA,EAycA,QAzcA,EAycA,OAzcA,EAycA,OAzcA,EAycA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAhBA;AAiBA,KAheA;AAieA,aAjeA,qBAieA,MAjeA,EAieA,GAjeA,EAieA,GAjeA,EAieA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAdA;AAeA;AACA,OArBA,MAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAhBA,CAgBA;AACA,gEAjBA,CAiBA;AACA,oIAlBA,CAkBA;AACA,4FAnBA,CAmBA;AACA,oEApBA,CAoBA;AACA,wDArBA,CAqBA;AACA,oFAtBA,CAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WA5CA;AA6CA;AACA;AACA,OAvDA,MAuDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAbA,CAaA;AACA,0HAdA,CAcA;AACA,0JAfA,CAeA;AACA,0GAhBA,CAgBA;AACA,8EAjBA,CAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WArCA;AAsCA;AACA;AACA,OA/CA,MA+CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAZA,CAYA;AACA,gHAbA,CAaA;AACA,gJAdA,CAcA;AACA,gGAfA,CAeA;AACA,oEAhBA,CAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WArCA;AAsCA;AACA;AACA,OAhDA,MAgDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CArBA,CAqBA;AACA,gHAtBA,CAsBA;AACA,gJAvBA,CAuBA;AACA,gGAxBA,CAwBA;AACA,oEAzBA,CAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WA7CA;AA8CA;AACA;AACA,KA5sBA,EAvDA,E;;;;;;;;;;;;;AC/EA;AAAA;AAAA;AAAA;AAA0nC,CAAgB,omCAAG,EAAC,C;;;;;;;;;;;ACA9oC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"plugins/community/poster/poster.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './plugins/community/poster/poster.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./poster.vue?vue&type=template&id=e242fdc8&scoped=true&\"\nvar renderjs\nimport script from \"./poster.vue?vue&type=script&lang=js&\"\nexport * from \"./poster.vue?vue&type=script&lang=js&\"\nimport style0 from \"./poster.vue?vue&type=style&index=0&id=e242fdc8&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e242fdc8\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"plugins/community/poster/poster.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./poster.vue?vue&type=template&id=e242fdc8&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.styleList, function(item, key) {\n    var $orig = _vm.__get_orig(item)\n\n    var g0 = _vm.config.activity_poster_style.indexOf(item.value.toString())\n    return {\n      $orig: $orig,\n      g0: g0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./poster.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./poster.vue?vue&type=script&lang=js&\"","<template>\r\n    <app-layout>\r\n        <view class=\"poster-goods\">\r\n            <view id=\"head\" class=\"head\">\r\n                <view class=\"main-center cross-center\">\r\n                    <!-- #ifdef MP-ALIPAY -->\r\n                    <canvas id=\"poster2\" style=\"width: 750px; height: 1334px;position: fixed;top: 100%;left: 100%\"></canvas>\r\n                    <!-- #endif -->\r\n                    <canvas type=\"2d\" id=\"poster\" style=\"width: 300px; height: 533.6px;\"></canvas>\r\n                </view>\r\n            </view>\r\n            <view class=\"setting\">\r\n                <view class=\"dir-left-nowrap line\">\r\n                    <view class=\"box-grow-0 main-center cross-center label\">\r\n                        <icon :class=\"getTheme + '-m-back ' + getTheme\"></icon>\r\n                        <text>样式</text>\r\n                    </view>\r\n                    <view class=\"dir-left-wrap box-grow-1\" :class=\"getTheme\">\r\n                        <view v-for=\"(item,key) in styleList\" :key=\"key\"\r\n                              @click=\"changeStyle(item.value)\"\r\n                              v-if=\"config.activity_poster_style.indexOf(item.value.toString()) !== -1\"\r\n                              :class=\"item.value == selectForm.style ? 'active ' + getTheme + '-m-border ' + getTheme : ''\"\r\n                              class=\"style-input main-center cross-center\"\r\n                        >\r\n                            <text>{{item.label}}</text>\r\n                            <icon v-if=\"item.value == selectForm.style\" class=\"icon-active\"\r\n                                  :class=\"getTheme + '-m-back ' + getTheme\"></icon>\r\n                        </view>\r\n                    </view>\r\n                </view>\r\n\r\n                <view class=\"dir-left-nowrap line\" style=\"margin-bottom:5rpx\">\r\n                    <view class=\"box-grow-0 main-center cross-center label\">\r\n                        <icon :class=\"getTheme + '-m-back ' + getTheme\"></icon>\r\n                        <text>类型</text>\r\n                    </view>\r\n                    <view class=\"dir-left-wrap box-grow-1\" :class=\"getTheme\">\r\n                        <view v-for=\"(item,key) in typeList\" :key=\"key\"\r\n                              @click=\"changeType(item.value)\"\r\n                              :class=\"item.value == selectForm.type ? 'active ' + getTheme + '-m-border ' + getTheme : ''\"\r\n                              class=\"style-input dir-left-nowrap main-center cross-center\"\r\n                        >\r\n                            <view v-if=\"item.value === 1\" class=\"type-pure\"></view>\r\n                            <view v-if=\"item.value === 2\" class=\"type-gradient\"></view>\r\n                            <text>{{item.label}}</text>\r\n                            <icon v-if=\"item.value == selectForm.type\" class=\"icon-active\"\r\n                                  :class=\"getTheme + '-m-back ' + getTheme\"></icon>\r\n                        </view>\r\n                    </view>\r\n                </view>\r\n\r\n                <view class=\"dir-left-nowrap line\" v-if=\"selectForm.type == 1\">\r\n                    <view class=\"box-grow-0 main-center cross-center label\" style=\"margin-top: 19rpx\">\r\n                        <icon :class=\"getTheme + '-m-back ' + getTheme\"></icon>\r\n                        <text>颜色</text>\r\n                    </view>\r\n                    <view class=\"dir-left-wrap box-grow-1\">\r\n                        <scroll-view scroll-x class=\"app-scroll\" enable-flex=\"true\">\r\n                            <view v-for=\"(color,key) in config.color\" :key=\"key\"\r\n                                  @click=\"changeColor(color)\"\r\n                                  class=\"color-bg\"\r\n                                  :style=\"{'background': `${color}`}\">\r\n                                <icon v-if=\"color == selectForm.color\" class=\"icon-active\"\r\n                                      :class=\"getTheme + '-m-back ' + getTheme\"></icon>\r\n                            </view>\r\n                        </scroll-view>\r\n                    </view>\r\n                </view>\r\n                <view class=\"button main-center cross-center\" @click=\"submitSave\"\r\n                      :class=\"getTheme + '-m-back ' + getTheme\">保存图片\r\n                </view>\r\n            </view>\r\n        </view>\r\n    </app-layout>\r\n</template>\r\n\r\n<script>\r\n    import {mapGetters, mapState} from 'vuex';\r\n\r\n    export default {\r\n        name: \"goods\",\r\n        data() {\r\n            return {\r\n                styleList: [{\r\n                    label: '样式一',\r\n                    value: 1,\r\n                }, {\r\n                    label: '样式二',\r\n                    value: 2,\r\n                }, {\r\n                    label: '样式三',\r\n                    value: 3,\r\n                }, {\r\n                    label: '样式四',\r\n                    value: 4,\r\n                }],\r\n                typeList: [],\r\n                selectForm: null,\r\n                config: {\r\n                    color: [],\r\n                    activity_poster_style: [],\r\n                },\r\n                address: '',\r\n                info: {},\r\n                activity: {},\r\n                middleman: {},\r\n                rpx: 1,\r\n                canvas: null,\r\n                canvas2: null,\r\n                ctx: null,\r\n                activity_id: 0,\r\n                middleman_id: 0,\r\n            }\r\n        },\r\n        computed: {\r\n            ...mapGetters('mallConfig', {\r\n                getTheme: 'getTheme',\r\n            }),\r\n            ...mapState({\r\n                community: state => state.mallConfig.__wxapp_img.community,\r\n            })\r\n        },\r\n        onLoad(options) {\r\n            let that = this;\r\n            that.activity_id = options.activity_id;\r\n            that.middleman_id = options.middleman_id;\r\n            uni.getSystemInfo({\r\n                success(res) {\r\n                    that.rpx = res.windowWidth/375;\r\n                }\r\n            })\r\n            that.loadData();\r\n        },\r\n\r\n        methods: {\r\n            drawText(rate,ctx,t,font,x,y,w,center){\r\n                let moreText = false;\r\n                if(t.indexOf('我在') == 0 || t.indexOf('提货地址') == 0) {\r\n                    moreText = true;\r\n                }\r\n                var chr = t.split(\"\");\r\n                var temp = \"\";              \r\n                var row = [];\r\n                if(rate == 1) {\r\n                    font = font*2  \r\n                }\r\n                ctx.font = font + 'px sans-serif'\r\n                ctx.fillStyle = \"#353535\";\r\n                ctx.textBaseline = \"middle\";\r\n                for(var a = 0; a < chr.length; a++){\r\n                    if( ctx.measureText(temp).width < w ){\r\n                        ;\r\n                    }\r\n                    else{\r\n                        row.push(temp);\r\n                        temp = \"\";\r\n                    }\r\n                    temp += chr[a];\r\n                }\r\n                \r\n                row.push(temp);\r\n                // #ifdef MP-ALIPAY\r\n                row.shift();\r\n                if(!moreText && rate == 1) {\r\n                    y = y + 20\r\n                }\r\n                // #endif\r\n                if(row.length > 2) {\r\n                    for(var b = 0; b < 2; b++){\r\n                        if(center) {\r\n                            ctx.textAlign = 'center';\r\n                        }\r\n                        var str = row[b];\r\n                        if(str == undefined) {\r\n                            str = ''\r\n                        }\r\n                        if(b == 1){\r\n                            str = str.substring(0,str.length-1) + '...';\r\n                        }\r\n                        if(str !== '...') {\r\n                            ctx.fillText(str,x,y+(b+1)*font*1.2);\r\n                        }\r\n                    }\r\n                }else {\r\n                    for(var b = 0; b < row.length; b++){\r\n                        if(center) {\r\n                            ctx.textAlign = 'center';\r\n                        }\r\n                        ctx.fillText(row[b],x,y+(b+1)*font*1.2);\r\n                    }\r\n                }\r\n            },\r\n            fillRoundRect(cxt, x, y, width, height, radius, fillColor) {\r\n                //圆的直径必然要小于矩形的宽高          \r\n                if (2 * radius > width || 2 * radius > height) { return false; }\r\n\r\n                cxt.save();\r\n                cxt.translate(x, y);\r\n                //绘制圆角矩形的各个边  \r\n                this.drawRoundRectPath(cxt, width, height, radius);\r\n                cxt.fillStyle = fillColor || \"#000\"; //若是给定了值就用给定的值否则给予默认值  \r\n                cxt.fill();\r\n                cxt.restore();\r\n            },\r\n            strokeRoundRect(cxt, x, y, width, height, radius, lineWidth, strokeColor) {\r\n                //圆的直径必然要小于矩形的宽高          \r\n                if (2 * radius > width || 2 * radius > height) { return false; }\r\n\r\n                cxt.save();\r\n                cxt.translate(x, y);\r\n                //绘制圆角矩形的各个边  \r\n                this.drawRoundRectPath(cxt, width, height, radius);\r\n                cxt.lineWidth = lineWidth || 2; //若是给定了值就用给定的值否则给予默认值2  \r\n                cxt.strokeStyle = strokeColor || \"#000\";\r\n                cxt.stroke();\r\n                cxt.restore();\r\n            },\r\n\r\n            drawRoundRectPath(cxt, width, height, radius) {\r\n                cxt.beginPath(0);\r\n                //从右下角顺时针绘制，弧度从0到1/2PI  \r\n                cxt.arc(width - radius, height - radius, radius, 0, Math.PI / 2);\r\n\r\n                //矩形下边线  \r\n                cxt.lineTo(radius, height);\r\n\r\n                //左下角圆弧，弧度从1/2PI到PI  \r\n                cxt.arc(radius, height - radius, radius, Math.PI / 2, Math.PI);\r\n\r\n                //矩形左边线  \r\n                cxt.lineTo(0, radius);\r\n\r\n                //左上角圆弧，弧度从PI到3/2PI  \r\n                cxt.arc(radius, radius, radius, Math.PI, Math.PI * 3 / 2);\r\n\r\n                //上边线  \r\n                cxt.lineTo(width - radius, 0);\r\n\r\n                //右上角圆弧  \r\n                cxt.arc(width - radius, radius, radius, Math.PI * 3 / 2, Math.PI * 2);\r\n\r\n                //右边线  \r\n                cxt.lineTo(width, height - radius);\r\n                cxt.closePath();\r\n            },\r\n            loadData() {\r\n                const self = this;\r\n                self.$request({\r\n                    url: self.$api.community.poster,\r\n                    data: {\r\n                        activity_id: self.activity_id,\r\n                        middleman_id: self.middleman_id\r\n                    }\r\n                }).then(info => {\r\n                    self.$hideLoading();\r\n                    if (info.code === 0) {\r\n                        self.config = info.data.config;\r\n                        self.info = info.data.info;\r\n                        self.middleman = info.data.middleman;\r\n                        self.activity = info.data.activity;\r\n                        self.activity.goods_list = self.activity.goods_list.slice(0,6);\r\n                        self.typeList = [{\r\n                            label: '纯色',\r\n                            value: 1,\r\n                        }, {\r\n                            label: '背景图',\r\n                            value: 2,\r\n                        }];\r\n                        self.selectForm = {\r\n                            color: self.config['color'][0],\r\n                            style: self.config['activity_poster_style'][0],\r\n                            type: 2,\r\n                        }\r\n                        setTimeout(() => {\r\n                            const query = uni.createSelectorQuery()\r\n                            query.select('#poster')\r\n                                .fields({ node: true, size: true })\r\n                                .exec((res) => {\r\n                                    // #ifndef MP-ALIPAY\r\n                                    self.canvas = res[0].node\r\n                                    self.ctx = self.canvas.getContext('2d')\r\n                                    const dpr = uni.getSystemInfoSync().pixelRatio\r\n                                    self.canvas.width = res[0].width * dpr\r\n                                    self.canvas.height = res[0].height * dpr\r\n                                    self.ctx.scale(dpr, dpr)\r\n                                    self.created(self.canvas,self.ctx, 0.4);\r\n                                    // #endif\r\n                                    // #ifdef MP-ALIPAY\r\n                                    self.$showLoading({\r\n                                        type: 'global',\r\n                                        text: '生成中...'\r\n                                    });\r\n                                    self.activity.goods_list.forEach((item, index) => {\r\n                                        my.getImageInfo({\r\n                                            src: item.cover_pic,  \r\n                                            success: function (res) {\r\n                                                item.cover = res.path\r\n                                                if(index == 5 || index == self.activity.goods_list.length -1) {\r\n                                                    self.canvas = uni.createCanvasContext('poster');\r\n                                                    self.normalCreated(self.canvas,0.4);\r\n                                                    self.canvas2 = uni.createCanvasContext('poster2');\r\n                                                    self.normalCreated(self.canvas2,1);\r\n                                                }\r\n                                            }\r\n                                        })\r\n                                    })\r\n                                    // #endif\r\n                                }\r\n                            )\r\n                        });\r\n                    } else {\r\n                        uni.showToast({title: info.msg,icon: 'none'});\r\n                    }\r\n                })\r\n            },\r\n            changeStyle(value) {\r\n                const self = this;\r\n                self.selectForm.style = value;\r\n                setTimeout(() => {\r\n                    // #ifndef MP-ALIPAY\r\n                    self.created(self.canvas,self.ctx, 0.4);\r\n                    // #endif\r\n                    // #ifdef MP-ALIPAY\r\n                    self.normalCreated(self.canvas, 0.4);\r\n                    self.normalCreated(self.canvas2,1);\r\n                    // #endif\r\n                });\r\n            },\r\n            changeType(value) {\r\n                const self = this;\r\n                self.selectForm.type = value;\r\n                setTimeout(() => {\r\n                    // #ifndef MP-ALIPAY\r\n                    self.created(self.canvas,self.ctx, 0.4);\r\n                    // #endif\r\n                    // #ifdef MP-ALIPAY\r\n                    self.normalCreated(self.canvas, 0.4);\r\n                    self.normalCreated(self.canvas2,1);\r\n                    // #endif\r\n                });\r\n            },\r\n            changeColor(value) {\r\n                const self = this;\r\n                self.selectForm.color = value;\r\n                setTimeout(() => {\r\n                    // #ifndef MP-ALIPAY\r\n                    self.created(self.canvas,self.ctx, 0.4);\r\n                    // #endif\r\n                    // #ifdef MP-ALIPAY\r\n                    self.normalCreated(self.canvas, 0.4);\r\n                    self.normalCreated(self.canvas2,1);\r\n                    // #endif\r\n                });\r\n            },\r\n            submitSave: function () {\r\n                const self = this;\r\n                self.$showLoading({title: `正在保存图片`});\r\n                uni.canvasToTempFilePath({\r\n                  // #ifndef MP-ALIPAY\r\n                  canvas: self.canvas,\r\n                  // #endif\r\n                  // #ifdef MP-ALIPAY\r\n                  x: 0,\r\n                  y: 0,\r\n                  width: 750,\r\n                  height: 1334,\r\n                  destWidth: 750,\r\n                  destHeight: 1334,\r\n                  canvasId: 'poster2',\r\n                  // #endif\r\n                  success: function(res) {\r\n                    // #ifndef MP-ALIPAY\r\n                    uni.getImageInfo({\r\n                        src: res.tempFilePath,\r\n                        success: function (e) {\r\n                            uni.saveImageToPhotosAlbum({\r\n                                filePath: e.path,\r\n                                success: function () {\r\n                                    uni.showToast({title: '保存成功'});\r\n                                },\r\n                                fail: function (err) {\r\n                                    if (err.errMsg) {\r\n                                        uni.showModal({\r\n                                            title: '提示',\r\n                                            content: '您好,请先授权保存到相册权限',\r\n                                            showCancel: false,\r\n                                            success(res) {\r\n                                                if (res.confirm) {\r\n                                                    uni.openSetting({\r\n                                                        success(settingdata) {\r\n                                                            if (settingdata.authSetting['scope.writePhotosAlbum']) {\r\n                                                                uni.saveImageToPhotosAlbum({\r\n                                                                    filePath: e.tempFilePath,\r\n                                                                    success: function () {\r\n                                                                        uni.showToast({title: '保存成功'});\r\n                                                                    },\r\n                                                                })\r\n                                                            } else {\r\n                                                                uni.showModal({\r\n                                                                    title: '提示',\r\n                                                                    content: '授权失败，请稍后重新获取',\r\n                                                                    showCancel: false,\r\n                                                                })\r\n                                                            }\r\n                                                        }\r\n                                                    })\r\n                                                }\r\n                                            }\r\n                                        })\r\n                                    }\r\n                                },\r\n                                complete: function (e) {\r\n                                    self.$hideLoading();\r\n                                }\r\n                            });\r\n                        },\r\n                        fail: function (e) {\r\n                            uni.showModal({\r\n                                title: '图片下载失败',\r\n                                content: e.errMsg,\r\n                                showCancel: false,\r\n                            });\r\n                        },\r\n                        complete: function (e) {\r\n                            self.$hideLoading();\r\n                        }\r\n                    });\r\n                    // #endif\r\n                    // #ifdef MP-ALIPAY\r\n                    my.saveImage({\r\n                        url: res.tempFilePath,\r\n                        success: () => {\r\n                            my.hideLoading();\r\n                            self.$hideLoading();\r\n                            uni.showToast({\r\n                                title: '保存成功',\r\n                                duration: 3000,\r\n                                icon: 'none',\r\n                            });\r\n                        },\r\n                        fail() {\r\n                            my.hideLoading();\r\n                            self.$hideLoading();\r\n                        },\r\n                        complete() {\r\n                        }\r\n                    });\r\n                    // #endif\r\n                  }\r\n                })\r\n            },\r\n            // #ifndef MP-ALIPAY\r\n            created(canvas, ctx,rpx) {\r\n                let that = this;\r\n                that.$showLoading({\r\n                    type: 'global',\r\n                    text: '生成中...'\r\n                });\r\n                ctx.clearRect(0, 0, 750*rpx,1334*rpx)\r\n                that.address = that.middleman.city+that.middleman.district;\r\n                if(that.middleman.city != that.middleman.province) {\r\n                    that.address = that.middleman.province + that.address\r\n                }\r\n                // 背景图\r\n                if(that.selectForm.type == 1) {\r\n                    // 填充颜色\r\n                    ctx.fillStyle= that.selectForm.color;\r\n                    ctx.fillRect(0, 0, 750*rpx,1334*rpx);\r\n                    that.chooseStyle(canvas, ctx,rpx);\r\n                }else {\r\n                    // 填充图片\r\n                    const bg = canvas.createImage();\r\n                    bg.src = that.config.image_bg;\r\n                    if(bg.src.indexOf('http://') == 0) {\r\n                        bg.src.replace('http://','https://')\r\n                    }\r\n                    bg.onload = () => {\r\n                        ctx.drawImage(bg, 0, 0, 750*rpx,1334*rpx)\r\n                        that.chooseStyle(canvas, ctx,rpx)\r\n                    }\r\n                }\r\n            },\r\n            chooseStyle(canvas, ctx,rpx) {\r\n                let that = this;\r\n                const style = canvas.createImage();\r\n                let x, y, size,textFont, textX, textY, textWidth,GoodsSize,infoX,infoY,infoSize,infoLeft,infoTop,qrX,qrY,qrWidth;\r\n                // 样式一\r\n\r\n                if(that.selectForm.style == 1) {\r\n                    x = 78*rpx;\r\n                    y = 133*rpx;\r\n                    size = 97*rpx;\r\n                    textFont = 13\r\n                    textX = 195*rpx\r\n                    textY = 130*rpx\r\n                    textWidth = 480*rpx\r\n                    GoodsSize = 370*rpx\r\n                    infoX = 132*rpx\r\n                    infoY = 1000*rpx\r\n                    infoSize = 33*rpx\r\n                    infoLeft = 64*rpx\r\n                    infoTop = 1060*rpx\r\n                    qrX = 440*rpx\r\n                    qrY = 984*rpx\r\n                    qrWidth = 240*rpx\r\n                    style.src = that.community.style1;\r\n                }else if(that.selectForm.style == 2) {\r\n                    x = 80*rpx;\r\n                    y = 810*rpx;\r\n                    size = 97*rpx;\r\n                    textFont = 13\r\n                    textX = 197*rpx\r\n                    textY = 807*rpx\r\n                    textWidth = 480*rpx\r\n                    GoodsSize = 180*rpx\r\n                    infoX = 430*rpx\r\n                    infoY = 985*rpx\r\n                    infoSize = 33*rpx\r\n                    infoLeft = 360*rpx\r\n                    infoTop = 1045*rpx\r\n                    qrX = 70*rpx\r\n                    qrY = 945*rpx\r\n                    qrWidth = 240*rpx\r\n                    style.src = that.community.style2;\r\n                }else if(that.selectForm.style == 3) {\r\n                    x = 80*rpx;\r\n                    y = 164*rpx;\r\n                    size = 97*rpx;\r\n                    textFont = 13\r\n                    textX = 200*rpx\r\n                    textY = 161*rpx\r\n                    textWidth = 480*rpx\r\n                    GoodsSize = 310*rpx\r\n                    infoX = 430*rpx\r\n                    infoY = 1040*rpx\r\n                    infoSize = 33*rpx\r\n                    infoLeft = 360*rpx\r\n                    infoTop = 1100*rpx\r\n                    qrX = 70*rpx\r\n                    qrY = 1000*rpx\r\n                    qrWidth = 240*rpx\r\n                    style.src = that.community.style3;\r\n                }else if(that.selectForm.style == 4) {\r\n                    x = 56*rpx;\r\n                    y = 124*rpx;\r\n                    size = 97*rpx;\r\n                    textFont = 13\r\n                    textX = 192*rpx\r\n                    textY = 121*rpx\r\n                    textWidth = 480*rpx\r\n                    GoodsSize = 464*rpx\r\n                    infoX = 430*rpx\r\n                    infoY = 1040*rpx\r\n                    infoSize = 33*rpx\r\n                    infoLeft = 360*rpx\r\n                    infoTop = 1100*rpx\r\n                    qrX = 70*rpx\r\n                    qrY = 1000*rpx\r\n                    qrWidth = 240*rpx\r\n                    style.src = that.community.style4;\r\n                }\r\n                style.onload = () => {\r\n                    ctx.drawImage(style, 0, 0, 750*rpx,1334*rpx)\r\n                    // 头像\r\n                    ctx.save();\r\n                    ctx.beginPath();\r\n                    ctx.arc(size / 2 + x, size / 2 + y, size / 2, 0, Math.PI * 2, false);\r\n                    ctx.strokeStyle ='white';\r\n                    ctx.stroke();\r\n                    ctx.clip();\r\n\r\n                    const avatar = canvas.createImage();\r\n                    avatar.src = that.info.avatar;\r\n                    avatar.onload = () => {\r\n                        ctx.drawImage(avatar, x, y, size, size);\r\n                        ctx.restore();\r\n                        let tip = '我在'+that.address+that.middleman.location+'发现了一个超划算的团购！';\r\n                        ctx.textAlign = 'left'\r\n                        that.drawText(rpx,ctx,tip,textFont, textX, textY, textWidth);\r\n                        // 商品\r\n                        that.drawGoods(canvas, ctx,GoodsSize);\r\n                        that.drawInfo(canvas, ctx,infoX,infoY,infoSize,infoLeft,infoTop,that.address)\r\n                        // 二维码\r\n                        const qrcode = canvas.createImage();\r\n                        qrcode.src = that.activity.qrcode;\r\n                        qrcode.onload = () => {\r\n                            ctx.drawImage(qrcode,qrX, qrY, qrWidth, qrWidth);\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            drawInfo(canvas, ctx,x,y,size,infoLeft,infoTop,address) {\r\n                let that = this;\r\n                let rpx = 0.26;\r\n                // 团长头像\r\n                const avatar = canvas.createImage();\r\n                avatar.src = that.middleman.avatar;\r\n                avatar.onload = () => {\r\n                    ctx.save();\r\n                    ctx.beginPath();\r\n                    ctx.arc(size / 2 + x, size / 2 + y, size / 2, 0, Math.PI * 2, false);\r\n                    ctx.strokeStyle ='white';\r\n                    ctx.stroke();\r\n                    ctx.clip();\r\n                    ctx.drawImage(avatar, x, y, size, size);\r\n                    ctx.restore();\r\n                    ctx.textAlign = 'left';\r\n                    ctx.font = '10px sans-serif';\r\n                    ctx.fillStyle = \"#353535\";\r\n                    ctx.fillText('团长:', infoLeft, infoTop-62*rpx);\r\n                    ctx.fillText('结束时间: ' + that.activity.end_at, infoLeft, infoTop);\r\n                    ctx.fillText(that.middleman.name, x+63*rpx, infoTop-62*rpx);\r\n                    that.drawText(rpx,ctx,'提货地址: '+address+that.middleman.detail,11, infoLeft, infoTop+10*rpx,500*rpx);\r\n                }\r\n            },\r\n            drawGoods(canvas, ctx,top) {\r\n                let that = this;\r\n                let rpx = 0.4;\r\n                let delLeft;\r\n                let delWidth;\r\n                let left;\r\n                let sum = 0;\r\n                // 单个商品\r\n                const cover = canvas.createImage();\r\n                if(that.activity.goods_list.length == 1) {\r\n                    cover.src = that.activity.goods_list[0].cover_pic;\r\n                    if(cover.src.indexOf('http://') == 0) {\r\n                        cover.src.replace('http://','https://')\r\n                    }\r\n                    cover.onload = () => {\r\n                        ctx.drawImage(cover,195*rpx, top, 360*rpx, 360*rpx);\r\n                        that.drawText(rpx,ctx,that.activity.goods_list[0].name,14, 370*rpx, top+360*rpx,590*rpx,true);\r\n                        ctx.textAlign = 'center';\r\n                        ctx.font = '14px sans-serif';\r\n                        ctx.fillStyle = \"#ff4544\";\r\n                        ctx.fillText('￥'+that.activity.goods_list[0].price, 370*rpx, top+490*rpx)\r\n                        ctx.font = '13px sans-serif';\r\n                        ctx.fillStyle = \"#999999\";\r\n                        ctx.fillText('￥'+that.activity.goods_list[0].original_price, 370*rpx, top+520*rpx);\r\n                        delWidth = (that.activity.goods_list[0].original_price.length + 1)*15+30;\r\n                        delLeft = 375 - delWidth/2;\r\n                        ctx.fillRect(delLeft*rpx,top+516*rpx,delWidth*rpx,1);\r\n                        that.$hideLoading();\r\n                    }\r\n                // 两个商品\r\n                }else if(that.activity.goods_list.length == 2) {\r\n                    top = top+15*rpx;\r\n                    for (var i = 0; i < that.activity.goods_list.length; i++){\r\n                        that.activity.goods_list[i].cover = canvas.createImage();\r\n                        that.activity.goods_list[i].cover.src = that.activity.goods_list[i].cover_pic;\r\n                        if(that.activity.goods_list[i].cover.src.indexOf('http://') == 0) {\r\n                            that.activity.goods_list[i].cover.src.replace('http://','https://')\r\n                        }\r\n                        that.activity.goods_list[i].cover.onload = () => {\r\n                            if(sum == 1) {\r\n                                left = 395*rpx;\r\n                            }else {\r\n                                left = 65*rpx;\r\n                            }\r\n                            that.strokeRoundRect(ctx, left, top, 290*rpx, 450*rpx, 8*rpx,2*rpx, '#e5e5e5');\r\n                            ctx.beginPath();\r\n                            ctx.save();\r\n                            let width = 266*rpx;\r\n                            let radius = 8*rpx;\r\n                            let angleLine = 10*rpx;\r\n                            let startTop = top + 2*rpx;\r\n                            let startLeft = left + 2*rpx;\r\n                            ctx.lineWidth = 1;\r\n                            ctx.strokeStyle ='white';\r\n                            ctx.moveTo(startLeft+angleLine,startTop);//出发点\r\n                            ctx.lineTo(startLeft+angleLine+width,startTop);//顶部\r\n                            ctx.arcTo(startLeft+angleLine*2+width,startTop,startLeft+angleLine*2+width,startTop+angleLine,radius);//右上角圆角\r\n                            ctx.lineTo(startLeft+angleLine*2+width,startTop+angleLine*2+width);//到右下角\r\n                            ctx.lineTo(startLeft,startTop+width+angleLine*2);//到左下角\r\n                            ctx.lineTo(startLeft,startTop+angleLine);//到左上角\r\n                            ctx.arcTo(startLeft,startTop,startLeft+angleLine,startTop,radius);//左上角圆角\r\n                            ctx.closePath();\r\n                            ctx.stroke();\r\n                            ctx.clip();\r\n                            ctx.drawImage(that.activity.goods_list[sum].cover,left+2*rpx, top+2*rpx, 286*rpx, 286*rpx);\r\n                            ctx.restore();\r\n                            that.drawText(rpx,ctx,that.activity.goods_list[sum].name,12, left+145*rpx, top+280*rpx,256*rpx,true);\r\n                            ctx.textAlign = 'center';\r\n                            ctx.font = '13px sans-serif';\r\n                            ctx.fillStyle = \"#ff4544\";\r\n                            ctx.fillText('￥'+that.activity.goods_list[sum].price, left+145*rpx, top+388*rpx)\r\n                            ctx.font = '11px sans-serif';\r\n                            ctx.fillStyle = \"#999999\";\r\n                            ctx.fillText('￥'+that.activity.goods_list[sum].original_price, left+145*rpx, top+418*rpx);\r\n                            delWidth = (that.activity.goods_list[sum].original_price.length + 1)*14+20;\r\n                            ctx.textAlign = 'center';\r\n                            delLeft = left+(145 - delWidth/2)*rpx\r\n                            ctx.fillRect(delLeft,top+414*rpx,delWidth*rpx,2*rpx);\r\n                            sum++\r\n                            if(sum == 2) {\r\n                                that.$hideLoading();\r\n                            }\r\n                        }\r\n                    }\r\n                // 三个商品\r\n                }else if(that.activity.goods_list.length == 3) {\r\n                    for (var i = 0; i < that.activity.goods_list.length; i++){\r\n                        that.activity.goods_list[i].cover = canvas.createImage();\r\n                        that.activity.goods_list[i].cover.src = that.activity.goods_list[i].cover_pic;\r\n                        if(that.activity.goods_list[i].cover.src.indexOf('http://') == 0) {\r\n                            that.activity.goods_list[i].cover.src.replace('http://','https://')\r\n                        }\r\n                        that.activity.goods_list[i].cover.onload = () => {\r\n                            if(sum > 0) {\r\n                                top = top + 182*rpx;\r\n                            }\r\n                            ctx.drawImage(that.activity.goods_list[sum].cover,65*rpx, top, 150*rpx, 150*rpx);\r\n                            ctx.beginPath();\r\n                            ctx.save();\r\n                            let width = 130*rpx;\r\n                            let radius = 8*rpx;\r\n                            let angleLine = 10*rpx;\r\n                            let startleft = 65*rpx;\r\n                            ctx.lineWidth = 1;\r\n                            ctx.strokeStyle ='white';\r\n                            ctx.moveTo(startleft+angleLine,top);//出发点\r\n                            ctx.arcTo(startleft+angleLine*2+width,top,startleft+angleLine*2+width,top+angleLine,radius);//右上角圆角\r\n                            ctx.arcTo(startleft+angleLine*2+width,top+angleLine*2+width,startleft+angleLine+width,top+angleLine*2+width,radius);//右下角圆角\r\n                            ctx.arcTo(startleft,top+width+angleLine*2,startleft,top+width+angleLine,radius);//左下角圆角\r\n                            ctx.arcTo(startleft,top,startleft+angleLine*2,top,radius);//左上角圆角\r\n                            ctx.closePath();\r\n                            ctx.stroke();\r\n                            ctx.clip();\r\n                            ctx.restore();\r\n                            ctx.textAlign = 'left';\r\n                            that.drawText(rpx,ctx,that.activity.goods_list[sum].name,13, 239*rpx, top-15*rpx,450*rpx);\r\n                            ctx.font = '13px sans-serif';\r\n                            ctx.fillStyle = \"#ff4544\";\r\n                            ctx.fillText('￥'+that.activity.goods_list[sum].price, 239*rpx, top+100*rpx)\r\n                            ctx.font = '11px sans-serif';\r\n                            ctx.fillStyle = \"#999999\";\r\n                            ctx.fillText('￥'+that.activity.goods_list[sum].original_price, 239*rpx, top+137*rpx);\r\n                            delWidth = (that.activity.goods_list[sum].original_price.length + 1)*15+12;\r\n                            delLeft = 239;\r\n                            ctx.fillRect(delLeft*rpx,top+135*rpx,delWidth*rpx,2*rpx);\r\n                            sum++\r\n                            if(sum == 3) {\r\n                                that.$hideLoading();\r\n                            }\r\n                        }\r\n                    }\r\n                // 四个商品\r\n                }else if(that.activity.goods_list.length == 4) {\r\n                    top = top - 10*rpx;\r\n                    for (var i = 0; i < that.activity.goods_list.length; i++){\r\n                        that.activity.goods_list[i].cover = canvas.createImage();\r\n                        that.activity.goods_list[i].cover.src = that.activity.goods_list[i].cover_pic;\r\n                        if(that.activity.goods_list[i].cover.src.indexOf('http://') == 0) {\r\n                            that.activity.goods_list[i].cover.src.replace('http://','https://')\r\n                        }\r\n                        that.activity.goods_list[i].cover.onload = () => {\r\n                            if(sum > 0) {\r\n                                top = top + 140*rpx;\r\n                            }\r\n                            ctx.beginPath();\r\n                            ctx.save();\r\n                            let width = 100*rpx;\r\n                            let radius = 8*rpx;\r\n                            let angleLine = 10*rpx;\r\n                            let left = 65*rpx;\r\n                            ctx.lineWidth = 1;\r\n                            ctx.strokeStyle ='white';\r\n                            ctx.moveTo(left+angleLine,top);//出发点\r\n                            ctx.arcTo(left+angleLine*2+width,top,left+angleLine*2+width,top+angleLine,radius);//右上角圆角\r\n                            ctx.arcTo(left+angleLine*2+width,top+angleLine*2+width,left+angleLine+width,top+angleLine*2+width,radius);//右下角圆角\r\n                            ctx.arcTo(left,top+width+angleLine*2,left,top+width+angleLine,radius);//左下角圆角\r\n                            ctx.arcTo(left,top,left+angleLine*2,top,radius);//左上角圆角\r\n                            ctx.closePath();\r\n                            ctx.stroke();\r\n                            ctx.clip();\r\n                            ctx.drawImage(that.activity.goods_list[sum].cover,65*rpx, top, 120*rpx, 120*rpx);\r\n                            ctx.restore();\r\n                            ctx.textAlign = 'left';\r\n                            that.drawText(rpx,ctx,that.activity.goods_list[sum].name,12, 209*rpx, top-25*rpx,480*rpx);\r\n                            ctx.font = '12px sans-serif';\r\n                            ctx.fillStyle = \"#ff4544\";\r\n                            ctx.fillText('￥'+that.activity.goods_list[sum].price, 209*rpx, top+80*rpx)\r\n                            ctx.font = '10px sans-serif';\r\n                            ctx.fillStyle = \"#999999\";\r\n                            ctx.fillText('￥'+that.activity.goods_list[sum].original_price, 209*rpx, top+102*rpx);\r\n                            delWidth = (that.activity.goods_list[sum].original_price.length + 1)*12+12;\r\n                            delLeft = 212;\r\n                            ctx.fillRect(delLeft*rpx,top+100*rpx,delWidth*rpx,2*rpx);\r\n                            sum++\r\n                            if(sum == 4) {\r\n                                that.$hideLoading();\r\n                            }\r\n                        }\r\n                    }\r\n                // 五个商品\r\n                }else if(that.activity.goods_list.length > 4) {\r\n                    for (var i = 0; i < that.activity.goods_list.length; i++){\r\n                        that.activity.goods_list[i].cover = canvas.createImage();\r\n                        that.activity.goods_list[i].cover.src = that.activity.goods_list[i].cover_pic;\r\n                        if(that.activity.goods_list[i].cover.src.indexOf('http://') == 0) {\r\n                            that.activity.goods_list[i].cover.src.replace('http://','https://')\r\n                        }\r\n                        that.activity.goods_list[i].cover.onload = () => {\r\n                            left = 48*rpx;\r\n                            delLeft = 192\r\n                            if(sum == 1 || sum == 3 || sum == 5) {\r\n                                left = 398*rpx;\r\n                                delLeft = 537;\r\n                            }\r\n                            if(sum == 0) {\r\n                                top = top + 20*rpx;\r\n                            }else if(sum == 2) {\r\n                                top = top + 172*rpx;\r\n                            }else if(sum == 4) {\r\n                                top = top + 172*rpx;\r\n                            }\r\n                            ctx.beginPath();\r\n                            ctx.save();\r\n                            let width = 100*rpx;\r\n                            let radius = 8*rpx;\r\n                            let angleLine = 10*rpx;\r\n                            ctx.lineWidth = 1;\r\n                            ctx.strokeStyle ='white';\r\n                            ctx.moveTo(left+angleLine,top);//出发点\r\n                            ctx.arcTo(left+angleLine*2+width,top,left+angleLine*2+width,top+angleLine,radius);//右上角圆角\r\n                            ctx.arcTo(left+angleLine*2+width,top+angleLine*2+width,left+angleLine+width,top+angleLine*2+width,radius);//右下角圆角\r\n                            ctx.arcTo(left,top+width+angleLine*2,left,top+width+angleLine,radius);//左下角圆角\r\n                            ctx.arcTo(left,top,left+angleLine*2,top,radius);//左上角圆角\r\n                            ctx.closePath();\r\n                            ctx.stroke();\r\n                            ctx.clip();\r\n                            ctx.drawImage(that.activity.goods_list[sum].cover,left, top, 120*rpx, 120*rpx);\r\n                            ctx.restore();\r\n                            ctx.textAlign = 'left';\r\n                            that.drawText(rpx,ctx,that.activity.goods_list[sum].name,12, left+134*rpx, top-25*rpx,166*rpx);\r\n                            ctx.font = '12px sans-serif';\r\n                            ctx.fillStyle = \"#ff4544\";\r\n                            ctx.fillText('￥'+that.activity.goods_list[sum].price, left+134*rpx, top+80*rpx)\r\n                            ctx.font = '10px sans-serif';\r\n                            ctx.fillStyle = \"#999999\";\r\n                            ctx.fillText('￥'+that.activity.goods_list[sum].original_price, left+134*rpx, top+102*rpx);\r\n                            delWidth = (that.activity.goods_list[sum].original_price.length + 1)*12+12;\r\n                            ctx.fillRect(delLeft*rpx,top+100*rpx,delWidth*rpx,2*rpx);\r\n                            sum++\r\n                            if(sum == 5) {\r\n                                that.$hideLoading();\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            // #endif\r\n            // #ifdef MP-ALIPAY\r\n            normalCreated(ctx,rpx) {\r\n                let that = this;\r\n                that.$showLoading({\r\n                    type: 'global',\r\n                    text: '生成中...'\r\n                });\r\n                that.address = that.middleman.city+that.middleman.district;\r\n                if(that.middleman.city != that.middleman.province) {\r\n                    that.address = that.middleman.province + that.address\r\n                }\r\n                // 背景图\r\n                if(that.selectForm.type == 1) {\r\n                    // 填充颜色\r\n                    ctx.fillStyle= that.selectForm.color;\r\n                    ctx.fillRect(0, 0, 750*rpx,1334*rpx);\r\n                    that.chooseNormalStyle(ctx,rpx)\r\n                }else {\r\n                    my.getImageInfo({\r\n                        src: that.config.image_bg,  \r\n                        success: function (res) {\r\n                            ctx.drawImage(res.path, 0, 0, 750*rpx, 1334*rpx);\r\n                            that.chooseNormalStyle(ctx,rpx)\r\n                        }\r\n                    })\r\n                }\r\n            },\r\n            chooseNormalStyle(ctx,rpx) {\r\n                let that = this;\r\n                let x, y, size,textFont, textX, textY, textWidth,GoodsSize,infoX,infoY,infoSize,infoLeft,infoTop,qrX,qrY,qrWidth;\r\n                let src = '';\r\n                // 样式一\r\n                if(that.selectForm.style == 1) {\r\n                    x = 78*rpx;\r\n                    y = 133*rpx;\r\n                    size = 97*rpx;\r\n                    textFont = 13\r\n                    textX = 195*rpx\r\n                    textY = 130*rpx\r\n                    textWidth = 480*rpx\r\n                    GoodsSize = 370*rpx\r\n                    infoX = 132*rpx\r\n                    infoY = 1000*rpx\r\n                    infoSize = 33*rpx\r\n                    infoLeft = 64*rpx\r\n                    infoTop = 1060*rpx\r\n                    qrX = 440*rpx\r\n                    qrY = 984*rpx\r\n                    qrWidth = 240*rpx\r\n                    src = that.community.style1;\r\n                }else if(that.selectForm.style == 2) {\r\n                    x = 80*rpx;\r\n                    y = 810*rpx;\r\n                    size = 97*rpx;\r\n                    textFont = 13\r\n                    textX = 197*rpx\r\n                    textY = 807*rpx\r\n                    textWidth = 480*rpx\r\n                    GoodsSize = 180*rpx\r\n                    infoX = 430*rpx\r\n                    infoY = 985*rpx\r\n                    infoSize = 33*rpx\r\n                    infoLeft = 360*rpx\r\n                    infoTop = 1045*rpx\r\n                    qrX = 70*rpx\r\n                    qrY = 945*rpx\r\n                    qrWidth = 240*rpx\r\n                    src = that.community.style2;\r\n                }else if(that.selectForm.style == 3) {\r\n                    x = 80*rpx;\r\n                    y = 164*rpx;\r\n                    size = 97*rpx;\r\n                    textFont = 13\r\n                    textX = 200*rpx\r\n                    textY = 161*rpx\r\n                    textWidth = 480*rpx\r\n                    GoodsSize = 310*rpx\r\n                    infoX = 430*rpx\r\n                    infoY = 1040*rpx\r\n                    infoSize = 33*rpx\r\n                    infoLeft = 360*rpx\r\n                    infoTop = 1100*rpx\r\n                    qrX = 70*rpx\r\n                    qrY = 1000*rpx\r\n                    qrWidth = 240*rpx\r\n                    src = that.community.style3;\r\n                }else if(that.selectForm.style == 4) {\r\n                    x = 56*rpx;\r\n                    y = 124*rpx;\r\n                    size = 97*rpx;\r\n                    textFont = 13\r\n                    textX = 192*rpx\r\n                    textY = 121*rpx\r\n                    textWidth = 480*rpx\r\n                    GoodsSize = 464*rpx\r\n                    infoX = 430*rpx\r\n                    infoY = 1040*rpx\r\n                    infoSize = 33*rpx\r\n                    infoLeft = 360*rpx\r\n                    infoTop = 1100*rpx\r\n                    qrX = 70*rpx\r\n                    qrY = 1000*rpx\r\n                    qrWidth = 240*rpx\r\n                    src = that.community.style4;\r\n                }\r\n                ctx.drawImage(src, 0, 0, 750*rpx, 1334*rpx);\r\n                // 头像\r\n                ctx.save();\r\n                ctx.beginPath();\r\n                ctx.arc(size / 2 + x, size / 2 + y, size / 2, 0, Math.PI * 2, false);\r\n                ctx.strokeStyle ='white';\r\n                ctx.stroke();\r\n                ctx.clip();\r\n                let avatar = that.info.avatar;\r\n                ctx.drawImage(avatar, x, y, size, size);\r\n                ctx.restore();\r\n                let tip = '我在'+that.address+that.middleman.location+'发现了一个超划算的团购！';\r\n                ctx.textAlign = 'left';\r\n                if(rpx == 1) {\r\n                    textWidth = 350\r\n                }\r\n                that.drawText(rpx,ctx,tip,textFont, textX, textY, textWidth);\r\n                // 商品\r\n                that.drawNormalGoods(ctx,GoodsSize,rpx);\r\n                let infoRpx = 1;\r\n                if(rpx != 1) {\r\n                    infoRpx = 0.26\r\n                }\r\n                that.drawNormalInfo(ctx,infoX,infoY,infoSize,infoLeft,infoTop,that.address,infoRpx)\r\n                // 二维码\r\n                my.getImageInfo({\r\n                    src: that.activity.qrcode,  \r\n                    success: function (res) {\r\n                        ctx.drawImage(res.path,qrX, qrY, qrWidth, qrWidth);\r\n                        ctx.draw();\r\n                    }\r\n                })\r\n            },\r\n            drawNormalGoods(ctx,top,rpx) {\r\n                let that = this;\r\n                let delLeft;\r\n                let delWidth;\r\n                let left;\r\n                let goodsName;\r\n                let sum = 0;\r\n                // 单个商品\r\n                let cover = '';\r\n                if(that.activity.goods_list.length == 1) {\r\n                    ctx.drawImage(that.activity.goods_list[0].cover,195*rpx, top, 360*rpx, 360*rpx);\r\n                    if(rpx == 1) {\r\n                        goodsName = 350*rpx\r\n                    }else {\r\n                        goodsName = 590*rpx\r\n                    }\r\n                    that.drawText(rpx,ctx,that.activity.goods_list[0].name,14, 370*rpx, top+360*rpx,goodsName,true);\r\n                    ctx.textAlign = 'center';\r\n                    ctx.font = rpx != 1 ? '14px sans-serif' : '28px sans-serif';\r\n                    ctx.fillStyle = \"#ff4544\";\r\n                    ctx.fillText('￥'+that.activity.goods_list[0].price, 370*rpx, top+490*rpx)\r\n                    ctx.font = rpx != 1 ? '13px sans-serif' : '26px sans-serif';\r\n                    ctx.fillStyle = \"#999999\";\r\n                    ctx.fillText('￥'+that.activity.goods_list[0].original_price, 370*rpx, top+520*rpx);\r\n                    delWidth = (that.activity.goods_list[0].original_price.length + 1)*15+30;\r\n                    delLeft = 375 - delWidth/2;\r\n                    ctx.fillRect(delLeft*rpx,top+516*rpx,delWidth*rpx,1);\r\n                    that.$hideLoading();\r\n                // 两个商品\r\n                }else if(that.activity.goods_list.length == 2) {\r\n                    top = top+15*rpx;\r\n                    for (var i = 0; i < that.activity.goods_list.length; i++){\r\n                        if(sum == 1) {\r\n                            left = 395*rpx;\r\n                        }else {\r\n                            left = 65*rpx;\r\n                        }\r\n                        that.strokeRoundRect(ctx, left, top, 290*rpx, 450*rpx, 8*rpx,2*rpx, '#e5e5e5');\r\n                        ctx.beginPath();\r\n                        ctx.save();\r\n                        let width = 266*rpx;\r\n                        let radius = 8*rpx;\r\n                        let angleLine = 10*rpx;\r\n                        let startTop = top + 2*rpx;\r\n                        let startLeft = left + 2*rpx;\r\n                        ctx.lineWidth = 1;\r\n                        ctx.strokeStyle ='white';\r\n                        ctx.moveTo(startLeft+angleLine,startTop);//出发点\r\n                        ctx.lineTo(startLeft+angleLine+width,startTop);//顶部\r\n                        ctx.arcTo(startLeft+angleLine*2+width,startTop,startLeft+angleLine*2+width,startTop+angleLine,radius);//右上角圆角\r\n                        ctx.lineTo(startLeft+angleLine*2+width,startTop+angleLine*2+width);//到右下角\r\n                        ctx.lineTo(startLeft,startTop+width+angleLine*2);//到左下角\r\n                        ctx.lineTo(startLeft,startTop+angleLine);//到左上角\r\n                        ctx.arcTo(startLeft,startTop,startLeft+angleLine,startTop,radius);//左上角圆角\r\n                        ctx.closePath();\r\n                        ctx.stroke();\r\n                        ctx.clip();\r\n                        ctx.drawImage(that.activity.goods_list[sum].cover,left+2*rpx, top+2*rpx, 286*rpx, 286*rpx);\r\n                        ctx.restore();\r\n                        that.drawText(rpx,ctx,that.activity.goods_list[sum].name,12, left+145*rpx, top+280*rpx,256*rpx,true);\r\n                        ctx.textAlign = 'center';\r\n                        ctx.font = rpx != 1 ? '13px sans-serif' : '26px sans-serif';\r\n                        ctx.fillStyle = \"#ff4544\";\r\n                        ctx.fillText('￥'+that.activity.goods_list[sum].price, left+145*rpx, top+388*rpx)\r\n                        ctx.font = rpx != 1 ? '11px sans-serif' : '22px sans-serif';\r\n                        ctx.fillStyle = \"#999999\";\r\n                        ctx.fillText('￥'+that.activity.goods_list[sum].original_price, left+145*rpx, top+418*rpx);\r\n                        delWidth = (that.activity.goods_list[sum].original_price.length + 1)*14+20;\r\n                        ctx.textAlign = 'center';\r\n                        delLeft = left+(145 - delWidth/2)*rpx\r\n                        ctx.fillRect(delLeft,top+414*rpx,delWidth*rpx,2*rpx);\r\n                        sum++\r\n                        if(sum == 2) {\r\n                            that.$hideLoading();\r\n                        }\r\n                    }\r\n                // 三个商品\r\n                }else if(that.activity.goods_list.length == 3) {\r\n                    for (var i = 0; i < that.activity.goods_list.length; i++){\r\n                        if(sum > 0) {\r\n                            top = top + 182*rpx;\r\n                        }\r\n                        ctx.drawImage(that.activity.goods_list[sum].cover,65*rpx, top, 150*rpx, 150*rpx);\r\n                        ctx.beginPath();\r\n                        ctx.save();\r\n                        let width = 130*rpx;\r\n                        let radius = 8*rpx;\r\n                        let angleLine = 10*rpx;\r\n                        let startleft = 65*rpx;\r\n                        ctx.lineWidth = 1;\r\n                        ctx.strokeStyle ='white';\r\n                        ctx.moveTo(startleft+angleLine,top);//出发点\r\n                        ctx.arcTo(startleft+angleLine*2+width,top,startleft+angleLine*2+width,top+angleLine,radius);//右上角圆角\r\n                        ctx.arcTo(startleft+angleLine*2+width,top+angleLine*2+width,startleft+angleLine+width,top+angleLine*2+width,radius);//右下角圆角\r\n                        ctx.arcTo(startleft,top+width+angleLine*2,startleft,top+width+angleLine,radius);//左下角圆角\r\n                        ctx.arcTo(startleft,top,startleft+angleLine*2,top,radius);//左上角圆角\r\n                        ctx.closePath();\r\n                        ctx.stroke();\r\n                        ctx.clip();\r\n                        ctx.restore();\r\n                        ctx.textAlign = 'left';\r\n                        that.drawText(rpx,ctx,that.activity.goods_list[sum].name,13, 239*rpx, top-15*rpx,350*rpx);\r\n                        ctx.font = rpx != 1 ? '13px sans-serif' : '26px sans-serif';\r\n                        ctx.fillStyle = \"#ff4544\";\r\n                        ctx.fillText('￥'+that.activity.goods_list[sum].price, 239*rpx, top+100*rpx)\r\n                        ctx.font = rpx != 1 ? '11px sans-serif' : '22px sans-serif';\r\n                        ctx.fillStyle = \"#999999\";\r\n                        ctx.fillText('￥'+that.activity.goods_list[sum].original_price, 239*rpx, top+137*rpx);\r\n                        delWidth = (that.activity.goods_list[sum].original_price.length + 1)*15+12;\r\n                        delLeft = 239;\r\n                        ctx.fillRect(delLeft*rpx,top+135*rpx,delWidth*rpx,2*rpx);\r\n                        sum++\r\n                        if(sum == 3) {\r\n                            that.$hideLoading();\r\n                        }\r\n                    }\r\n                // 四个商品\r\n                }else if(that.activity.goods_list.length == 4) {\r\n                    top = top - 10*rpx;\r\n                    for (var i = 0; i < that.activity.goods_list.length; i++){\r\n                        if(sum > 0) {\r\n                            top = top + 140*rpx;\r\n                        }\r\n                        ctx.beginPath();\r\n                        ctx.save();\r\n                        let width = 100*rpx;\r\n                        let radius = 8*rpx;\r\n                        let angleLine = 10*rpx;\r\n                        let left = 65*rpx;\r\n                        ctx.lineWidth = 1;\r\n                        ctx.strokeStyle ='white';\r\n                        ctx.moveTo(left+angleLine,top);//出发点\r\n                        ctx.arcTo(left+angleLine*2+width,top,left+angleLine*2+width,top+angleLine,radius);//右上角圆角\r\n                        ctx.arcTo(left+angleLine*2+width,top+angleLine*2+width,left+angleLine+width,top+angleLine*2+width,radius);//右下角圆角\r\n                        ctx.arcTo(left,top+width+angleLine*2,left,top+width+angleLine,radius);//左下角圆角\r\n                        ctx.arcTo(left,top,left+angleLine*2,top,radius);//左上角圆角\r\n                        ctx.closePath();\r\n                        ctx.stroke();\r\n                        ctx.clip();\r\n                        ctx.drawImage(that.activity.goods_list[sum].cover,65*rpx, top, 120*rpx, 120*rpx);\r\n                        ctx.restore();\r\n                        ctx.textAlign = 'left';\r\n                        that.drawText(rpx,ctx,that.activity.goods_list[sum].name,12, 209*rpx, top-25*rpx,350*rpx);\r\n                        ctx.font = rpx != 1 ? '12px sans-serif' : '24px sans-serif';\r\n                        ctx.fillStyle = \"#ff4544\";\r\n                        ctx.fillText('￥'+that.activity.goods_list[sum].price, 209*rpx, top+80*rpx)\r\n                        ctx.font = rpx != 1 ? '10px sans-serif' : '20px sans-serif';\r\n                        ctx.fillStyle = \"#999999\";\r\n                        ctx.fillText('￥'+that.activity.goods_list[sum].original_price, 209*rpx, top+102*rpx);\r\n                        delWidth = (that.activity.goods_list[sum].original_price.length + 1)*12+12;\r\n                        delLeft = 212;\r\n                        ctx.fillRect(delLeft*rpx,top+100*rpx,delWidth*rpx,2*rpx);\r\n                        sum++\r\n                        if(sum == 4) {\r\n                            that.$hideLoading();\r\n                        }\r\n                    }\r\n                // 五个商品\r\n                }else if(that.activity.goods_list.length > 4) {\r\n                    for (var i = 0; i < that.activity.goods_list.length; i++){\r\n                        left = 48*rpx;\r\n                        delLeft = 192\r\n                        if(sum == 1 || sum == 3 || sum == 5) {\r\n                            left = 398*rpx;\r\n                            delLeft = 537;\r\n                        }\r\n                        if(sum == 0) {\r\n                            top = top + 20*rpx;\r\n                        }else if(sum == 2) {\r\n                            top = top + 172*rpx;\r\n                        }else if(sum == 4) {\r\n                            top = top + 172*rpx;\r\n                        }\r\n                        ctx.beginPath();\r\n                        ctx.save();\r\n                        let width = 100*rpx;\r\n                        let radius = 8*rpx;\r\n                        let angleLine = 10*rpx;\r\n                        ctx.lineWidth = 1;\r\n                        ctx.strokeStyle ='white';\r\n                        ctx.moveTo(left+angleLine,top);//出发点\r\n                        ctx.arcTo(left+angleLine*2+width,top,left+angleLine*2+width,top+angleLine,radius);//右上角圆角\r\n                        ctx.arcTo(left+angleLine*2+width,top+angleLine*2+width,left+angleLine+width,top+angleLine*2+width,radius);//右下角圆角\r\n                        ctx.arcTo(left,top+width+angleLine*2,left,top+width+angleLine,radius);//左下角圆角\r\n                        ctx.arcTo(left,top,left+angleLine*2,top,radius);//左上角圆角\r\n                        ctx.closePath();\r\n                        ctx.stroke();\r\n                        ctx.clip();\r\n                        ctx.drawImage(that.activity.goods_list[sum].cover,left, top, 120*rpx, 120*rpx);\r\n                        ctx.restore();\r\n                        ctx.textAlign = 'left';\r\n                        that.drawText(rpx,ctx,that.activity.goods_list[sum].name,12, left+134*rpx, top-35*rpx,166*rpx);\r\n                        ctx.font = rpx != 1 ? '12px sans-serif' : '24px sans-serif';\r\n                        ctx.fillStyle = \"#ff4544\";\r\n                        ctx.fillText('￥'+that.activity.goods_list[sum].price, left+134*rpx, top+80*rpx)\r\n                        ctx.font = rpx != 1 ? '10px sans-serif' : '20px sans-serif';\r\n                        ctx.fillStyle = \"#999999\";\r\n                        ctx.fillText('￥'+that.activity.goods_list[sum].original_price, left+134*rpx, top+102*rpx);\r\n                        delWidth = (that.activity.goods_list[sum].original_price.length + 1)*12+12;\r\n                        ctx.fillRect(delLeft*rpx,top+100*rpx,delWidth*rpx,2*rpx);\r\n                        sum++\r\n                        if(sum == 5) {\r\n                            that.$hideLoading();\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            drawNormalInfo(ctx,x,y,size,infoLeft,infoTop,address,rpx) {\r\n                let that = this;\r\n                // 团长头像\r\n                let avatar = that.middleman.avatar;\r\n                ctx.save();\r\n                ctx.beginPath();\r\n                ctx.arc(size / 2 + x, size / 2 + y, size / 2, 0, Math.PI * 2, false);\r\n                ctx.strokeStyle ='white';\r\n                ctx.stroke();\r\n                ctx.clip();\r\n                ctx.drawImage(avatar, x, y, size, size);\r\n                ctx.restore();\r\n                let nameRpx = rpx;\r\n                if(rpx == 1) {\r\n                    nameRpx = 0.65\r\n                }\r\n                ctx.textAlign = 'left';\r\n                ctx.fillStyle = \"#353535\";\r\n                if(rpx == 1) {\r\n                    ctx.font = '20px sans-serif'\r\n                }else {\r\n                    ctx.font = '10px sans-serif'\r\n                }\r\n                ctx.fillText('团长:', infoLeft, infoTop-62*nameRpx);\r\n                ctx.fillText('结束时间: ' + that.activity.end_at, infoLeft, infoTop);\r\n                ctx.fillText(that.middleman.name, x+63*nameRpx, infoTop-62*nameRpx);\r\n                let addressWidth = 500*rpx;\r\n                if(rpx == 1) {\r\n                    addressWidth = 300\r\n                }\r\n                that.drawText(rpx,ctx,'提货地址: '+address+that.middleman.detail,11, infoLeft, infoTop+10*rpx,addressWidth);\r\n            },\r\n            // #endif\r\n        },\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n    $box: #f7f7f7;\r\n\r\n    ::-webkit-scrollbar {\r\n        width: 0;\r\n        height: 0;\r\n        color: transparent;\r\n    }\r\n\r\n    .app-scroll {\r\n        width: 100%;\r\n        white-space: nowrap;\r\n        padding: 0 #{14rpx};\r\n    }\r\n\r\n    .poster-goods {\r\n        .head {\r\n            width: 100%;\r\n            view {\r\n                margin: #{50rpx} auto;\r\n            }\r\n        }\r\n\r\n        .setting {\r\n            padding-top: #{20rpx};\r\n            font-size: #{24rpx};\r\n            color: #353535;\r\n            background: #FFFFFF;\r\n            padding-bottom: #{48rpx};\r\n\r\n            .line {\r\n                margin-bottom: #{24rpx};\r\n\r\n                .label {\r\n                    height: #{56rpx};\r\n\r\n                    icon {\r\n                        background-image: url(\"../../../static/image/poster/mark.png\");\r\n                        background-size: 100% 100%;\r\n                        height: #{21rpx};\r\n                        width: #{21rpx};\r\n                        background-repeat: no-repeat;\r\n                        margin-left: #{24rpx};\r\n                        border-radius: 50%;\r\n                    }\r\n\r\n                    text {\r\n                        line-height: 1;\r\n                        padding-left: #{12rpx};\r\n                        padding-right: #{26rpx - 14rpx};\r\n                    }\r\n                }\r\n\r\n                .style-input {\r\n                    position: relative;\r\n                    height: #{56rpx};\r\n                    padding: 0 #{20rpx};\r\n                    background: $box;\r\n                    border-radius: #{5rpx};\r\n                    margin: 0 #{14rpx};\r\n\r\n                    .type-pure {\r\n                        height: #{32rpx};\r\n                        width: #{32rpx};\r\n                        margin-right: #{10rpx};\r\n                        background: #d8d8d8;\r\n                    }\r\n\r\n                    .type-gradient {\r\n                        height: #{32rpx};\r\n                        width: #{32rpx};\r\n                        margin-right: #{10rpx};\r\n                        background-image: url(\"./../image/icon.png\");\r\n                        background-size: 100% 100%;\r\n                    }\r\n\r\n                }\r\n            }\r\n\r\n            .active {\r\n                border-width: #{3rpx};\r\n                border-style: solid;\r\n                background: #FFFFFF !important;\r\n            }\r\n\r\n            .icon-active {\r\n                background-image: url(\"../../../static/image/poster/input-active.png\");\r\n                height: #{38rpx};\r\n                width: #{38rpx};\r\n                background-repeat: no-repeat;\r\n                background-size: 100% 100%;\r\n                position: absolute;\r\n                top: #{-19rpx};\r\n                right: #{-19rpx};\r\n                z-index: 10;\r\n                border-radius: 50%;\r\n            }\r\n\r\n            .line-input {\r\n                position: relative;\r\n                border-radius: #{5rpx};\r\n                margin: 0 #{14rpx} #{14rpx};\r\n                background: $box;\r\n                width: #{140rpx};\r\n                height: #{56rpx};\r\n\r\n                .icon-square {\r\n                    background-size: 100% 100%;\r\n                    height: #{32rpx};\r\n                    width: #{32rpx};\r\n                    background-repeat: no-repeat;\r\n                }\r\n\r\n                text {\r\n                    margin-left: #{10rpx};\r\n                }\r\n            }\r\n\r\n            .color-bg {\r\n                position: relative;\r\n                display: inline-block;\r\n                height: #{60rpx};\r\n                width: #{60rpx};\r\n                border-radius: #{5rpx};\r\n                border: 1px solid #e5e5e5;\r\n                margin-right: #{26rpx};\r\n                margin-top: #{19rpx};\r\n            }\r\n        }\r\n\r\n        .button {\r\n            font-size: #{32rpx};\r\n            border-radius: #{40rpx};\r\n            height: #{68rpx};\r\n            margin: #{34rpx} auto 0;\r\n            color: #ffffff;\r\n            width: #{500rpx};\r\n        }\r\n    }\r\n</style>","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./poster.vue?vue&type=style&index=0&id=e242fdc8&scoped=true&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./poster.vue?vue&type=style&index=0&id=e242fdc8&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1608184839909\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}