{"version":3,"sources":["webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/composition/components/app-list/app-list.vue?a11f","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/composition/components/app-list/app-list.vue?509d","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/composition/components/app-list/app-list.vue?ae9e","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/composition/components/app-list/app-list.vue?c43b","uni-app:///plugins/composition/components/app-list/app-list.vue","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/composition/components/app-list/app-list.vue?ebaf","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/composition/components/app-list/app-list.vue?4ff8"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiI;AACjI;AAC4D;AACL;AACsC;;;AAG7F;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,+FAAM;AACR,EAAE,wGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAkmB,CAAgB,4nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACsFtnB,gD;;;AAGA;AACA,mBADA;AAEA;AACA;AACA,iBADA,EADA;;AAIA;AACA,kBADA;AAEA,aAFA,sBAEA;AACA;AACA,OAJA,EAJA;;AAUA;AACA,mBADA;AAEA,aAFA,sBAEA;AACA;AACA,OAJA,EAVA;;AAgBA;AACA,mBADA;AAEA,aAFA,sBAEA;AACA;AACA,OAJA,EAhBA;;AAsBA;AACA,mBADA;AAEA,aAFA,sBAEA;AACA;AACA,OAJA,EAtBA;;AA4BA,iBA5BA,EAFA;;AAgCA,MAhCA,kBAgCA;AACA;AACA,iBADA;AAEA,iBAFA;AAGA,qBAHA;AAIA,mBAJA;AAKA,0BALA;AAMA,oBANA;AAOA,cAPA;;AASA,GA1CA;AA2CA;AACA;AACA,8EADA;AAEA,kFAFA,GADA,CA3CA;;;AAiDA;AACA,uBADA,EAjDA;;AAoDA;AACA,YADA,oBACA,EADA,EACA;AACA;AACA,0CADA;;AAGA,KALA;AAMA,YANA,oBAMA,IANA,EAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAxBA;AAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAxBA;AAyBA,KA1DA;AA2DA,cA3DA,sBA2DA,KA3DA,EA2DA,KA3DA,EA2DA,IA3DA,EA2DA;AACA;AACA;AACA;AACA,KA/DA;AAgEA,UAhEA,kBAgEA,KAhEA,EAgEA,IAhEA,EAgEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA5EA;AA6EA,eA7EA,uBA6EA,GA7EA,EA6EA,KA7EA,EA6EA,IA7EA,EA6EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA5FA;AA6FA,SA7FA,mBA6FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAJA,MAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA,OA9BA,MA8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA,SAVA,MAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA5KA,EApDA;;;AAmOA,SAnOA,qBAmOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KALA,EAKA,GALA;AAMA,GA3OA,E;;;;;;;;;;;;;ACzFA;AAAA;AAAA;AAAA;AAA4nC,CAAgB,smCAAG,EAAC,C;;;;;;;;;;;ACAhpC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"plugins/composition/components/app-list/app-list.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./app-list.vue?vue&type=template&id=7cdc5018&scoped=true&\"\nvar renderjs\nimport script from \"./app-list.vue?vue&type=script&lang=js&\"\nexport * from \"./app-list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./app-list.vue?vue&type=style&index=0&id=7cdc5018&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7cdc5018\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"plugins/composition/components/app-list/app-list.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./app-list.vue?vue&type=template&id=7cdc5018&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./app-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./app-list.vue?vue&type=script&lang=js&\"","<template>\r\n    <view>\r\n        <view class=\"app-list\" :style=\"{'margin-top': `${top}rpx`}\">\r\n            <view class=\"app-item\" v-for=\"(item,index) in list\" :key=\"item.id\">\r\n                <view class=\"dir-left-nowrap cross-center app-item-title\">\r\n                    <view class=\"check-icon\" @click=\"choose(index,item)\">\r\n                        <image src=\"/static/image/icon/icon-uncheck.png\" v-if=\"!item.choose\"></image>\r\n                        <image :class=\"theme + '-m-back ' + theme\" :style=\"{'opacity': `${item.type == 1 ? '0.3' : '1'}`}\"  src=\"/static/image/icon/icon-checkbox-checked.png\" v-else></image>\r\n                    </view>\r\n                    <view :class=\"theme + '-m-text item-type ' + theme\">{{item.type_text}}</view>\r\n                    <view class=\"item-name\">{{item.name}}</view>\r\n                </view>\r\n                <view class=\"item-goods dir-left-nowrap\" v-for=\"goods in item.host_list\" :key=\"goods.id\">\r\n                    <view class=\"check-icon\">\r\n                        <image :class=\"theme + '-m-back ' + theme\" :style=\"{'opacity': `${goods.opacity}`}\" src=\"/static/image/icon/icon-checkbox-checked.png\"></image>\r\n                    </view>\r\n                    <image @click=\"toDetail(goods.goods_id)\" class=\"goods-img\" :src=\"goods.cover_pic\"></image>\r\n                    <view v-if=\"goods.stock == 0 || item.stock == 0\" class=\"out-dialog\">\r\n                        <image :src=\"appSetting.is_use_stock == '1' ? appImg.plugins_out : appSetting.sell_out_pic\"></image>\r\n                    </view>\r\n                    <view class=\"dir-top-nowrap goods-info\">\r\n                        <view class=\"item-good-name\">{{goods.name}}</view>\r\n                        <view class=\"item-good-num\">x1</view>\r\n                        <view class=\"item-good-attr\" v-if=\"!goods.choose_attr\" @click=\"chooseAttr(goods,index)\">\r\n                            <view class=\"item-good-attr-text t-omit-two\">未选择</view>\r\n                            <image class=\"item-good-attr-arrow\" src=\"/static/image/icon/bottom.png\"></image>\r\n                        </view>\r\n                        <view class=\"item-good-attr\" v-else @click=\"chooseAttr(goods,index)\">\r\n                            <view class=\"item-good-attr-text t-omit-two\">\r\n                                <text v-for=\"attr in goods.choose_attr.attr_list\" :key=\"attr.attr_id\">{{attr.attr_group_name}}:{{attr.attr_name}}</text>\r\n                            </view>\r\n                            <image class=\"item-good-attr-arrow\" src=\"/static/image/icon/bottom.png\"></image>\r\n                        </view>\r\n                        <view v-if=\"item.type == 2 && goods.choose_attr\" :class=\"theme + '-m-text choose_price ' + theme\">￥{{goods.total_price}}</view>\r\n                    </view>\r\n                </view>                    \r\n                <view class=\"item-goods dir-left-nowrap\" v-for=\"(goods,idx) in item.goods_list\" :key=\"goods.id\">\r\n                    <view class=\"check-icon\" v-if=\"item.type == 2\" @click=\"chooseGoods(idx,index,goods)\">\r\n                        <image src=\"/static/image/icon/icon-uncheck.png\" v-if=\"!goods.choose_goods\"></image>\r\n                        <image :class=\"theme + '-m-back ' + theme\" src=\"/static/image/icon/icon-checkbox-checked.png\" v-else></image>\r\n                    </view>\r\n                    <image @click=\"toDetail(goods.goods_id)\" class=\"goods-img\" :src=\"goods.cover_pic\"></image>\r\n                    <view v-if=\"goods.stock == 0 || item.stock == 0\" class=\"out-dialog\">\r\n                        <image :src=\"appSetting.is_use_stock == '1' ? appImg.plugins_out : appSetting.sell_out_pic\"></image>\r\n                    </view>\r\n                    <view class=\"dir-top-nowrap goods-info\">\r\n                        <view class=\"item-good-name\">{{goods.name}}</view>\r\n                        <view class=\"item-good-num\">x1</view>\r\n                        <view class=\"item-good-attr\" v-if=\"!goods.choose_attr\" @click=\"chooseAttr(goods,index)\">\r\n                            <view class=\"item-good-attr-text t-omit-two\">未选择</view>\r\n                            <image class=\"item-good-attr-arrow\" src=\"/static/image/icon/bottom.png\"></image>\r\n                        </view>\r\n                        <view class=\"item-good-attr\" v-else @click=\"chooseAttr(goods,index)\">\r\n                            <view class=\"item-good-attr-text t-omit-two\">\r\n                                <text v-for=\"(attr,idx) in goods.choose_attr.attr_list\" :key=\"attr.attr_id\">\r\n                                    <text v-if=\"idx > 0\">,</text>\r\n                                    <text>{{attr.attr_group_name}}:{{attr.attr_name}}</text>\r\n                                </text>\r\n                            </view>\r\n                            <image class=\"item-good-attr-arrow\" src=\"/static/image/icon/bottom.png\"></image>\r\n                        </view>\r\n                        <view v-if=\"item.type == 2 && goods.choose_attr\"  :class=\"theme + '-m-text choose_price ' + theme\">￥{{goods.total_price}}</view>\r\n                    </view>\r\n                </view>\r\n                <view class=\"app-price\">\r\n                    <template v-if=\"item.total_price && hidden\">\r\n                        <text>套餐价</text>\r\n                        <text :class=\"theme + '-m-text ' + theme\">￥{{item.total_price > -0.01 ? item.total_price : '0.00'}}</text>\r\n                    </template>\r\n                </view>\r\n            </view>\r\n        </view>\r\n        <app-attr :goodsId=\"goods.goods_id\"\r\n                  :goods=\"goods.detail\"\r\n                  :attrGroupList=\"goods.attr_groups\"\r\n                  :cartShow=\"cartShow\"\r\n                  :chooseNumber=\"cartShow\"\r\n                  buyText=\"确定\"\r\n                  :buyClick=\"buyBool\"\r\n                  :show=\"attrShow\"\r\n                  :theme=\"theme\"\r\n                  @buyClick=\"buyClick\"></app-attr>\r\n    </view>\r\n</template>\r\n\r\n<script>\r\n    import { mapState } from \"vuex\";\r\n    import appAttr from \"../../../../components/page-component/app-attr/app-attr.vue\";\r\n\r\n    export default {\r\n        name: 'app-index',\r\n        props: {\r\n            list: {\r\n                type: Array\r\n            },\r\n            top: {\r\n                type: Number,\r\n                default() {\r\n                    return 388\r\n                }\r\n            },\r\n            search: {\r\n                type: Boolean,\r\n                default() {\r\n                    return false;\r\n                }\r\n            },\r\n            allCount: {\r\n                type: Boolean,\r\n                default() {\r\n                    return false;\r\n                }\r\n            },\r\n            hidden: {\r\n                type: Boolean,\r\n                default() {\r\n                    return true;\r\n                }\r\n            },\r\n            theme: String\r\n        },\r\n        data() {\r\n            return {\r\n                attrShow: 0,\r\n                goods: null,\r\n                cartShow: false,\r\n                buyBool: true,\r\n                max_discount: '0.00',\r\n                noAttrList: [],\r\n                total: 0,\r\n            }\r\n        },\r\n        computed: {\r\n            ...mapState({\r\n                appImg: state => state.mallConfig.__wxapp_img.mall,\r\n                appSetting: state => state.mallConfig.mall.setting,\r\n            })\r\n        },\r\n        components: {\r\n            'app-attr': appAttr,\r\n        },\r\n        methods: {\r\n            toDetail(id) {\r\n                uni.navigateTo({\r\n                    url: '/pages/goods/goods?id=' + id\r\n                });\r\n            },\r\n            buyClick(data) {\r\n                let that = this;\r\n                that.list[that.index].goods_list.forEach(v => {\r\n                    if(v.id == that.goods.id) {\r\n                        v.choose_attr = data;\r\n                        v.detail.selectAttr = data;\r\n                        for(let i in data.attr_list) {\r\n                            for(let j in v.attr_groups) {\r\n                                if(v.attr_groups[j].attr_group_id == data.attr_list[i].attr_group_id) {\r\n                                    for(let z in v.attr_groups[j].attr_list) {\r\n                                        v.attr_groups[j].attr_list[z].checked = false;\r\n                                        if(v.attr_groups[j].attr_list[z].attr_id == data.attr_list[i].attr_id && v.attr_groups[j].attr_list[z].attr_name == data.attr_list[i].attr_name) {\r\n                                            v.attr_groups[j].attr_list[z].checked = true;\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        if(that.list[that.index].type == 2) {\r\n                            v.choose_goods = true;\r\n                            that.list[that.index].host_list[0].choose_goods = true\r\n                            that.list[that.index].host_list[0].opacity = 0.3\r\n                        }\r\n                        that.count();\r\n                        that.$forceUpdate();\r\n                    }\r\n                })\r\n                that.list[that.index].host_list.forEach(v => {\r\n                    if(v.id == that.goods.id) {\r\n                        for(let i in data.attr_list) {\r\n                            for(let j in v.attr_groups) {\r\n                                if(v.attr_groups[j].attr_group_id == data.attr_list[i].attr_group_id) {\r\n                                    for(let z in v.attr_groups[j].attr_list) {\r\n                                        v.attr_groups[j].attr_list[z].checked = false;\r\n                                        if(v.attr_groups[j].attr_list[z].attr_id == data.attr_list[i].attr_id && v.attr_groups[j].attr_list[z].attr_name == data.attr_list[i].attr_name) {\r\n                                            v.attr_groups[j].attr_list[z].checked = true;\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        v.choose_attr = data;\r\n                        v.detail.selectAttr = data;\r\n                        v.choose_goods = true;\r\n                        that.count();\r\n                        that.$forceUpdate();\r\n                        if (that.search) {\r\n                            that.$emit('search', v, 1);\r\n                            return false;\r\n                        }\r\n                    }\r\n                })\r\n            },\r\n            chooseAttr(goods,index, type) {\r\n                this.goods = goods;\r\n                this.index = index;\r\n                this.attrShow = Math.random();\r\n            },\r\n            choose(index,item) {\r\n                if(this.list[index].type == 2) {\r\n                    this.list[index].choose = !this.list[index].choose;\r\n                    for(let i in this.list[index].goods_list) {\r\n                        this.list[index].goods_list[i].choose_goods = this.list[index].choose\r\n                    }\r\n                    this.count();\r\n                    this.$forceUpdate();\r\n                    if (this.search) {\r\n                        this.$emit('search', item);\r\n                    }\r\n                }\r\n            },\r\n            chooseGoods(idx,index,item) {\r\n                this.list[index].goods_list[idx].choose_goods = !this.list[index].goods_list[idx].choose_goods;\r\n                let all = true;\r\n                for(let i in this.list[index].goods_list) {\r\n                    if(!this.list[index].goods_list[i].choose_goods) {\r\n                        all = false;\r\n                    }\r\n                }\r\n                this.list[index].choose = all;\r\n                this.$forceUpdate();\r\n                this.$emit(\"updateList\",this.list);\r\n                this.count();\r\n                if (this.search) {\r\n                    this.$emit('search', item, 1);\r\n                }\r\n            },\r\n            count() {\r\n                let that = this;\r\n                that.total = 0;\r\n                that.noAttrList = [];\r\n                that.max_discount = 0;\r\n                let i = 0;\r\n                if(that.list[i].type == 1) {\r\n                    that.list[i].total_price = 0;\r\n                    let allchoose = true;\r\n                    for(let x in that.list[i].goods_list) {\r\n                        if(that.list[i].goods_list[x].choose_attr) {\r\n                            if(that.list[i].goods_list[x].choose_attr.price > 0) {\r\n                                that.list[i].total_price += +that.list[i].goods_list[x].choose_attr.price;\r\n                            }\r\n                        }else {\r\n                            allchoose = false;\r\n                        }\r\n                        if(that.list[i].choose && that.list[i].goods_list[x].choose_attr == null ) {\r\n                            that.noAttrList.push(that.list[i].goods_list[x])\r\n                        }\r\n                    }\r\n                    if(that.list[i].total_price < 0) {\r\n                        that.list[i].total_price = 0\r\n                    }\r\n                    that.list[i].total_price = (+that.list[i].total_price - +that.list[i].price);\r\n                    if(that.list[i].total_price < 0) {\r\n                        that.list[i].total_price = 0\r\n                    }\r\n                    if(that.list[i].choose) {\r\n                        that.list[i].total_price = that.list[i].total_price.toFixed(2)\r\n                    }else {\r\n                        delete that.list[i].total_price\r\n                    }\r\n                    if(that.list[i].choose && allchoose) {\r\n                        that.total += +that.list[i].total_price\r\n                    }\r\n                }else if(that.list[i].type == 2) {\r\n                    that.list[i].total_price = 0;\r\n                    if(that.list[i].host_list[0].choose_attr) {\r\n                        that.list[i].total_price = +that.list[i].host_list[0].choose_attr.price - +that.list[i].host_list[0].price\r\n                        that.list[i].host_list[0].total_price = +that.list[i].host_list[0].choose_attr.price - +that.list[i].host_list[0].price\r\n                        that.max_discount += +that.list[i].host_list[0].price\r\n                        if(that.list[i].host_list[0].total_price < 0) {\r\n                            that.list[i].host_list[0].total_price = 0\r\n                        }else {\r\n                            that.list[i].host_list[0].total_price = +that.list[i].host_list[0].total_price.toFixed(2);\r\n                        }\r\n                        that.total += +that.list[i].host_list[0].total_price\r\n                    }else {\r\n                        that.noAttrList.push(that.list[i].host_list[0])\r\n                    }\r\n                    for(let x in that.list[i].goods_list) {\r\n                        if(that.list[i].goods_list[x].choose_goods && that.list[i].goods_list[x].choose_attr) {\r\n                            that.list[i].goods_list[x].total_price = +that.list[i].goods_list[x].choose_attr.price - +that.list[i].goods_list[x].price\r\n                            that.max_discount += +that.list[i].goods_list[x].price\r\n                            if(that.list[i].goods_list[x].total_price < 0) {\r\n                                that.list[i].goods_list[x].total_price = 0\r\n                            }else {\r\n                                that.list[i].goods_list[x].total_price = +that.list[i].goods_list[x].total_price.toFixed(2);\r\n                            }\r\n                            that.total += +that.list[i].goods_list[x].total_price\r\n                            if(that.list[i].total_price > 0) {\r\n                                that.list[i].total_price += +that.list[i].goods_list[x].total_price\r\n                            }\r\n                        }\r\n                        if(that.list[i].goods_list[x].choose_goods && that.list[i].goods_list[x].choose_attr == null ) {\r\n                            that.noAttrList.push(that.list[i].goods_list[x])\r\n                        }\r\n                    }\r\n                    if(that.list[i].total_price < 0) {\r\n                        that.list[i].total_price = 0\r\n                    }\r\n                    that.list[i].total_price = +that.list[i].total_price.toFixed(2);\r\n                    that.max_discount = +that.max_discount.toFixed(2);\r\n                }\r\n                that.total = that.total.toFixed(2);\r\n                that.$emit(\"updateList\",that.list);\r\n                that.$emit(\"change\",that.total,that.max_discount);\r\n                that.$emit(\"update\",that.noAttrList);\r\n            },\r\n        },\r\n\r\n        mounted() {\r\n            let that = this;\r\n            let get = setInterval(function(){\r\n                if(that.list.length > 0) {\r\n                    clearInterval(get)\r\n                    that.count();\r\n                }\r\n            },500)\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n    .app-list {\r\n        .app-item {\r\n            background-color: #fff;\r\n            margin: #{10rpx} #{24rpx};\r\n            border-radius: #{16rpx};\r\n            padding: #{24rpx};\r\n            padding-top: 0;\r\n            padding-left: 0;\r\n            .app-price {\r\n                line-height: #{74rpx};\r\n                height: #{74rpx};\r\n                text-align: right;\r\n                color: #353535;\r\n                font-size: #{28rpx};\r\n\r\n                .max-discount {\r\n                    font-size: #{24rpx};\r\n                    color: #f39800;\r\n                    margin-left: #{16rpx};\r\n                }\r\n            }\r\n            .app-item-title {\r\n                padding-right: #{24rpx};\r\n                height: #{64rpx};\r\n                font-size: #{28rpx};\r\n                color: #353535;\r\n                font-weight: bold;\r\n                .check-icon {\r\n                    padding: #{28rpx} #{20rpx} 0 #{24rpx};\r\n                    width: #{72rpx};\r\n                    height: #{64rpx};\r\n                    image {\r\n                        height: #{32rpx};\r\n                        width: #{32rpx};\r\n                        border-radius: #{16rpx};\r\n                        display: block;\r\n                    }\r\n                }\r\n                .item-type {\r\n                    margin-top: #{24rpx};\r\n                    flex-shrink: 0;\r\n                    height: #{40rpx};\r\n                    line-height: #{38rpx};\r\n                    padding: 0 #{12rpx};\r\n                    border-radius: #{20rpx};\r\n                    margin-right: #{16rpx};\r\n                    border: #{2rpx} solid;\r\n                    font-weight: 400;\r\n                }\r\n                .item-name {\r\n                    margin-top: #{24rpx};\r\n                    overflow: hidden;\r\n                    text-overflow: ellipsis;\r\n                    white-space: nowrap;\r\n                    word-break: break-all;\r\n                }\r\n            }\r\n            .item-goods {\r\n                margin-top: #{28rpx};\r\n                margin-left: #{76rpx};\r\n                padding-bottom: #{28rpx};\r\n                border-bottom: #{2rpx} solid #e2e2e2;\r\n                position: relative;\r\n                .out-dialog {\r\n                    width: #{180rpx};\r\n                    height: #{180rpx};\r\n                    border-radius: #{16rpx};\r\n                    position: absolute;\r\n                    top: 0;\r\n                    left: 0;\r\n                    z-index: 10;\r\n                    background-color: rgba(0,0,0,.5);\r\n                    image {\r\n                        width: #{180rpx};\r\n                        height: #{180rpx};\r\n                        border-radius: #{16rpx};\r\n                    }\r\n                }\r\n                .check-icon {\r\n                    position: absolute;\r\n                    left: #{-76rpx};\r\n                    top: 50%;\r\n                    margin-top: #{-52rpx};\r\n                    padding: #{24rpx};\r\n                    width: #{80rpx};\r\n                    height: #{80rpx};\r\n                    image {\r\n                        height: #{32rpx};\r\n                        width: #{32rpx};\r\n                        border-radius: #{16rpx};\r\n                        display: block;\r\n                    }\r\n                }\r\n                .goods-img {\r\n                    height: #{180rpx};\r\n                    width: #{180rpx};\r\n                    border-radius: #{8rpx};\r\n                    margin-right: #{24rpx};\r\n                    position: relative;\r\n                }\r\n                .goods-info {\r\n                    font-size: #{28rpx};\r\n                    color: #353535;\r\n                    position: relative;\r\n                    .item-good-name {\r\n                        width: #{336rpx};\r\n                        max-height: #{90rpx};\r\n                        line-height: #{42rpx};\r\n                        word-break: break-all;\r\n                        overflow: hidden;\r\n                        text-overflow: ellipsis;\r\n                        white-space: nowrap;\r\n                    }\r\n                    .item-good-num {\r\n                        position: absolute;\r\n                        right: 0;\r\n                        top: 0;\r\n                    }\r\n                    .choose_price {\r\n                        font-size: #{28rpx};\r\n                        margin-top: #{20rpx};\r\n                    }\r\n                    .item-good-attr {\r\n                        margin-top: #{20rpx};\r\n                        background-color: #f7f7f7;\r\n                        width: #{398rpx};\r\n                        display: inline-block;\r\n                        padding: #{8rpx} #{16rpx};\r\n                        border-radius: #{8rpx};\r\n                        position: relative;\r\n                        .item-good-attr-text {\r\n                            width: #{314rpx};\r\n                            line-height: #{32rpx};\r\n                            max-height: #{62rpx};\r\n                            color: #999;\r\n                        }\r\n                        .item-good-attr-arrow {\r\n                            position: absolute;\r\n                            right: #{16rpx};\r\n                            top: 50%;\r\n                            margin-top: #{-6rpx};\r\n                            height: #{12rpx};\r\n                            width: #{22rpx};\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            .item-goods:last-of-type {\r\n                border-bottom: 0\r\n            }\r\n        }\r\n    }\r\n</style>","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./app-list.vue?vue&type=style&index=0&id=7cdc5018&scoped=true&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./app-list.vue?vue&type=style&index=0&id=7cdc5018&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1608184842774\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}