{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/flash_sale/index/index.vue?2576","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/flash_sale/index/index.vue?1da7","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/flash_sale/index/index.vue?cd36","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/flash_sale/index/index.vue?22d9","uni-app:///plugins/flash_sale/index/index.vue","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/flash_sale/index/index.vue?e2ab","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/flash_sale/index/index.vue?669b"],"names":["createPage","Page"],"mappings":"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","file":"plugins/flash_sale/index/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './plugins/flash_sale/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=69ae26d9&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=69ae26d9&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"69ae26d9\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"plugins/flash_sale/index/index.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=69ae26d9&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = Object.keys(_vm.activity)\n\n  var l0 = _vm.__map(_vm.list, function(item, index) {\n    var $orig = _vm.__get_orig(item)\n\n    var m0 = item.discount_type === 1 ? Number(item.min_discount) : null\n    return {\n      $orig: $orig,\n      m0: m0\n    }\n  })\n\n  var g1 = Object.keys(_vm.activity)\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.is_switch = true\n    }\n\n    _vm.e1 = function($event) {\n      _vm.is_switch = false\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        l0: l0,\n        g1: g1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n    <app-layout>\r\n        <view :class=\"[themeObject.back, 'f-switch']\">\r\n           <template v-if=\"!is_no_now\">\r\n               <image v-if=\"is_switch\" src=\"../image/processing.png\"></image>\r\n               <image v-else src=\"../image/start.png\"></image>\r\n               <button class=\"button left\" @click=\"is_switch = true\"></button>\r\n               <button class=\"button right\" @click=\"is_switch = false\"></button>\r\n           </template>\r\n            <view v-else style=\"font-size: 36rpx;text-align: center;color: #fff;line-height:100rpx\">\r\n                即将开始\r\n            </view>\r\n        </view>\r\n        <view :class=\"[themeObject.back, 'f-bulletin']\" v-if=\"Object.keys(activity).length\">\r\n            <view>\r\n                <view class=\"dir-left-nowrap main-between cross-center\">\r\n                    <view class=\"f-title\">\r\n                        {{activity.title}}\r\n                    </view>\r\n                    <view class=\"f-rule\" @click=\"goRule\">\r\n                        活动规则\r\n                        <image src=\"/static/image/icon/arrow-right.png\"></image>\r\n                    </view>\r\n                </view>\r\n                <view class=\"f-timing\">\r\n                    距离本场{{type === 1 ? '结束' : '开始'}}\r\n                    <text :class=\"[themeObject.color]\">{{time_str.day}}</text>天\r\n                    <text :class=\"[themeObject.color]\">{{time_str.hou}}</text>时\r\n                    <text :class=\"[themeObject.color]\">{{time_str.min}}</text>分\r\n                    <text :class=\"[themeObject.color]\">{{time_str.sec}}</text>秒\r\n                </view>\r\n            </view>\r\n        </view>\r\n        <view :class=\"[themeObject.back, 'f-activity']\">\r\n            <view class=\"f-item dir-left-nowrap\"\r\n                  @click=\"routeDetail(item.id)\"\r\n                  v-for=\"(item, index) in list\" :key=\"index\">\r\n                <view class=\"f-image\">\r\n                    <view class=\"out-dialog\" v-if=\"item.goods_stock == 0 && appSetting.is_show_stock == '1'\">\r\n                        <image :src=\"appSetting.is_use_stock == '1' ? appImg.plugins_out : appSetting.sell_out_pic\"></image>\r\n                    </view>\r\n                    <image class='f-pic' :src=\"item.goodsWarehouse.cover_pic\"></image>\r\n                </view>\r\n                <view class=\"cont\">\r\n                    <view class=\"dir-left-nowrap cross-center\" style=\"overflow: hidden\">\r\n                        <view v-if=\"item.discount_type === 1\" :class=\"getTheme + '-m-back f-discount box-grow-0 ' +getTheme\">{{Number(item.min_discount)}}折</view>\r\n                        <view v-else :class=\"getTheme + '-m-back f-discount box-grow-0 ' +getTheme\">减{{item.min_discount}}元</view>\r\n                        <view class=\"f-name t-omit\">{{item.goodsWarehouse.name}}</view>\r\n                    </view>\r\n                    <view class=\"app-percentage\" :class=\"getTheme + '-m-back-l ' +getTheme\">\r\n                        <view :class=\"[themeObject.back]\" :style=\"{width: `${item.percentage}%`}\"></view>\r\n                    </view>\r\n                    <view class=\"f-num main-between\">\r\n                        <text>{{item.sales}}</text>\r\n                        <text :class=\"[themeObject.color]\">仅剩{{item.goods_stock}}{{item.goodsWarehouse.unit}}</text>\r\n                    </view>\r\n                    <view class=\"f-content dir-top-nowrap main-right\">\r\n                        <view v-if=\"item.is_level\">\r\n                            <app-member-price :theme=\"themeObject\" :price=\"item.level_price\"></app-member-price>\r\n                        </view>\r\n                        <app-sup-vip\r\n                            :is_vip_card_user=\"item.vip_card_appoint.is_vip_card_user\"\r\n                            margin=\"4rpx 0 0\"\r\n                            v-if=\"item.vip_card_appoint.discount\"\r\n                            :discount=\"item.vip_card_appoint.discount\"\r\n                        ></app-sup-vip>\r\n                        <view class=\"dir-left-nowrap main-between cross-bottom\">\r\n                            <view class=\"f-price dir-top-nowrap\">\r\n                                <text :class=\"themeObject.color\">{{item.price_content}}</text>\r\n                                <text>￥{{item.original_price}}</text>\r\n                            </view>\r\n                            <button\r\n                                :class=\"[ getTheme + ' f-button', item.goods_stock === 0 && type === 1 ? 'f-sold-out' : themeObject.back]\"\r\n                                @click.stop=\"grab(item)\">\r\n                                {{type === 1 ? '马上抢' : '查看商品'}}\r\n                            </button>\r\n                        </view>\r\n                    </view>\r\n                </view>\r\n            </view>\r\n        </view>\r\n        <u-attr\r\n            :goods=\"detail\"\r\n            v-model=\"attrShow\"\r\n            :themeObject=\"themeObject\"\r\n            :checked=\"selectAttr\"\r\n            :right-func=\"true\"\r\n            :left-func=\"true\"\r\n            @leftFunc=\"leftFunc\"\r\n            @rightFunc=\"rightFunc\"\r\n            @check=\"onAttr\"\r\n        >\r\n        </u-attr>\r\n        <view\r\n            v-if=\"!Object.keys(activity).length\"\r\n            :style=\"{height: (windowHeight - switch_height) + 'px'}\"\r\n            :class=\"[getTheme + '-m-back', getTheme, 'f-empty']\">\r\n            <view class=\"f-empty-con\">\r\n                <view class=\"f-no\">\r\n                    <app-no-goods background=\"#efefef\" :title=\"title\"></app-no-goods>\r\n                </view>\r\n            </view>\r\n        </view>\r\n    </app-layout>\r\n</template>\r\n\r\n<script>\r\n    import { mapGetters, mapState } from \"vuex\";\r\n    import appNoGoods from \"../../../components/page-component/app-no-goods/app-no-goods.vue\";\r\n    import uAttr from '../../../components/page-component/goods/u-attr.vue';\r\n\r\n    export default {\r\n        name: \"index\",\r\n        data() {\r\n            return {\r\n                is_switch: true,\r\n                page: 1,\r\n                type: 1,\r\n                activity: {},\r\n                timing: null,\r\n                time_str: {\r\n                    day: '00',\r\n                    hou: '00',\r\n                    min: '00',\r\n                    sec: '00'\r\n                },\r\n                list: [],\r\n                page_count: 1,\r\n                detail: null,\r\n                attr_groups: [],\r\n                attrShow: 0,\r\n                selectAttr: {},\r\n                switch_height: 0,\r\n                title: `暂无进行中活动`,\r\n                is_no_now: false,\r\n                going: true\r\n            }\r\n        },\r\n        methods: {\r\n            async getList() {\r\n                const e = await this.$request({\r\n                    url: this.$api.flash_sale.list,\r\n                    data: {\r\n                        type: this.type,\r\n                        page: this.page\r\n                    }\r\n                });\r\n                if (e.code === 0) {\r\n                    let { activity, list, next_activity, pagination } = e.data;\r\n                    if (this.type === 1) {\r\n                        this.activity = activity;\r\n\r\n                        if (Object.keys(activity).length === 0) {\r\n                            this.is_no_now = true;\r\n                            this.type = 2;\r\n                            const w = await this.$request({\r\n                                url: this.$api.flash_sale.list,\r\n                                data: {\r\n                                    type: this.type,\r\n                                    page: this.page\r\n                                }\r\n                            });\r\n                            let {  list, next_activity, pagination } = w.data;\r\n                            this.activity = next_activity;\r\n                            this.list.push(...list);\r\n                            this.page_count = pagination.page_count;\r\n                        } else {\r\n                            this.is_no_now = false;\r\n                            this.list.push(...list);\r\n                            this.page_count = pagination.page_count;\r\n                        }\r\n                    } else {\r\n                        this.activity = next_activity;\r\n                        this.list.push(...list);\r\n                        this.page_count = pagination.page_count;\r\n                    }\r\n\r\n                }\r\n            },\r\n            set_time(time_at) {\r\n                clearInterval(this.timing);\r\n                let time_str = new Date(time_at.replace(/-/g, '/'));\r\n                this.now_time(time_str);\r\n                this.timing = setInterval(() => {\r\n                    this.now_time(time_str);\r\n                }, 1000);\r\n            },\r\n            now_time(time_str) {\r\n                let time = time_str.getTime() - new Date().getTime();\r\n                if (time < 0) {\r\n                    clearInterval(this.timing);\r\n                }\r\n                let day = parseInt(time/1000/60/60/24);\r\n                let hou = parseInt((time/1000/60/60)%24);\r\n                let min = parseInt((time/1000/60)%60);\r\n                let sec = parseInt((time/1000)%60);\r\n                this.time_str.day = day < 10 ? '0' + day : day;\r\n                this.time_str.hou = hou < 10 ? '0' + hou : hou;\r\n                this.time_str.min = min < 10 ? '0' + min : min;\r\n                this.time_str.sec = sec < 10 ? '0' + sec : sec;\r\n            },\r\n            grab(item) {\r\n                if (this.type === 1) {\r\n                    this.detail = null;\r\n                    if (item.goods_stock !== 0) {\r\n                        this.selectAttr = {};\r\n                        this.detail = item;\r\n                        this.attrShow = true;\r\n                    }\r\n                } else {\r\n                    uni.navigateTo({\r\n                        url: `/plugins/flash_sale/goods/goods?id=${item.id}`\r\n                    })\r\n                }\r\n            },\r\n            onAttr(data) {\r\n                this.selectAttr = data;\r\n            },\r\n            routeDetail(id) {\r\n                uni.navigateTo({\r\n                    url: `/plugins/flash_sale/goods/goods?id=${id}`\r\n                })\r\n            },\r\n            goRule() {\r\n                uni.navigateTo({\r\n                    url: `/pages/rules/index?url=${encodeURIComponent(this.$api.flash_sale.list)}&key=content`\r\n                });\r\n            },\r\n            rightFunc(data) {\r\n                uni.navigateTo({\r\n                    url: `/pages/order-submit/order-submit?mch_list=${JSON.stringify([data])}`\r\n                });\r\n            },\r\n            leftFunc(number) {\r\n                this.$request({\r\n                    url: this.$api.flash_sale.add_cart,\r\n                    data: {\r\n                        flash_goods_id: this.selectAttr.goods_id,\r\n                        attr_id: this.selectAttr.id,\r\n                        num: number\r\n                    },\r\n                    method: 'post'\r\n                }).then(e => {\r\n                    uni.showToast({\r\n                        title: e.msg,\r\n                        type: 'success'\r\n                    });\r\n                });\r\n            }\r\n        },\r\n        mounted() {\r\n            let query = wx.createSelectorQuery();\r\n            this.$nextTick().then(() => {\r\n                query.select('.f-switch').boundingClientRect(rect=>{\r\n                    this.switch_height = rect.height;\r\n                }).exec();\r\n            });\r\n            // #ifdef MP-WEIXIN\r\n            wx.showShareMenu({\r\n                menus: ['shareAppMessage', 'shareTimeline']\r\n            })\r\n            // #endif\r\n        },\r\n        onReachBottom() {\r\n            if (this.page < this.page_count) {\r\n                this.page++;\r\n                this.getList();\r\n            }\r\n        },\r\n        watch: {\r\n            is_switch: {\r\n                handler(boolean) {\r\n                    if (this.going) {\r\n                        this.going = false;\r\n                        this.list = [];\r\n                        this.page = 1;\r\n                        if (boolean) {\r\n                            this.type = 1;\r\n                            this.title = '暂无进行中活动';\r\n                        } else {\r\n                            this.type = 2;\r\n                            this.title = '暂无下一场活动';\r\n                        }\r\n                        this.getList().then(() => {\r\n                            if (this.type === 1) {\r\n                                let end_at = this.activity.end_at;\r\n                                end_at ? this.set_time(end_at) : null;\r\n                            } else {\r\n                                let start_at = this.activity.start_at;\r\n                                start_at ? this.set_time(start_at) : null;\r\n                            }\r\n                            this.going = true;\r\n                        });\r\n                    }\r\n                },\r\n                immediate: true\r\n            }\r\n        },\r\n        computed: {\r\n            ...mapGetters('mallConfig', {\r\n                getTheme: 'getTheme'\r\n            }),\r\n            ...mapState('gConfig', {\r\n                windowHeight: state => state.systemInfo.windowHeight\r\n            }),\r\n            ...mapState({\r\n                appImg: state => state.mallConfig.__wxapp_img.mall,\r\n                appSetting: state => state.mallConfig.mall.setting\r\n            }),\r\n            themeObject:function() {\r\n                // let theme = th\r\n                return {\r\n                    back: this.getTheme + '-m-back ' + this.getTheme,\r\n                    theme: this.getTheme,\r\n                    color: this.getTheme + '-m-text ' + this.getTheme,\r\n                    sBack: this.getTheme + '-s-back ' + this.getTheme\r\n                }\r\n            },\r\n        },\r\n        components: {\r\n            'app-no-goods': appNoGoods,\r\n            uAttr\r\n        },\r\n        onShareAppMessage() {\r\n            return this.$shareAppMessage({\r\n                path: '/plugins/flash_sale/index/index',\r\n                title: this.$children[0].navigationBarTitle\r\n            });\r\n        },\r\n        // #ifdef MP-WEIXIN\r\n        onShareTimeline() {\r\n            // 分享朋友圈beta\r\n            return this.$shareTimeline({\r\n                title:this.$children[0].navigationBarTitle\r\n            });\r\n        },\r\n        // #endif\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n    .f-switch {\r\n        width: 750upx;\r\n        height: 100upx;\r\n        position: relative;\r\n    }\r\n    .f-switch image {\r\n        width: 750upx;\r\n        height: 100upx;\r\n        position: absolute;\r\n        top: -1upx;\r\n    }\r\n    .f-switch .button {\r\n        width: 375upx;\r\n        height: 100upx;\r\n        position: absolute;\r\n        background: transparent;\r\n        padding: 0;\r\n        margin: 0;\r\n        border: none;\r\n    }\r\n    .f-switch .right {\r\n        right: 0;\r\n    }\r\n    .f-switch .left {\r\n        left: 0;\r\n    }\r\n    .f-bulletin {\r\n        padding: 20upx 24upx;\r\n        .f-title {\r\n            font-size: 32upx;\r\n            font-weight: bold;\r\n            color: #353535;\r\n\r\n        }\r\n        .f-rule {\r\n            font-size: 26upx;\r\n            color: #666;\r\n            vertical-align: middle;\r\n            >image {\r\n                width: 12upx;\r\n                height: 22upx;\r\n                margin-left: 14upx;\r\n            }\r\n        }\r\n        .f-timing {\r\n            margin-top: 18upx;\r\n            font-size: 26upx;\r\n            color: #353535;\r\n            >text:first-child {\r\n                margin-left: 18upx;\r\n            }\r\n        }\r\n    }\r\n    .f-bulletin>view {\r\n        background-color: #fff;\r\n        border-radius: 15upx;\r\n        height: 147upx;\r\n        padding: 32upx 24upx;\r\n    }\r\n    .f-activity {\r\n        padding: 0 24upx;\r\n        overflow: auto;\r\n        position: absolute;\r\n        width: 750upx;\r\n        min-height: calc(100% - 287rpx);\r\n        .f-item {\r\n            background-color: #fff;\r\n            border-radius: 15upx;\r\n            padding: 24upx;\r\n            margin-bottom: 20upx;\r\n            .f-pic {\r\n                width: 240upx;\r\n                height: 240upx;\r\n                border-radius: 8upx;\r\n            }\r\n            >view.cont {\r\n                width: 394upx;\r\n                margin-left: 24upx;\r\n                position: relative;\r\n            }\r\n            .f-name {\r\n                font-size: 28upx;\r\n                color: #353535;\r\n                min-width: 304upx;\r\n            }\r\n            .f-discount {\r\n                height: 26upx;\r\n                color: #fff;\r\n                font-size: 20upx;\r\n                margin-right: 10upx;\r\n                text-align: center;\r\n                line-height: 26upx;\r\n                border-radius: 7upx;\r\n                padding: 0 5upx;\r\n            }\r\n            .f-num {\r\n                font-size: 24upx;\r\n                margin-top: 10upx;\r\n            }\r\n            .f-num>text:first-child {\r\n                color: #666;\r\n            }\r\n            .f-button {\r\n                height: 68upx;\r\n                line-height: 68upx;\r\n                width: 164upx;\r\n                border-radius: 34upx;\r\n                font-size: 26upx;\r\n                color: #fff;\r\n                margin: 0;\r\n                padding: 0;\r\n                text-align: center;\r\n                border: none;\r\n            }\r\n            .f-content {\r\n                position: absolute;\r\n                bottom: 0;\r\n                width: 394upx;\r\n            }\r\n            .f-price>text:first-child {\r\n                font-size: 32upx;\r\n            }\r\n            .f-price>text:last-child {\r\n                font-size: 25upx;\r\n                color: #999;\r\n                text-decoration: line-through;\r\n            }\r\n            .app-percentage {\r\n                width: #{395rpx};\r\n                height: #{20rpx};\r\n                border-radius: #{12rpx};\r\n                margin-top: #{10rpx};\r\n                overflow: hidden;\r\n                >view {\r\n                    height: #{20rpx};\r\n                    border-radius: #{12rpx};\r\n                }\r\n            }\r\n            .f-sold-out {\r\n                background-color: #cdcdcd;\r\n            }\r\n        }\r\n    }\r\n    .f-empty {\r\n        width: 750upx;\r\n        padding: 20upx 24upx;\r\n        .f-empty-con {\r\n            height: 100%;\r\n            background: #efefef;\r\n            border-radius: 15upx;\r\n            position: relative;\r\n        }\r\n        .f-no {\r\n            position: absolute;\r\n            top: 30%;\r\n            left: 50%;\r\n            transform: translate(-50%, -50%);\r\n        }\r\n    }\r\n    .out-dialog {\r\n        border-top-left-radius: 15upx;\r\n        border-top-right-radius: 15upx;\r\n        width: 240upx;\r\n        height: 240upx;\r\n        position: absolute;\r\n        top: 0;\r\n        z-index: 10;\r\n        left: 0;\r\n        background-color: rgba(0,0,0,.5);\r\n        image {\r\n            width: 240upx;\r\n            height: 240upx;\r\n        }\r\n    }\r\n    .f-image {\r\n        position: relative;\r\n    }\r\n</style>\r\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=69ae26d9&scoped=true&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=69ae26d9&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1608184837165\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}