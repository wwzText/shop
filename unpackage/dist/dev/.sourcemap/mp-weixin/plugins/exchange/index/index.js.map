{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/exchange/index/index.vue?b4fa","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/exchange/index/index.vue?4b59","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/exchange/index/index.vue?5e62","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/exchange/index/index.vue?5269","uni-app:///plugins/exchange/index/index.vue","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/exchange/index/index.vue?1b90","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/exchange/index/index.vue?9edd"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,yG;AACAA,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACsC;;;AAG1F;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACpBA;AAAA;AAAA;AAAA;AAA+lB,CAAgB,ynBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC8DnnB,gD;;AAEA;AACA,eADA;AAEA,MAFA,kBAEA;AACA;AACA,0CADA;AAEA,uBAFA;AAGA,qBAHA;AAIA;AACA,6BADA;AAEA,6BAFA,CAJA;;AAQA,iBARA;AASA,cATA;AAUA,uBAVA;AAWA,oBAXA;AAYA,cAZA;AAaA,iBAbA;AAcA,uBAdA;AAeA,sBAfA;AAgBA,mBAhBA;AAiBA,iBAjBA;AAkBA,oBAlBA;AAmBA,aAnBA;AAoBA,eApBA;AAqBA,aArBA;;AAuBA,GA1BA;AA2BA;AACA;AACA;AACA;AACA,OAHA;AAIA,qBAJA,EADA,EA3BA;;;AAmCA;AACA,4BADA;AAEA,gBAFA;AAGA,8BAHA;AAIA,mBAJA,EAnCA;;AAyCA;AACA;AACA,iFADA,GADA;;AAIA;AACA,wBADA,GAJA,CAzCA;;;AAiDA;AACA;AACA,iDADA;AAEA,2CAFA;;AAIA,GAtDA;;AAwDA,iBAxDA,6BAwDA;AACA;AACA;AACA,iDADA;AAEA,eAFA,CAEA;AAFA;AAIA,GA9DA;;AAgEA,eAhEA,2BAgEA;AACA;AACA;AACA;AACA;AACA,GArEA;AAsEA,QAtEA,kBAsEA,OAtEA,EAsEA;AACA;AACA;AACA;AACA;;AAEA;AACA,iDADA;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA,OANA;;AAQA;AACA,qCADA;AAEA,QAFA,CAEA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA,6BADA;AAEA,sBAFA;AAGA,wBAHA;;AAKA;AACA,KAZA;AAaA,GArGA;AAsGA,QAtGA,oBAsGA;AACA;AACA;AACA;AACA,GA1GA;AA2GA;AACA,KADA,eACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KATA;AAUA,YAVA,sBAUA;AACA;AACA;AACA;AACA;AACA,sBADA;AAEA,8BAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAHA,EAGA,IAHA;AAIA,OAXA,EAWA,GAXA;AAYA,KA/BA;AAgCA,QAhCA,kBAgCA;AACA;;AAEA;AACA,eADA,mBACA,GADA,EACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDADA;AAEA;AACA,8BADA,EAFA;;AAKA,kBALA,CAKA;AACA;AACA;AACA;AACA,eATA;AAUA,aAhBA,MAgBA;AACA;AACA,6CADA;AAEA,4BAFA;AAGA,8BAHA;;AAKA;AACA;AACA,SA7BA;AA8BA,YA9BA,gBA8BA,GA9BA,EA8BA;AACA,SA/BA;;;;;;;;;;;;;AA4CA,KA/EA;AAgFA,aAhFA,qBAgFA,CAhFA,EAgFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAxFA;AAyFA,WAzFA,qBAyFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBADA;;AAGA;AACA,mCADA;AAEA;AACA,yBADA,EAFA;;AAKA,UALA,CAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SALA,MAKA;AACA;AACA,+BADA;AAEA,wBAFA;AAGA,0BAHA;;AAKA;AACA,OApBA,EAoBA,KApBA,CAoBA;AACA;AACA,OAtBA;AAuBA,KA1HA;AA2HA,WA3HA,qBA2HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBADA;;AAGA;AACA,mCADA;AAEA,UAFA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SALA,MAKA;AACA;AACA,+BADA;AAEA,wBAFA;AAGA,0BAHA;;AAKA;AACA,OAjBA,EAiBA,KAjBA,CAiBA;AACA;AACA,OAnBA;AAoBA,KA1JA;AA2JA,YA3JA,oBA2JA,IA3JA,EA2JA;AACA;AACA,gFADA;;AAGA,KA/JA;AAgKA,UAhKA,oBAgKA;AACA;AACA,0CADA;;AAGA,KApKA;AAqKA,SArKA,mBAqKA;AACA;AACA;AACA;AACA;AACA;AACA,uBADA;;AAGA;AACA;AACA;AACA,oCADA;AAEA;AACA,oBADA,EAFA;;AAKA,UALA,CAKA;AACA;AACA;AACA;AACA;AACA;AACA,+DADA;;AAGA,SALA,MAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OArBA,EAqBA,KArBA,CAqBA;AACA;AACA,OAvBA;AAwBA,KAvMA,EA3GA,E;;;;;;;;;;;;;AChEA;AAAA;AAAA;AAAA;AAAynC,CAAgB,mmCAAG,EAAC,C;;;;;;;;;;;ACA7oC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"plugins/exchange/index/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './plugins/exchange/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=2d77edf4&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=2d77edf4&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2d77edf4\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"plugins/exchange/index/index.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=2d77edf4&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.dialog = false\n      _vm.code = \"\"\n    }\n\n    _vm.e1 = function($event) {\n      _vm.showRules = false\n      _vm.bottom = \"-998rpx\"\n      _vm.animationData = {}\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n    <app-layout>\r\n        <app-tab-nav setTop=\"0\" :border=\"false\" :shadow=\"false\" height=\"100\" :tabList=\"tabList\" padding=\"0\" :activeItem=\"activeTab\" @click=\"tabStatus\" :theme=\"getTheme\"></app-tab-nav>\r\n        <view v-if=\"activeTab == '0'\" class=\"scan\">\r\n            <view>输入兑换码或者扫码兑换二维码开始兑换</view>\r\n            <view class=\"scan-input\">\r\n                <input placeholder=\"请输入兑换码\" v-model=\"code\" type=\"text\">\r\n                <image @click=\"scan\" src=\"./../image/scan.png\"></image>\r\n            </view>\r\n            <view @click=\"clerk\" class=\"scan-button\" :class=\"code.length > 0 ? getTheme + '-m-back ' + getTheme:'default'\">兑换</view>\r\n        </view>\r\n        <view v-if=\"activeTab == '1'\">\r\n            <view v-if=\"list.length > 0\" class=\"item\" v-for=\"(item,index) in list\" :key=\"index\">\r\n                <view class=\"main-between cross-center status\">\r\n                    <view class=\"item-code\" :class=\"item.status == 2 ? getTheme + '-m-text ' + getTheme + '-m-back-o ' + getTheme:'default'\">{{item.code}}</view>\r\n                    <view @click=\"toDetail(item)\" class=\"dir-left-nowrap cross-center item-status\" :class=\"item.status == 2 ? getTheme + '-m-text ' + getTheme:'default'\">\r\n                        <view>{{item.status == 2 ? item.last_num + '项待领取' : '已全部领取'}}</view>\r\n                        <i v-if=\"item.status == 2\" :class=\"getTheme + '-m-text ' + getTheme\" class=\"iconfont icon-right\">&#xe7eb;</i>\r\n                        <image v-else src=\"/static/image/icon/right.png\"></image>\r\n                    </view>\r\n                </view>\r\n                <view class=\"item-time\">兑换时间：{{item.r_raffled_at}}</view>\r\n            </view>\r\n            <view style=\"padding-top: 30%\" v-if=\"list.length == 0\">\r\n                <app-no-goods title=\"暂无兑换记录\" :is_image=\"1\" background=\"#f7f7f7\"></app-no-goods>\r\n            </view>\r\n        </view>\r\n        <view @click=\"showRule\" class=\"use-info\" :class=\"[ `${getTheme + '-m-text ' + getTheme}`,`${tabbarbool? 'tabbarbool':''}`]\" v-if=\"setting.is_rules == 1 && activeTab == '0'\">使用说明</view>\r\n        <u-mask :show=\"dialog\" :maskClickAble=\"false\" :zoom=\"false\">\r\n            <view class=\"dialog\">\r\n                <image class=\"dialog-img\" src=\"./../image/error.png\"></image>\r\n                <view class=\"dialog-msg\">\r\n                    <text>{{msg}}</text>\r\n                </view>\r\n                <view class=\"dialog-other\">{{other}}</view>\r\n                <view @click=\"dialog=false;code=''\"  :class=\"getTheme + '-m-back ' + getTheme\" class=\"dialog-button\">我知道了</view>\r\n            </view>\r\n        </u-mask>\r\n        <view v-if=\"showRules\" class=\"dialog-bg\">\r\n            <view class=\"u-rules\" :animation=\"animationData\" :style=\"{bottom: bottom}\" :class=\"[`${tabbarbool? 'tabbarbool':''}`,`${iphone_x? 'iphone_x':''}`]\">\r\n                <view class=\"u-rules-top dir-right-nowrap\">\r\n                    <view v-if=\"over\" @click=\"showRules=false;bottom='-998rpx';animationData={}\" class=\"end-close main-center cross-center\">\r\n                        <image src=\"/static/image/icon/icon-close.png\"></image>\r\n                    </view>\r\n                </view>\r\n\r\n                <view class=\"u-rules-content\">\r\n                    <parse :content=\"setting.rules\"></parse>\r\n                </view>\r\n            </view>\r\n        </view>\r\n        <view @click=\"toGift\" v-if=\"setting.is_to_gift == 1\" class=\"jump-dialog cross-center dir-top-nowrap main-center\" :class=\"[`${tabbarbool? 'tabbarbool':''}`]\">\r\n            <image :src=\"setting.to_gift_pic\"></image>\r\n            <view>礼品卡</view>\r\n        </view>\r\n    </app-layout>\r\n</template>\r\n<script>\r\n    import appTabNav from \"../../../components/basic-component/app-tab-nav/app-tab-nav.vue\";\r\n    import uMask from '../../../components/basic-component/u-mask/u-mask.vue';\r\n    import parse from \"../../../components/basic-component/app-rich/parse.vue\";\r\n    import appNoGoods from '../../../components/page-component/app-no-goods/app-no-goods.vue';\r\n    import { mapState, mapGetters } from \"vuex\";\r\n\r\n    export default {\r\n        name: \"index\",\r\n        data() {\r\n            return {\r\n                currentRoute: this.$platDiff.route(),\r\n                tabbarbool: false,\r\n                iphone_x: false,\r\n                tabList: [\r\n                    {id:0, name: '兑换礼品'},\r\n                    {id:1, name: '兑换记录'}\r\n                ],\r\n                over: false,\r\n                code: '',\r\n                bottom: '-998rpx',\r\n                activeTab: '0',\r\n                list: [],\r\n                setting: {},\r\n                animationData: {},\r\n                showRules: false,\r\n                dialog: false,\r\n                more: false,\r\n                loading: false,\r\n                msg: '',\r\n                other: '',\r\n                page: 1,\r\n            };\r\n        },\r\n        watch: {\r\n            tabBarNavs: {\r\n                handler: function() {\r\n                    this.b();\r\n                },\r\n                immediate: true,\r\n            }\r\n        },\r\n        components: {\r\n            \"app-tab-nav\": appTabNav,\r\n            parse,\r\n            \"app-no-goods\": appNoGoods,\r\n            \"u-mask\": uMask\r\n        },\r\n        computed: {\r\n            ...mapState({\r\n                tabBarNavs: state => state.mallConfig.navbar.navs,\r\n            }),\r\n            ...mapGetters('mallConfig', {\r\n                getTheme: 'getTheme'\r\n            })\r\n        },\r\n        onShareAppMessage: function() {\r\n            return this.$shareAppMessage({\r\n                title: this.$children[0].navigationBarTitle,\r\n                path: \"/plugins/exchange/index/index\",\r\n            });\r\n        },\r\n        // #ifdef MP-WEIXIN\r\n        onShareTimeline() {\r\n          // 分享朋友圈beta\r\n          return this.$shareTimeline({\r\n            title: this.$children[0].navigationBarTitle,\r\n            query: {} // 此处填写页面的参数\r\n          });\r\n        },\r\n        // #endif\r\n        onReachBottom() {\r\n            if(this.more) {\r\n                this.page++;\r\n                this.getMore();\r\n            }\r\n        },\r\n        onLoad(options) {\r\n            let that = this;\r\n            if(options.code) {\r\n                this.code = options.code\r\n            }\r\n            // #ifdef MP-WEIXIN\r\n            wx.showShareMenu({\r\n              menus: ['shareAppMessage', 'shareTimeline']\r\n            })\r\n            // #endif\r\n            uni.getSystemInfo({\r\n                success: function (res) {\r\n                    that.height = -res.screenHeight;\r\n                    if(res.model.indexOf('iPhone X') > -1 || res.model.indexOf('iPhone 11') > -1 || res.model.indexOf('iPhone11') > -1 || res.model.indexOf('iPhone12') > -1 || res.model.indexOf('Unknown Device') > -1) {\r\n                        that.iphone_x = true;\r\n                    }\r\n                }\r\n            });\r\n            that.$request({\r\n                url: that.$api.exchange.setting,\r\n            }).then(response=>{\r\n                if(response.code == 0) {\r\n                    that.setting = response.data;\r\n                }else {\r\n                    uni.showToast({\r\n                        title: response.msg,\r\n                        icon: 'none',\r\n                        duration: 1000\r\n                    });\r\n                }\r\n            })\r\n        },\r\n        onShow() {\r\n            if(this.activeTab == '1') {\r\n                this.getList();\r\n            }\r\n        },\r\n        methods: {\r\n            b() {\r\n                let currentRoute = this.currentRoute;\r\n                for (let i = 0; i < this.tabBarNavs.length; i++) {\r\n                    if(currentRoute.includes(this.tabBarNavs[i].url.split('?')[0])) {\r\n                        return this.tabbarbool = true;\r\n                    }\r\n                }\r\n                return  this.tabbarbool = false;\r\n            },\r\n            showRule() {\r\n                let that = this;\r\n                that.over = false;\r\n                that.showRules = true;\r\n                var animation = uni.createAnimation({\r\n                    duration: 1000,\r\n                    timingFunction: 'ease',\r\n                })\r\n                that.animationData = animation\r\n                setTimeout(function(){\r\n                    let num = 0;\r\n                    if(that.tabbarbool) {\r\n                        num += 55\r\n                    }\r\n                    animation.bottom(-500).bottom(num).step()\r\n                    that.animationData = animation.export();\r\n                    setTimeout(function(){\r\n                        that.bottom = num *2 + 'rpx';\r\n                        that.over = true;\r\n                    },1200)\r\n                },200)\r\n            },\r\n            scan() {\r\n                let that = this;\r\n                // #ifndef MP-ALIPAY\r\n                uni.scanCode({\r\n                    success(res) {\r\n                        if(res.scanType == \"CODE_128\" || (res.result && res.result.length == 12)) {\r\n                            that.code = res.result\r\n                        } else {\r\n                            if(res.path) {\r\n                                let path = res.path\r\n                                path = path.split('?');\r\n                                let scene = path[1];\r\n                                let reg = new RegExp(\"scene=\", \"g\");\r\n                                scene = path[1].replace(reg, \"\");\r\n                                that.$request({\r\n                                    url: that.$api.default.qrcode_parameter,\r\n                                    data: {\r\n                                        token: scene\r\n                                    }\r\n                                }).then(response => {\r\n                                    if (response.code === 0) {\r\n                                        that.code = response.data.detail.data.code;\r\n                                    }\r\n                                });\r\n                            }else {\r\n                                uni.showToast({\r\n                                    title: '暂不支持此二维码，请使用应用内扫一扫功能',\r\n                                    icon: 'none',\r\n                                    duration: 1000\r\n                                });\r\n                            }\r\n                        }\r\n                    },\r\n                    fail(res) {\r\n                    }\r\n                })\r\n                // #endif\r\n                // #ifdef MP-ALIPAY\r\n                my.ap.navigateToAlipayPage({\r\n                    appCode:'alipayScan',\r\n                    success:(res) => {\r\n                    },\r\n                    fail:(res) => {\r\n                        my.alert({content:'失败：'+JSON.stringify(res)});\r\n                    }\r\n                });\r\n                // #endif\r\n            },\r\n            tabStatus(e) {\r\n                if(this.loading) {\r\n                    return false\r\n                }\r\n                this.list = [];\r\n                this.page = 1;\r\n                this.activeTab = e.currentTarget.dataset.id;\r\n                this.getList();\r\n            },\r\n            getMore() {\r\n                let that = this;\r\n                if(this.loading) {\r\n                    return false\r\n                }\r\n                this.loading = true;\r\n                that.more = false;\r\n                uni.showLoading({\r\n                    title: '加载中...'\r\n                });\r\n                that.$request({\r\n                    url: that.$api.exchange.log,\r\n                    data: {\r\n                        page: that.page\r\n                    }\r\n                }).then(response=>{\r\n                    uni.hideLoading();\r\n                    this.loading = false;\r\n                    if(response.code == 0) {\r\n                        that.list = that.list.concat(response.data.list);\r\n                        if(that.list.length == response.data.pagination.pageSize) {\r\n                            that.more = true;\r\n                        }\r\n                    }else {\r\n                        uni.showToast({\r\n                            title: response.msg,\r\n                            icon: 'none',\r\n                            duration: 1000\r\n                        });\r\n                    }\r\n                }).catch(response => {\r\n                    uni.hideLoading();\r\n                });\r\n            },\r\n            getList() {\r\n                let that = this;\r\n                if(this.loading) {\r\n                    return false\r\n                }\r\n                this.loading = true;\r\n                that.page = 1;\r\n                that.more = false;\r\n                uni.showLoading({\r\n                    title: '加载中...'\r\n                });\r\n                that.$request({\r\n                    url: that.$api.exchange.log\r\n                }).then(response=>{\r\n                    this.loading = false;\r\n                    uni.hideLoading();\r\n                    if(response.code == 0) {\r\n                        that.list = response.data.list;\r\n                        if(that.list.length == response.data.pagination.pageSize) {\r\n                            that.more = true;\r\n                        }\r\n                    }else {\r\n                        uni.showToast({\r\n                            title: response.msg,\r\n                            icon: 'none',\r\n                            duration: 1000\r\n                        });\r\n                    }\r\n                }).catch(response => {\r\n                    uni.hideLoading();\r\n                });\r\n            },\r\n            toDetail(item) {\r\n                uni.navigateTo({\r\n                    url: '/plugins/exchange/detail/detail?code=' + item.code + '&exchange=1'\r\n                })\r\n            },\r\n            toGift() {\r\n                uni.navigateTo({\r\n                    url: '/plugins/exchange/list/list'\r\n                })\r\n            },\r\n            clerk() {\r\n                let that = this;\r\n                if(this.loading || !this.code) {\r\n                    return false\r\n                }\r\n                uni.showLoading({\r\n                    title: '兑换中...'\r\n                });\r\n                this.loading = true;\r\n                let code = this.code;\r\n                that.$request({\r\n                    url: that.$api.exchange.info,\r\n                    data: {\r\n                        code: code\r\n                    }\r\n                }).then(response=>{\r\n                    this.loading = false;\r\n                    uni.hideLoading();\r\n                    if(response.code == 0) {\r\n                        this.code = '';\r\n                        uni.navigateTo({\r\n                            url: '/plugins/exchange/detail/detail?code=' + code\r\n                        })\r\n                    }else {\r\n                        this.msg = response.msg;\r\n                        this.other = '';\r\n                        if(response.msg == '该兑换码未到使用时间!') {\r\n                            this.other = response.data.valid_start_time + '-' + response.data.valid_end_time + ' 可用'\r\n                        }\r\n                        this.dialog = true;\r\n                    }\r\n                }).catch(response => {\r\n                    uni.hideLoading();\r\n                });\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n    .dialog-bg {\r\n        position: fixed;\r\n        top: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        background-color: rgba(0,0,0,.3);\r\n        z-index: 101;\r\n    }\r\n    .jump-dialog {\r\n        position: fixed;\r\n        bottom: 120rpx;\r\n        right: 24rpx;\r\n        width: 100rpx;\r\n        height: 100rpx;\r\n        border-radius: 50%;\r\n        background-color: rgba(0,0,0,.3);\r\n        font-size: 16rpx;\r\n        color: #fff;\r\n        z-index: 100;\r\n        &.tabbarbool {\r\n            bottom: 240rpx;\r\n        }\r\n        image {\r\n            width: 54rpx;\r\n            height: 54rpx;\r\n            margin-bottom: 3rpx;\r\n            display: block;\r\n        }\r\n    }\r\n    .use-info {\r\n        position: fixed;\r\n        bottom: 64rpx;\r\n        text-align: center;\r\n        font-size: 28rpx;\r\n        width: 200rpx;\r\n        margin: 0 auto;\r\n        left: 0;\r\n        right: 0;\r\n        &.tabbarbool {\r\n            bottom: 204rpx;\r\n        }\r\n    }\r\n    .scan {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        background-color: #fff;\r\n        text-align: center;\r\n        padding-top: 184rpx;\r\n        font-size: 28rpx;\r\n        color: #353535;\r\n        .scan-input {\r\n            height: 94rpx;\r\n            width: 580rpx;\r\n            margin: 40rpx auto;\r\n            background-color: #f9f9f9;\r\n            border: 2rpx solid #e2e2e2;\r\n                border-radius: 16rpx;\r\n            position: relative;\r\n            box-shadow: 1rpx 1rpx 4rpx 4rpx #f5f5f5;\r\n            input {\r\n                border-radius: 16rpx;\r\n                width: 100%;\r\n                height: 100%;\r\n                padding: 10rpx 80rpx 10rpx 20rpx;\r\n                text-align: left;\r\n            }\r\n            image {\r\n                width: 48rpx;\r\n                height: 44rpx;\r\n                position: absolute;\r\n                right: 24rpx;\r\n                top: 23rpx;\r\n                z-index: 2\r\n            }\r\n        }\r\n        .scan-button {\r\n            height: 300rpx;\r\n            width: 300rpx;\r\n            border-radius: 50%;\r\n            text-align: center;\r\n            line-height: 300rpx;\r\n            box-shadow: 2rpx 2rpx 8rpx 8rpx #f3f3f3;\r\n            margin: 112rpx auto;\r\n            font-size: 42rpx;\r\n            font-weight: 600;\r\n            color: #fff;\r\n            &.default {\r\n                color: #b2b2b2;\r\n                background-color: #d6d6d6;\r\n            }\r\n        }\r\n    }\r\n    .item {\r\n        margin: 24rpx 24rpx 0;\r\n        background-color: #fff;\r\n        border-radius: 16rpx;\r\n        .status {\r\n            padding: 28rpx 30rpx;\r\n            border-bottom: 2rpx solid #e2e2e2;\r\n\r\n            .item-code {\r\n                padding: 16rpx 30rpx;\r\n                border-radius: 40rpx;\r\n                font-size: 28rpx;\r\n                font-weight: 600;\r\n                &.default {\r\n                    background-color: #F5F5F5;\r\n                    color: #999999;\r\n                }\r\n            }\r\n            .item-status {\r\n                font-size: 28rpx;\r\n                &.default {\r\n                    color: #999999;\r\n                }\r\n                view:first-of-type {\r\n                    margin-right: 16rpx;\r\n                }\r\n                image {\r\n                    height: 22rpx;\r\n                    width: 14rpx;\r\n                    display: block;\r\n                }\r\n            }\r\n        }\r\n        .item-time {\r\n            height: 72rpx;\r\n            line-height: 72rpx;\r\n            font-size: 28rpx;\r\n            color: #666666;\r\n            padding: 0 30rpx;\r\n        }\r\n    }\r\n    .dialog {\r\n        margin: 270rpx auto;\r\n        background-color: #fff;\r\n        border-radius: 16rpx;\r\n        width: 600rpx;\r\n        padding: 60rpx 0;\r\n        text-align: center;\r\n        .dialog-img {\r\n            width: 200rpx;\r\n            height: 200rpx;\r\n            margin: 0 auto 20rpx;\r\n        }\r\n        .dialog-msg {\r\n            font-size: 32rpx;\r\n            color: #353535;\r\n        }\r\n        .dialog-other {\r\n            font-size: 24rpx;\r\n            color: #999999;\r\n        }\r\n        .dialog-button {\r\n            font-size: 26rpx;\r\n            width: 520rpx;\r\n            height: 90rpx;\r\n            border-radius: 45rpx;\r\n            line-height: 90rpx;\r\n            text-align: center;\r\n            color: #fff;\r\n            margin: 50rpx auto 0;\r\n        }\r\n    }\r\n    .u-rules {\r\n        border-top-left-radius: 16rpx;\r\n        border-top-right-radius: 16rpx;\r\n        width: 100%;\r\n        position: fixed;\r\n        z-index: 1005;\r\n        left: 0;\r\n        background-color: #fff;\r\n        &.iphone_x.tabbarbool {\r\n            padding-bottom: 50rpx;\r\n        }\r\n        .u-rules-top {\r\n            border-top-left-radius: 16rpx;\r\n            border-top-right-radius: 16rpx;\r\n            background-color: #fff;\r\n            height: 80rpx;\r\n            .end-close {\r\n                width: 80rpx;\r\n                height: 80rpx;\r\n                padding: 25rpx;\r\n                image {\r\n                    width: 30rpx;\r\n                    height: 30rpx;\r\n                }\r\n            }\r\n        }\r\n        .u-rules-content {\r\n            padding: 0 20rpx;\r\n            min-height: 160rpx;\r\n            max-height: 918rpx;\r\n            overflow: auto;\r\n        }\r\n    }\r\n</style>","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=2d77edf4&scoped=true&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=2d77edf4&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1608184834986\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}