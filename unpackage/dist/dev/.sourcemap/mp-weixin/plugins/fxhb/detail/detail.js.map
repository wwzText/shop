{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/fxhb/detail/detail.vue?beb2","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/fxhb/detail/detail.vue?1077","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/fxhb/detail/detail.vue?a105","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/fxhb/detail/detail.vue?d63b","uni-app:///plugins/fxhb/detail/detail.vue","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/fxhb/detail/detail.vue?c53b","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/fxhb/detail/detail.vue?44a0"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,uG;AACAA,UAAU,CAACC,eAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+H;AAC/H;AAC0D;AACL;AACsC;;;AAG3F;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,6FAAM;AACR,EAAE,sGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,iGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAgmB,CAAgB,0nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2KpnB,gD;;;AAGA;AACA,gBADA;AAEA;AACA,gCADA,EAFA;;AAKA;AACA;AACA,mFADA,GADA;;AAIA;AACA,wBADA,GAJA,CALA;;;;AAcA,MAdA,kBAcA;AACA;AACA;AACA,kCADA;AAEA,yBAFA;AAGA,kBAHA;AAIA,oBAJA;AAKA,6BALA;AAMA,0BANA;AAOA,mBAPA;;AASA,2BATA;AAUA,gBAVA;AAWA,0BAXA;AAYA,gBAZA;AAaA,kBAbA;AAcA,sBAdA;AAeA,gBAfA;AAgBA,kBAhBA;AAiBA,iBAjBA;AAkBA,uBAlBA;AAmBA,mBAnBA;AAoBA,sBApBA;AAqBA,kBArBA;AAsBA,0BAtBA;;AAwBA,GAxCA;;AA0CA;AACA;AACA;AACA,GA7CA;;AA+CA,mBA/CA,+BA+CA;AACA;AACA,oCADA;AAEA,yCAFA;AAGA;AACA,+CADA,EAHA;;AAMA,yCANA;;AAQA,GAxDA;;AA0DA;AACA;AACA,GA5DA;;AA8DA;AACA,cADA,wBACA;AACA;AACA;AACA,oBADA;;AAGA;AACA,iCADA;AAEA;AACA,iDADA,EAFA;;AAKA,UALA,CAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAHA,MAGA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AACA,SAbA,MAaA;AACA;AACA;AACA;AACA,WAFA,EAEA,IAFA;AAGA;AACA,OA1BA,EA0BA,KA1BA,CA0BA;AACA;AACA,OA5BA;AA6BA,KAnCA;;AAqCA,WArCA,qBAqCA;AACA,oBADA,CACA,WADA,WACA,WADA,WACA,eADA;AAEA,KAvCA;AAwCA,QAxCA,kBAwCA;AACA;AACA;AACA;AACA;AACA;AACA,KA9CA;AA+CA,SA/CA,mBA+CA;AACA;AACA,8IADA;;AAGA,KAnDA;AAoDA,SApDA,mBAoDA;AACA;AACA,KAtDA;AAuDA,SAvDA,mBAuDA;AACA;AACA,KAzDA;;AA2DA,aA3DA,uBA2DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAtFA;AAuFA,gBAvFA,0BAuFA;AACA;AACA,qBADA;AAEA,kBAFA;;AAIA;AACA,gCADA;AAEA,sBAFA;AAGA;AACA,iDADA,EAHA;;AAMA,UANA,CAMA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA,OAdA,EAcA,KAdA,CAcA;AACA;AACA,OAhBA;AAiBA,KA7GA;;AA+GA,YA/GA,sBA+GA;AACA;AACA,8BADA;AAEA,4BAFA,IADA;;AAKA;AACA,gDADA;AAEA;AACA,+DADA,EAFA,GALA,SAKA,IALA;;;AAWA;AACA;;;;;;;AAOA,2BAPA,EAEA,kBAFA,cAEA,kBAFA,EAGA,OAHA,cAGA,OAHA,EAGA,aAHA,cAGA,aAHA,EAIA,IAJA,cAIA,IAJA,EAIA,SAJA,cAIA,SAJA,EAIA,QAJA,cAIA,QAJA,EAKA,UALA,cAKA,UALA,EAKA,MALA,cAKA,MALA,EAKA,SALA,cAKA,SALA,EAMA,QANA,cAMA,QANA,EAMA,UANA,cAMA,UANA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBA1BA,MA0BA;AACA;AACA,gCADA;AAEA,mCAFA;AAGA,kCAHA;AAIA;AACA;AACA,iDADA;;AAGA,qBARA;;AAUA,iBAjDA;AAkDA,KAjKA;;AAmKA,gBAnKA,0BAmKA;AACA;AACA;;AAEA;AACA;AACA,kBADA;AAEA,kBAFA,CADA,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAVA;AAWA,+DAXA,CAWA,eAXA,YAWA,cAXA;AAYA;AACA;AACA;AACA;AACA,OAhBA;AAiBA;AACA;AACA;AACA,OAFA,EAEA,IAFA;AAGA,KA5LA;;AA8LA,UA9LA,kBA8LA,OA9LA,EA8LA,KA9LA,EA8LA;AACA;AACA,oBADA;AAEA,kBAFA;;AAIA;AACA,uCADA;AAEA;AACA,0BADA;AAEA,sBAFA,EAFA;;AAMA,UANA,CAMA;AACA;AACA;AACA;AACA;AACA,aAFA,EAEA,IAFA;AAGA,WAJA,MAIA;AACA;AACA;AACA;AACA;AACA;AACA,SAXA,MAWA;AACA;AACA;AACA;AACA,wBADA;AAEA,2BAFA;AAGA,0BAHA;AAIA;AACA;AACA,yCADA;;AAGA,aARA;;AAUA;AACA,OAhCA;AAiCA,KApOA;;AAsOA;AACA;AACA,mBADA,CACA,WADA,YACA,qBADA;AAEA,KAzOA;;AA2OA;AACA;AACA,aADA,CACA,qBADA;AAEA,KA9OA;;AAgPA,gBAhPA,0BAgPA;AACA;AACA,8BADA;AAEA,4BAFA,IADA;;AAKA;AACA,mDADA,GALA,SAKA,IALA;;AAQA;AACA;AACA;AACA,iBAXA;AAYA,KA5PA,EA9DA,E;;;;;;;;;;;;;AC9KA;AAAA;AAAA;AAAA;AAA0nC,CAAgB,omCAAG,EAAC,C;;;;;;;;;;;ACA9oC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"plugins/fxhb/detail/detail.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './plugins/fxhb/detail/detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail.vue?vue&type=template&id=71998da9&scoped=true&\"\nvar renderjs\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&id=71998da9&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"71998da9\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"plugins/fxhb/detail/detail.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=template&id=71998da9&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=script&lang=js&\"","<template>\r\n    <view class=\"app-layout\">\r\n        <app-layout>\r\n            <view class=\"detail-bg\">\r\n                <view class=\"fxhb-bg\" :style=\"{'background-image': `url(${appImg.bg})`}\">\r\n                    <view class=\"fxhb-right\">\r\n                        <view @click=\"rules\">活动规则</view>\r\n                        <view @click=\"homes\">返回首页</view>\r\n                    </view>\r\n                </view>\r\n                <view class=\"fxhb-box\">\r\n                    <!-- 正在进行 -->\r\n                    <view v-if=\"status === 0 && is_join == 1\" class=\"detail-info\">\r\n                        <view class=\"user-list dir-left-wrap main-center\">\r\n                            <view v-for=\"(v,k) in list\" :key=\"k\" class=\"user-item\">\r\n                                <image :src=\"v.avatar\" load-lazy></image>\r\n                            </view>\r\n                            <view v-for=\"(v,k) in user_num_list\" :key=\"k\" class=\"user-item none\">\r\n                                <image :src=\"appImg.fxhb_none\" load-lazy></image>\r\n                            </view>\r\n                        </view>\r\n                        <view class=\"detail-info-text\">还差{{user_num}}人即可瓜分{{coupon_total_money}}元红包,快邀好友来拆</view>\r\n                        <view class=\"detail-time-text\">{{time_str}}后结束</view>\r\n                        <view class=\"main-center\">\r\n                            <app-jump-button open_type=\"share\">\r\n                                <app-button color=\"#FFFFFF\" height=\"88\" width=\"560\"\r\n                                            background=\"#ff4544\" round>邀请好友一起拆\r\n                                </app-button>\r\n                            </app-jump-button>\r\n                        </view>\r\n                    </view>\r\n\r\n                    <!-- 过期 -->\r\n                    <view v-if=\"status === 2\" class=\"detail-info\">\r\n                        <view class=\"detail-info-text cross-center dir-top-nowrap\">\r\n                            <view>超过规定时间，该红包不能拆了</view>\r\n                            <icon class=\"icon-detail-time\"></icon>\r\n                        </view>\r\n                        <view class=\"main-center\">\r\n                            <app-button @click=\"openNew\" height=\"88\" width=\"560\" background=\"#ff4544\" color=\"#FFFFFF\"\r\n                                        font-size=\"32\" round>拆一个新红包\r\n                            </app-button>\r\n                        </view>\r\n                    </view>\r\n\r\n                    <!-- 未中奖 -->\r\n                    <view v-if=\"status === 1 && is_join == 0\" class=\"detail-info\">\r\n                        <view class=\"user-list dir-left-wrap main-center\">\r\n                            <block v-for=\"(v,k) in list\" :key=\"k\">\r\n                                <view class=\"user-item\">\r\n                                    <image :src=\"v.avatar\" load-lazy></image>\r\n                                </view>\r\n                            </block>\r\n                        </view>\r\n                        <view class=\"detail-info-text\">很遗憾，该红包已被瓜分完了</view>\r\n                        <view class=\"main-center detail-error\">\r\n                            <app-button height=\"88\" width=\"560\" color=\"#FFFFFF\" background=\"#ff4544\" @click=\"openNew\"\r\n                                        round>\r\n                                拆一个新红包\r\n                            </app-button>\r\n                        </view>\r\n                    </view>\r\n\r\n                    <!-- 已中奖 -->\r\n                    <view v-if=\"status === 1 && is_join == 1\" class=\"detail-info\">\r\n                        <view class=\"detail-info-text\">恭喜您，已成功瓜分红包</view>\r\n                        <view class=\"dir-left-nowrap cross-center coupon\">\r\n                            <view class=\"box-grow-1\">\r\n                                <view class=\"coupon-title\">满减券</view>\r\n                                <view class=\"coupon-desc\">满{{min_price}}可用</view>\r\n                            </view>\r\n                            <view class=\"box-grow-0 dir-left-nowrap cross-bottom\">\r\n                                <view class=\"coupon-unit cross-bottom\">￥</view>\r\n                                <view class=\"coupon-money\">{{user_price}}</view>\r\n                            </view>\r\n                        </view>\r\n                        <view class=\"main-center\">\r\n                            <app-button @click=\"openNew\" font-size=\"32\" background=\"#ff4544\" height=\"88\" width=\"560\"\r\n                                        color=\"#FFFFFF\" round>拆一个新红包\r\n                            </app-button>\r\n                        </view>\r\n                        <view class=\"main-center coupon-set\">\r\n                            <app-button @click=\"goods\" font-size=\"32\" background=\"#ffb82f\" height=\"88\" width=\"560\"\r\n                                        color=\"#FFFFFF\" round>立即使用\r\n                                <icon class=\"icon-right\"></icon>\r\n                            </app-button>\r\n                        </view>\r\n                    </view>\r\n\r\n                    <!-- 中奖列表 -->\r\n                    <view v-if=\"status === 1\" class=\"detail-info award-list\">\r\n                        <view class=\"dir-left dir-left-nowrap main-center cross-center\">\r\n                            <view class=\"box-grow-0 list-line\"></view>\r\n                            <view class=\"box-grow-0 list-text\">看看大家手气</view>\r\n                            <view class=\"box-grow-0 list-line\"></view>\r\n                        </view>\r\n                        <view class=\"dir-left-nowrap cross-center list\" v-for=\"(v,k) in list\" :key=\"k\">\r\n                            <view class=\"box-grow-0\">\r\n                                <image class=\"user-avatar\" :src=\"v.avatar\" load-lazy></image>\r\n                            </view>\r\n                            <view class=\"box-grow-1\">{{v.nickname}}</view>\r\n                            <view class=\"box-grow-0 dir-top-nowrap main-right\">\r\n                                <view class=\"main-right\">{{v.get_price}}元</view>\r\n                                <view class=\"dir-left main-center best\" v-if=\"v.is_best\">\r\n                                    <icon class=\"user-pond\"></icon>\r\n                                    <view class=\"t-extra-small\">手气最佳</view>\r\n                                </view>\r\n                            </view>\r\n                        </view>\r\n                    </view>\r\n\r\n                    <!-- 推荐商品 -->\r\n                    <view class=\"more-goods\" v-if=\"goods_list && goods_list.length\">\r\n                        <view class=\"tt-goods dir-left-nowrap cross-center main-center\">\r\n                            <view class=\"line\"></view>\r\n                            <view class=\"dir-left-nowrap cross-center\">\r\n                                <icon class=\"icon-love\"></icon>\r\n                                <view>商品推荐</view>\r\n                            </view>\r\n                            <view class=\"line\"></view>\r\n                        </view>\r\n                        <u-ordinary-list :isShowAttr=\"true\" :list=\"goods_list\" :theme=\"getTheme\" :list-style=\"2\"></u-ordinary-list>\r\n                    </view>\r\n\r\n                    <!-- 模态框 -->\r\n                    <view v-if=\"show_share_model && user_num\" class=\"act-modal\">\r\n                        <view class=\"act-modal-bg\"></view>\r\n                        <view class=\"act-modal-pic cross-center main-center\">\r\n                            <view class=\"modal-box\" :style=\"{'background-image': `url(${appImg.share_modal_bg})`}\">\r\n                                <view class=\"modal-close\" @click=\"closeShareModal\">\r\n                                    <icon class=\"icon-close\"></icon>\r\n                                </view>\r\n                                <view class=\"modal-text dir-left-nowrap main-center cross-bottom\">\r\n                                    <view>还差</view>\r\n                                    <view class=\"bold-num\">{{user_num}}</view>\r\n                                    <view>个人即可拆红包</view>\r\n                                </view>\r\n                                <view class=\"dir-left-nowrap main-center cross-bottom\">\r\n                                    <view>一起瓜分</view>\r\n                                    <view class=\"bold-money\">{{coupon_total_money}}</view>\r\n                                    <view>元！</view>\r\n                                </view>\r\n                                <view class=\"main-center btn\">\r\n                                    <app-jump-button open_type=\"share\">\r\n                                        <app-button height=\"80\" width=\"440\" color=\"#FFFFFF\" font-size=\"28\"\r\n                                                    background=\"#ff4544\" round>邀请好友一起拆\r\n                                        </app-button>\r\n                                    </app-jump-button>\r\n                                </view>\r\n                            </view>\r\n                        </view>\r\n                    </view>\r\n\r\n                    <view v-if=\"is_new\" class=\"hongbao dir-left main-center\">\r\n                        <view class=\"hongbao-content\" :style=\"{'background-image': `url(${appImg.hongbao_bg})`}\">\r\n                            <view class=\"hongbao-desc\">\r\n                                <view>{{config.count_price}}元红包已包好</view>\r\n                                <view>快拆开和小伙伴分红包</view>\r\n                            </view>\r\n                            <view @click=\"open\">\r\n                                <icon class=\"hongbao-btn\"></icon>\r\n                            </view>\r\n                        </view>\r\n                    </view>\r\n                </view>\r\n            </view>\r\n        </app-layout>\r\n    </view>\r\n</template>\r\n\r\n<script>\r\n    import { mapGetters, mapState } from 'vuex';\r\n    import uOrdinaryList from '../../../components/page-component/u-goods-list/u-ordinary-list.vue';\r\n\r\n    export default {\r\n        name: \"detail\",\r\n        components: {\r\n            uOrdinaryList\r\n        },\r\n        computed: {\r\n            ...mapState({\r\n                appImg: state => state.mallConfig.plugin.fxhb.app_image\r\n            }),\r\n            ...mapGetters('mallConfig', {\r\n                getTheme: 'getTheme'\r\n            })\r\n        },\r\n\t    \r\n        data() {\r\n            let interval_time;\r\n            return {\r\n                interval_time,\r\n                user_activity_id: 0,\r\n                config: null,\r\n                goods_list: [],\r\n                show_share_model: false,\r\n                time_str: \"00:00:00\",\r\n                is_new: false,\r\n\r\n                coupon_total_money: 0,\r\n                is_join: 0,\r\n                is_my_hongbao: false,\r\n                list: null,\r\n                min_price: 0,\r\n                reset_time: null,\r\n                status: -1,\r\n                totalUser: 0,\r\n                user_num: 0,\r\n                user_num_list: [],\r\n                user_price: 0,\r\n                again_open: true,\r\n                page_url: '',\r\n                template_message: []\r\n            }\r\n        },\r\n\t    \r\n        onLoad: function (options) {\r\n            this.user_activity_id = options.user_activity_id ? options.user_activity_id : '';\r\n            this.loadConfig();\r\n        },\r\n\r\n        onShareAppMessage() {\r\n            return this.$shareAppMessage({\r\n                title: this.config.share_title,\r\n                path: '/plugins/fxhb/detail/detail',\r\n                params: {\r\n                    user_activity_id: this.user_activity_id,\r\n                },\r\n                imageUrl: this.config.share_pic_url\r\n            });\r\n        },\r\n\r\n        onUnload: function () {\r\n            clearInterval(this.intervalTime);\r\n        },\r\n\r\n        methods: {\r\n            loadConfig() {\r\n                const self = this;\r\n                uni.showLoading({\r\n\t                title: '加载中',\r\n                });\r\n                self.$request({\r\n                    url: self.$api.fxhb.index,\r\n                    data: {\r\n                        user_activity_id: self.user_activity_id\r\n                    }\r\n                }).then(info => {\r\n\t                uni.hideLoading();\r\n                    if (info.code === 0) {\r\n                        self.config = info.data.config;\r\n                        self.template_message = info.data.template_message;\r\n                        if (info.data.user_activity_id) {\r\n                            self.user_activity_id = info.data.user_activity_id;\r\n                            self.loadData()\r\n                        } else {\r\n                            if (self.user_activity_id) {\r\n                                self.subscribe();\r\n                            } else {\r\n                                self.openNew();\r\n                            }\r\n                        }\r\n                    } else {\r\n                        uni.showToast({icon: 'none', title: info.msg});\r\n                        setTimeout(() => {\r\n                            uni.redirectTo({url: '/pages/index/index'})\r\n                        }, 2000)\r\n                    }\r\n                }).catch(() => {\r\n                    uni.hideLoading();\r\n                })\r\n            },\r\n\r\n            openNew() {\r\n                [this.status, this.is_new, this.goods_list] = [-1, true, []];\r\n            },\r\n            open() {\r\n                if (this.again_open) {\r\n                    this.user_activity_id = 0;\r\n                    this.subscribe();\r\n                    this.again_open = false;\r\n                }\r\n            },\r\n            rules() {\r\n                uni.navigateTo({\r\n                    url: `/pages/rules/index?url=${encodeURIComponent(this.$api.fxhb.index)}&keys=${JSON.stringify(['config', 'remark'])}`,\r\n                });\r\n            },\r\n            homes() {\r\n                uni.navigateTo({url: `/pages/index/index`})\r\n            },\r\n            goods() {\r\n                uni.redirectTo({url: this.page_url});\r\n            },\r\n\r\n            subscribe(){\r\n                this.detailSubmit();\r\n                // return;\r\n                // self.$subscribe(self.template_message).then(res => {\r\n                //     let tpl_id = self.template_message[0];\r\n                //     if (res[tpl_id] == 'accept') {\r\n                //         uni.showModal({\r\n                //             title: '提示',\r\n                //             content: '订阅成功',\r\n                //             showCancel: false,\r\n                //             success(res) {\r\n                //                 self.detailSubmit();\r\n                //             }\r\n                //         })\r\n                //     } else {\r\n                //         uni.showModal({\r\n                //             title: '提示',\r\n                //             content: '取消订阅',\r\n                //             showCancel: false,\r\n                //             success(res) {\r\n                //                 self.detailSubmit();\r\n                //             }\r\n                //         })\r\n                //     }\r\n                // }).catch(res => {\r\n                //     self.detailSubmit();\r\n                // });\r\n            },\r\n            detailSubmit() {\r\n\t            uni.showLoading({\r\n\t\t            title: '抢红包中',\r\n                    mask: true,\r\n                });\r\n                this.$request({\r\n                    url: this.$api.fxhb.join,\r\n                    method: 'post',\r\n                    data: {\r\n                        user_activity_id: this.user_activity_id\r\n                    }\r\n                }).then(info => {\r\n\t                uni.hideLoading();\r\n                    if (info.code === 0) {\r\n                        this.result(info.data.queueId, info.data.token);\r\n                    } else {\r\n                        this.openNew();\r\n                        uni.showToast({icon: 'none', title: info.msg});\r\n                    }\r\n                }).catch(() => {\r\n                    uni.hideLoading();\r\n                })\r\n            },\r\n\r\n            async loadData() {\r\n\t            uni.showLoading({\r\n\t\t            title: '加载中',\r\n\t\t            mask: true,\r\n\t            });\r\n                const info = await this.$request({\r\n                    url: this.$api.fxhb.detail,\r\n                    data: {\r\n                        user_activity_id: this.user_activity_id\r\n                    }\r\n                });\r\n                uni.hideLoading();\r\n                if (info.code === 0) {\r\n                    let {\r\n                        coupon_total_money,\r\n                        is_join, is_my_hongbao,\r\n                        list, min_price, page_url,\r\n                        reset_time, status, totalUser,\r\n                        user_num, user_price\r\n                    } = info.data;\r\n                    this.coupon_total_money = coupon_total_money;\r\n                    this.is_join = is_join;\r\n                    this.is_my_hongbao = is_my_hongbao;\r\n                    this.list = list;\r\n                    this.min_price = min_price;\r\n                    this.page_url = page_url;\r\n                    this.reset_time = reset_time;\r\n                    this.totalUser = totalUser;\r\n                    this.status = status;\r\n                    this.user_num = user_num;\r\n                    this.user_price = user_price;\r\n                    this.user_num_list = [];\r\n                    for (let i = 0; i < this.user_num; i++) {\r\n                        this.user_num_list.push(i);\r\n                    }\r\n                    this.setTimeStart();\r\n                    this.getRecommend();\r\n                    this.again_open = true;\r\n                } else {\r\n                    uni.showToast({\r\n\t                    icon: 'none',\r\n\t                    title: info.msg,\r\n                        duration: 2000,\r\n                        success: function() {\r\n                            uni.redirectTo({\r\n                                url: '/pages/index/index'\r\n                            });\r\n                        }\r\n                    });\r\n                }\r\n            },\r\n\r\n            setTimeStart() {\r\n                const self = this;\r\n                clearInterval(this.interval_time);\r\n\r\n                let times = function () {\r\n                    let hour = 0,\r\n                        minute = 0,\r\n                        second = 0; //时间默认值\r\n                    let times = self.reset_time;\r\n                    times--;\r\n                    if (times > 0) {\r\n                        hour = Math.floor(times / (60 * 60));\r\n                        minute = Math.floor(times / 60) - (hour * 60);\r\n                        second = Math.floor(times) - (hour * 60 * 60) - (minute * 60);\r\n                    }\r\n                    [self.reset_time, self.time_list] = [times, {hour, minute, second}];\r\n                    self.time_str = (hour < 10 ? ('0' + hour) : hour) + ':' + (minute < 10 ? ('0' + minute) : minute) + ':' + (second < 10 ? ('0' + second) : second);\r\n                    if (times <= 0) {\r\n                        clearInterval(self.intervalTime);\r\n                    }\r\n                };\r\n                times();\r\n                this.interval_time = setInterval(() => {\r\n                    times();\r\n                }, 1000);\r\n            },\r\n\r\n            result(queueId, token) {\r\n\t            uni.showLoading({\r\n\t\t            title: '加载中',\r\n\t\t            mask: true,\r\n\t            });\r\n                this.$request({\r\n                    url: this.$api.fxhb.join_result,\r\n                    data: {\r\n                        queueId: queueId,\r\n                        token: token\r\n                    }\r\n                }).then(info => {\r\n                    if (info.code === 0) {\r\n                        if (info.data.retry && info.data.retry == 1) {\r\n                            setTimeout(() => {\r\n                                this.result(queueId, token)\r\n                            }, 1000);\r\n                        } else {\r\n                            this.user_activity_id = info.data.user_activity_id;\r\n                            this.loadData();\r\n                            uni.hideLoading();\r\n                            this.showShareModal();\r\n                        }\r\n                    } else {\r\n                        uni.hideLoading();\r\n                        this.status = 2;\r\n                        uni.showToast({\r\n                            icon: 'none',\r\n                            title: info.msg,\r\n                            duration: 2000,\r\n                            success: function() {\r\n                                uni.redirectTo({\r\n                                    url: '/pages/index/index'\r\n                                });\r\n                            }\r\n                        });\r\n                    }\r\n                })\r\n            },\r\n\r\n            //打开分享提示框\r\n            showShareModal: function () {\r\n                [this.is_new, this.show_share_model] = [false, true];\r\n            },\r\n\r\n            //关闭分享提示框\r\n            closeShareModal: function () {\r\n                [this.show_share_model] = [false];\r\n            },\r\n\r\n            async getRecommend () {\r\n\t            uni.showLoading({\r\n\t\t            title: '加载中',\r\n\t\t            mask: true,\r\n\t            });\r\n                const info = await this.$request({\r\n                    url: this.$api.fxhb.recommend,\r\n                });\r\n\t            uni.hideLoading();\r\n                if (info.code === 0) {\r\n                    this.goods_list = info.data.list;\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style scoped lang=\"scss\">\r\n    .app-layout .detail-bg {\r\n        background: #fe6b2e;\r\n        min-height: calc(100vh - var(--window-top));\r\n    }\r\n    .app-layout /deep/ .app-layout {\r\n        background: #fe6b2e;\r\n        min-height: calc(100vh - var(--window-top));\r\n    }\r\n    .fxhb-bg {\r\n        background-size: 100% auto;\r\n        background-repeat: no-repeat;\r\n        height: #{464rpx};\r\n        position: relative;\r\n        z-index: 50;\r\n    }\r\n\r\n    .fxhb-right {\r\n        font-size: #{24rpx};\r\n        color: #FFFFFF;\r\n        float: right;\r\n\r\n        view {\r\n            background: rgba(0, 0, 0, .5);\r\n            border-radius: #{28rpx} 0 0 #{28rpx};\r\n            line-height: #{56rpx};\r\n            text-align: center;\r\n            width: #{136rpx};\r\n            margin-top: #{24rpx};\r\n        }\r\n    }\r\n\r\n    .fxhb-start {\r\n        position: fixed;\r\n        width: 100%;\r\n        left: 0;\r\n        top: #{380rpx};\r\n        height: 100%;\r\n        z-index: 10;\r\n    }\r\n\r\n    .hongbao {\r\n        position: relative;\r\n        width: 100%;\r\n        left: 0;\r\n        height: 100%;\r\n        z-index: 51;\r\n\r\n        .hongbao-content {\r\n            font-size: #{36rpx};\r\n            padding: #{350rpx} #{25rpx} 0 #{25rpx};\r\n            background-size: 100% auto;\r\n            background-repeat: no-repeat;\r\n            width: #{602rpx};\r\n            height: #{712rpx};\r\n            text-align: center;\r\n\r\n            .hongbao-desc {\r\n                margin-bottom: #{100rpx};\r\n                line-height: 1.5;\r\n                color: #ffe15d;\r\n                font-size: 13pt;\r\n            }\r\n        }\r\n\r\n        .hongbao-btn {\r\n            background-image: url(\"./../image/open_hongbao_btn.png\");\r\n            line-height: #{96rpx};\r\n            height: #{96rpx};\r\n            width: #{416rpx};\r\n            background-repeat: no-repeat;\r\n            background-size: 100% 100%;\r\n            text-align: center;\r\n        }\r\n    }\r\n\r\n    .fxhb-box {\r\n        margin-top: #{-68rpx};\r\n        background: #fe6b2e;\r\n\r\n        .detail-info {\r\n            background: rgba(255, 255, 255, 0.9);\r\n            border-radius: #{16rpx};\r\n            margin: 0 #{24rpx};\r\n            padding: #{50rpx};\r\n            z-index: 100;\r\n            position: relative;\r\n        }\r\n\r\n        .user-list {\r\n            overflow: hidden;\r\n            margin-bottom: #{16rpx};\r\n\r\n            .user-item {\r\n                border: #{2rpx} solid #ff5c5c;\r\n                width: #{104rpx};\r\n                height: #{104rpx};\r\n                margin-left: #{23rpx};\r\n                margin-right: #{23rpx};\r\n                margin-bottom: #{40rpx};\r\n                display: inline-block;\r\n                overflow: hidden;\r\n                border-radius: #{999rpx};\r\n                background-color: #fff;\r\n                float: left;\r\n            }\r\n\r\n            .none {\r\n                border-style: none;\r\n            }\r\n\r\n            image {\r\n                width: 100%;\r\n                height: 100%;\r\n            }\r\n        }\r\n\r\n        .detail-info-text {\r\n            text-align: center;\r\n            color: #666666;\r\n            font-size: #{28rpx};\r\n        }\r\n\r\n        .detail-time-text {\r\n            color: #999999;\r\n            text-align: center;\r\n            margin-top: #{24rpx};\r\n            margin-bottom: #{40rpx};\r\n            font-size: #{28rpx};\r\n        }\r\n\r\n        .icon-detail-time {\r\n            background-size: 100% 100%;\r\n            background-image: url(\"./../image/cry.png\");\r\n            width: #{190rpx};\r\n            height: #{168rpx};\r\n            margin-top: #{48rpx};\r\n            margin-bottom: #{32rpx};\r\n        }\r\n    }\r\n\r\n    .more-goods {\r\n        padding-bottom: #{32rpx};\r\n        color: #FFFFFF;\r\n        font-size: #{24rpx};\r\n        margin-top: #{48rpx};\r\n\r\n        .tt-goods {\r\n            margin-bottom: #{12rpx};\r\n        }\r\n\r\n        .line {\r\n            height: #{1px};\r\n            width: #{40rpx};\r\n            background: #FFFFFF;\r\n            margin: 0 #{24rpx};\r\n        }\r\n\r\n        .icon-love {\r\n            width: #{24rpx};\r\n            height: #{24rpx};\r\n            background-size: 100% 100%;\r\n            background-repeat: no-repeat;\r\n            margin-right: #{12rpx};\r\n            background-image: url(\"./../image/love.png\");\r\n        }\r\n\r\n    }\r\n\r\n    .detail-error {\r\n        margin-top: #{40rpx};\r\n    }\r\n\r\n    .award-list {\r\n        margin-top: #{32rpx} !important;\r\n        padding-top: #{48rpx} !important;\r\n        color: #353535;\r\n        padding-bottom: #{56rpx} !important;\r\n\r\n        .list {\r\n            margin-top: #{40rpx};\r\n        }\r\n\r\n        .list-line {\r\n            width: #{176rpx};\r\n            height: #{2rpx};\r\n            background: #dbdbdb;\r\n        }\r\n\r\n        .list-text {\r\n            font-size: #{32rpx};\r\n            padding: 0 #{50rpx};\r\n        }\r\n\r\n        .user-avatar {\r\n            width: #{80rpx};\r\n            height: #{80rpx};\r\n            border-radius: 50%;\r\n            margin-right: #{20rpx};\r\n        }\r\n\r\n        .best {\r\n            color: #ffb82f;\r\n            font-size: #{28rpx};\r\n            margin-top: #{10rpx};\r\n            .user-pond {\r\n                width: #{40rpx};\r\n                height: #{30rpx};\r\n                margin-right: #{10rpx};\r\n                background-image: url(\"./../image/best_icon.png\");\r\n                background-repeat: no-repeat;\r\n                background-size: 100% auto;\r\n            }\r\n        }\r\n    }\r\n\r\n    .coupon-set {\r\n        margin-top: #{24rpx};\r\n        .icon-right {\r\n            width: #{12rpx};\r\n            height: #{22rpx};\r\n            margin-left: #{10rpx};\r\n            background-image: url(\"../../../static/image/icon/arrow-right-white.png\");\r\n            background-repeat: no-repeat;\r\n            background-size: 100% auto;\r\n        }\r\n    }\r\n    .coupon {\r\n        margin-top: #{32rpx};\r\n        background-size: 100% 100%;\r\n        height: #{190rpx};\r\n        background-repeat: no-repeat;\r\n        background-image: url(\"./../image/coupon.png\");\r\n        margin-bottom: #{24rpx};\r\n        .coupon-title {\r\n            font-size: #{48rpx};\r\n            padding-left: #{56rpx};\r\n            color: #8f4c1a;\r\n            margin-bottom: #{16rpx};\r\n        }\r\n        .coupon-desc {\r\n            font-size: #{28rpx};\r\n            padding-left: #{56rpx};\r\n            color: #8f4c1a;\r\n        }\r\n        .coupon-unit {\r\n            font-size: #{50rpx};\r\n            line-height: 1.35;\r\n            color: #ff5c5c;\r\n            padding-bottom: #{2rpx};\r\n        }\r\n        .coupon-money {\r\n            font-size: #{80rpx};\r\n            line-height: 1;\r\n            font-weight: bold;\r\n            padding-right: #{56rpx};\r\n            color: #ff5c5c;\r\n        }\r\n    }\r\n    .act-modal {\r\n        position: fixed;\r\n        left: 0;\r\n        top: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        z-index: 2001;\r\n        transition: 200ms;\r\n        .show {\r\n            visibility: visible;\r\n            opacity: 1;\r\n        }\r\n        .act-modal-bg {\r\n            background: rgba(0, 0, 0, 0.5);\r\n            position: fixed;\r\n            left: 0;\r\n            top: 0;\r\n            width: 100%;\r\n            height: 100%;\r\n            z-index: 1;\r\n        }\r\n        .act-modal-pic {\r\n            background: rgba(0, 0, 0, 0.25);\r\n            position: fixed;\r\n            left: 0;\r\n            top: 0;\r\n            width: 100%;\r\n            height: 100%;\r\n            z-index: 1;\r\n        }\r\n    }\r\n    .modal-box {\r\n        background-size: 100% 100%;\r\n        background-repeat: no-repeat;\r\n        height: #{816rpx};\r\n        width: #{606rpx};\r\n        text-align: center;\r\n        font-size: #{40rpx};\r\n        color: #666666;\r\n        .modal-close {\r\n            float: right;\r\n            margin-top: #{32rpx};\r\n            margin-right: #{32rpx};\r\n            .icon-close {\r\n                background-image: url(\"../../../static/image/icon/close.png\");\r\n                background-repeat: no-repeat;\r\n                background-size: 100% auto;\r\n                height: #{30rpx};\r\n                width: #{30rpx};\r\n            }\r\n        }\r\n        .modal-text {\r\n            margin-top: #{448rpx};\r\n            margin-bottom: #{28rpx};\r\n        }\r\n        .bold-num {\r\n            font-size: #{54rpx};\r\n            color: #ffc73f;\r\n            line-height:1em;\r\n            font-weight: bold;\r\n        }\r\n        .bold-money {\r\n            font-size: #{68rpx};\r\n            color: #ffc73f;\r\n            line-height:1em;\r\n            font-weight: bold;\r\n        }\r\n        .btn {\r\n            margin-top: #{64rpx};\r\n        }\r\n    }\r\n</style>","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=0&id=71998da9&scoped=true&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=0&id=71998da9&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1608184815956\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}