{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/advance/order/order.vue?5eeb","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/advance/order/order.vue?462c","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/advance/order/order.vue?b411","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/advance/order/order.vue?5e15","uni-app:///plugins/advance/order/order.vue","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/advance/order/order.vue?a670","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/plugins/advance/order/order.vue?a03a"],"names":["createPage","Page"],"mappings":"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AAGA,uBAHA,mBAGA,GAHA,EAGA;AACA;AACA;AACA,mBAFA,MAEA;AACA;AACA;AACA,iBATA;;AAWA;AACA,WA5BA;AA6BA,SA9BA,EA8BA,KA9BA,CA8BA;AACA,SA/BA;AAgCA,OAjCA;AAkCA,KA9HA;AA+HA,WA/HA,mBA+HA,IA/HA,EA+HA,IA/HA,EA+HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAhBA,CAgBA;AACA,sCAjBA,CAiBA;AACA,qCAlBA,CAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAHA,MAGA;AACA;AACA;AACA,SARA,MAQA;AACA;AACA;AACA,OAbA,MAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA/KA;AAgLA,WAhLA,mBAgLA,iBAhLA,EAgLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAbA,CAaA;AACA,sCAdA,CAcA;AACA,qCAfA,CAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA7MA;AA8MA,WA9MA,mBA8MA,IA9MA,EA8MA;AACA;AACA,8BADA,IADA;;;AAKA;AACA,kDADA;AAEA,iCAFA;AAGA;AACA,6CADA;AAEA,uCAFA;AAGA,8CAHA,EAHA,GALA,SAKA,QALA;;;AAcA;AACA;AACA;AACA;AACA,mBAFA,MAEA;AACA;AACA;AACA;AACA;AACA,6BADA,GACA,EADA;AAEA,+BAFA,GAEA,2CAFA;AAGA;AACA;AACA;AACA;AACA;AACA,iBA9BA;;AAgCA;AACA;AACA,qDADA,IAjCA;;;AAqCA,KAnPA;AAoPA,YApPA,oBAoPA,SApPA,EAoPA,iBApPA,EAoPA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KA1PA;AA2PA,cA3PA,sBA2PA,IA3PA,EA2PA;AACA;AACA,yDADA;AAEA,kCAFA;AAGA;AACA,wBADA,CAHA,GADA,SACA,QADA;;;AAQA,mCARA;AASA,wBATA;AAUA;AACA;AACA,+BADA;AAEA,yCAFA;AAGA,2BAHA,mBAGA,GAHA,EAGA;AACA;AACA;AACA,uBAFA,MAEA;AACA;AACA;AACA,qBATA;;AAWA,iBAtBA;AAuBA,KAlRA;AAmRA,YAnRA,sBAmRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AACA,SAdA,MAcA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAFA,MAEA;AACA;AACA;AACA;AACA,WAdA,MAcA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAvCA,EAuCA,IAvCA;AAwCA,KAlWA;AAmWA,cAnWA,wBAmWA;AACA;AACA;AACA;AACA,8BADA,IAHA;;AAMA;AACA,kDADA;AAEA,iCAFA;AAGA;AACA,6CADA;AAEA,uCAFA;AAGA,8CAHA,EAHA,GANA,SAMA,QANA;;;AAeA;AACA;AACA;AACA,6BADA,GACA,EADA;AAEA,+BAFA,GAEA,2CAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCA3BA;AA4BA,KA/XA;AAgYA,gBAhYA,0BAgYA;AACA;AACA,KAlYA;AAmYA,aAnYA,uBAmYA;AACA;AACA;AACA;AACA;AACA,KAxYA,EA9DA;;AAwcA,eAxcA,2BAwcA;AACA;AACA;AACA;AACA,oCADA;AAEA,qBAFA;AAGA;AACA,+BADA;AAEA,yBAFA;AAGA,gCAHA,EAHA;;AAQA,UARA,CAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAXA,MAWA;AACA;AACA;AACA;AACA,OAzBA;AA0BA;AACA,GAteA;AAueA;AACA;AACA,wBADA,GADA,CAveA;;;AA4eA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KArBA,EA5eA,E;;;;;;;;;;;;;AC1GA;AAAA;AAAA;AAAA;AAAynC,CAAgB,mmCAAG,EAAC,C;;;;;;;;;;;ACA7oC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"plugins/advance/order/order.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './plugins/advance/order/order.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./order.vue?vue&type=template&id=33ef4db3&scoped=true&\"\nvar renderjs\nimport script from \"./order.vue?vue&type=script&lang=js&\"\nexport * from \"./order.vue?vue&type=script&lang=js&\"\nimport style0 from \"./order.vue?vue&type=style&index=0&id=33ef4db3&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"33ef4db3\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"plugins/advance/order/order.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order.vue?vue&type=template&id=33ef4db3&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.order_list, function(item, index) {\n    var $orig = _vm.__get_orig(item)\n\n    var f0 = _vm._f(\"orderStatus\")(item.status_num)\n\n    var m0 =\n      item.status_num == 2\n        ? _vm.set_time(item.pay_limit, item.end_prepayment_at)\n        : null\n    return {\n      $orig: $orig,\n      f0: f0,\n      m0: m0\n    }\n  })\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.active = true\n    }\n\n    _vm.e1 = function($event) {\n      $event.stopPropagation()\n      _vm.active = false\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order.vue?vue&type=script&lang=js&\"","<template>\r\n  <app-layout>\r\n\t  <view class=\"order\">\r\n\t\t  <view  class=\"top dir-left-nowrap main-between cross-center\">\r\n\t\t\t  <view class=\"top-input cross-center\" @click=\"go_search()\" v-if=\"!search\">\r\n\t\t\t\t  <view class=\"input main-center cross-center\">\r\n\t\t\t\t\t <image src=\"/static/image/icon/icon-search.png\"></image>\r\n\t\t\t\t\t  <text>搜索</text>\r\n\t\t\t\t  </view>\r\n\t\t\t  </view>\r\n\t\t\t  <view class=\"to-top dir-left-nowrap main-center cross-center\" v-if=\"!search\" @click=\"active = true\">\r\n\t\t\t\t  <text :class=\"getTheme + '-m-text ' + getTheme\">{{active_item}}</text>\r\n\t\t\t\t  <image v-if=\"!active\" :class=\"getTheme + '-m-back ' + getTheme\" class=\"icon\" src=\"../image/open.png\"></image>\r\n\t\t\t\t  <image v-else class=\"icon icon-active\" :class=\"getTheme + '-m-back ' + getTheme\" src=\"../image/open.png\"></image>\r\n\t\t\t  </view>\r\n\t\t\t  <view class=\"search dir-left-nowrap cross-center main-between\" v-if=\"search\">\r\n\t\t\t\t  <input type=\"text\" class=\"input\" :focus=\"true\" v-model=\"search_text\" @blur=\"blur_request\" @confirm=\"set_search\">\r\n\t\t\t\t  <image class=\"delete\" v-show=\"search_text.length>0\" @click=\"empyt_search\" src=\"../image/delete.png\"></image>\r\n\t\t\t\t  <text style=\"color:#666666;font-size: 32rpx;\" @click=\"set_search\">搜索</text>\r\n\t\t\t  </view>\r\n\t\t  </view>\r\n\t\t  <view class=\"do-top\" v-if=\"active\" @click.stop=\"active = false\">\r\n\t\t\t  <view class=\"do-top-item\"\r\n\t\t\t        v-for=\"(item, index) in select_list\"\r\n\t\t\t        :key=\"index\"\r\n\t\t\t        :class=\"item.active ? getTheme + '-m-text ' + getTheme : 'default-text'\"\r\n\t\t\t        @click=\"set_active(item)\"\r\n\t\t\t  >\r\n\t\t\t\t  {{item.text}}\r\n\t\t\t  </view>\r\n\t\t  </view>\r\n\t\t  <view style=\"margin-top: 108rpx;\"></view>\r\n\t\t  <view class=\"item\"  v-for=\"(item, index) in order_list\" :key=\"index\">\r\n\t\t\t  <view class=\"item-top dir-left-wrap main-between cross-center\" >\r\n\t\t\t\t  <text class=\"order-number\" style=\"color: #999999;\">订单号{{item.advance_no}}</text>\r\n                  <text>{{item.status_num | orderStatus}}</text>\r\n\t\t\t  </view>\r\n\t\t\t  <view class=\"item-center dir-left-nowrap\" @click=\"route_go(item)\">\r\n\t\t\t\t  <image class=\"image\" :src=\"item.goods.goodsWarehouse.cover_pic\"></image>\r\n\t\t\t\t  <view class=\"content\">\r\n\t\t\t\t\t  <view class=\"name\">{{item.goods.goodsWarehouse.name}}</view>\r\n\t\t\t\t\t  <view class=\"attr\">\r\n\t\t\t\t\t\t  <text>{{item.attr_name}}</text>\r\n\t\t\t\t\t  </view>\r\n\t\t\t\t\t  <view class=\"num-price dir-left-nowrap main-between cross-center\">\r\n\t\t\t\t\t\t  <text>×{{item.goods_num}}</text>\r\n\t\t\t\t\t\t  <text>￥{{item.goodsAttr.price}}</text>\r\n\t\t\t\t\t  </view>\r\n\t\t\t\t\t  <view class=\"des-price dir-left-wrap main-right cross-center\">\r\n\t\t\t\t\t\t  <text>定金</text>\r\n\t\t\t\t\t\t  <text :style=\"{color: item.is_pay == 0 ? '#ff4544' : '#353535'}\">￥{{item.deposit}}</text>\r\n\t\t\t\t\t\t  <text>抵￥{{item.swell_deposit}}</text>\r\n\t\t\t\t\t\t  <text style=\"color: #ff4544;\" v-if=\"item.status_num == 9\">（定金不退）</text>\r\n\t\t\t\t\t  </view>\r\n\t\t\t\t  </view>\r\n\t\t\t  </view>\r\n\t\t\t  <view class=\"item-bottom\">\r\n\t\t\t\t  <view class=\"swell-price main-right cross-center\" v-if=\"item.status_num == 2 || item.status_num == 3 || item.status_num == 4 || item.status_num == 9 \">\r\n\t\t\t\t\t  <text>尾款</text>\r\n\t\t\t\t\t  <text style=\"color: #ff4544;\">￥{{item.tail_money}}</text>\r\n\t\t\t\t  </view>\r\n                  <view v-if=\"item.status_num == 1\" class=\"text-time\">\r\n                      <text>距截止</text>\r\n                      <text style=\"color: #ff4544\">{{item.html}}</text>\r\n                  </view>\r\n                  <view v-if=\"item.status_num == 3  && item.pay_limit != -1\" class=\"text-time\">\r\n                      <text>距截止</text>\r\n                      <text style=\"color: #ff4544\">{{item.html}}</text>\r\n                  </view>\r\n\t\t\t\t  <view class=\"filal-payment-time\" v-if=\"item.status_num == 2\">\r\n\t\t\t\t\t  支付尾款时间：{{set_time(item.pay_limit, item.end_prepayment_at)}}\r\n\t\t\t\t  </view>\r\n\t\t\t\t  <view class=\"button\" :class=\"getTheme + '-m-back ' + getTheme\" @click=\"payFinalPayment(item)\" v-if=\"item.status_num == 3 && item.order_id == 0\">\r\n\t\t\t\t\t  <app-form-id>\r\n\t\t\t\t\t\t  <text>\r\n\t\t\t\t\t\t\t  去支付尾款\r\n\t\t\t\t\t\t  </text>\r\n\t\t\t\t\t  </app-form-id>\r\n\t\t\t\t  </view>\r\n\t\t\t\t  <view class=\"button\" :class=\"getTheme + '-m-back ' + getTheme\" @click=\"payPayment(item, index)\" v-else-if=\"item.status_num == 3 && item.order_id != 0 && item.pay_type != 2\">\r\n\t\t\t\t\t  <app-form-id>\r\n\t\t\t\t\t\t  <text>\r\n\t\t\t\t\t\t\t  付款\r\n\t\t\t\t\t\t  </text>\r\n\t\t\t\t\t  </app-form-id>\r\n\t\t\t\t  </view>\r\n\t\t\t\t  <view class=\"button\" :class=\"getTheme + '-m-back ' + getTheme\" @click=\"payDeposit(item, index)\" v-else-if=\"item.status_num == 1\">\r\n\t\t\t\t\t  <app-form-id>\r\n\t\t\t\t\t\t  <text>\r\n\t\t\t\t\t\t\t  去支付定金\r\n\t\t\t\t\t\t  </text>\r\n\t\t\t\t\t  </app-form-id>\r\n\t\t\t\t  </view>\r\n\t\t\t  </view>\r\n\t\t  </view>\r\n\t\t  <view class=\"order-empty\" v-if=\"order_list.length === 0\">\r\n\t\t\t <image src=\"../image/order.png\"></image>\r\n\t\t\t  <text>没有任何订单哦~</text>\r\n\t\t  </view>\r\n\t  </view>\r\n  </app-layout>\r\n</template>\r\n\r\n<script>\r\n\timport {mapGetters} from \"vuex\";\r\n\r\n\texport default {\r\n\t\tname: 'order',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t  active: false,\r\n\t\t\t  active_item: '全部预定',\r\n\t\t\t  select_list: [\r\n\t\t\t\t{\r\n\t\t\t\t  id: -1,\r\n\t\t\t\t  active: true,\r\n\t\t\t\t  text: '全部预定',\r\n\t\t\t\t},\r\n\t\t\t\t {\r\n\t\t\t\t   id: 1,\r\n\t\t\t\t  active: false,\r\n\t\t\t\t  text: '定金待支付',\r\n\t\t\t\t},\r\n\t\t\t\t {\r\n\t\t\t\t   id: 2,\r\n\t\t\t\t  active: false,\r\n\t\t\t\t  text: '尾款支付未开始',\r\n\t\t\t\t},\r\n\t\t\t\t {\r\n\t\t\t\t   id: 3,\r\n\t\t\t\t  active: false,\r\n\t\t\t\t  text: '尾款待支付',\r\n\t\t\t\t},\r\n\t\t\t\t {\r\n\t\t\t\t   id: 4,\r\n\t\t\t\t  active: false,\r\n\t\t\t\t  text: '购买成功',\r\n\t\t\t\t},\r\n\t\t\t\t {\r\n\t\t\t\t   id: 5,\r\n\t\t\t\t  active: false,\r\n\t\t\t\t  text: '购买失败',\r\n\t\t\t\t}\r\n\t\t\t  ],\r\n\t\t\t\torder_list: [],\r\n\t\t\t\tpage: 1,\r\n\t\t\t\tkeyword: -1,\r\n\t\t\t\tover: false,\r\n\t\t\t\tinterval: null,\r\n\t\t\t\tsearch: false,\r\n\t\t\t\tsearch_text: '',\r\n\t\t\t\toldOrder: [],\r\n\t\t\t\ttemplate_message: []\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.order_list = [];\r\n\t\t\tthis.page = 1;\r\n\t\t\tthis.request(1).then(() => {\r\n\t\t\t\tthis.get_time();\r\n\t\t\t});\r\n\t\t},\r\n\t\tonHide() {\r\n\t\t\tclearInterval(this.interval);\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\tclearInterval(this.interval);\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tempyt_search() {\r\n\t\t\t\tthis.search = false;\r\n\t\t\t\tthis.search_text = '';\r\n\t\t\t\tthis.set_active({id: -1});\r\n\t\t\t\tthis.active_item = '全部预定';\r\n\t\t\t},\r\n\t\t\tset_active(data) {\r\n\t\t\t\tclearInterval(this.interval);\r\n\t\t\t\tthis.order_list = [];\r\n\t\t\t\tthis.keyword = data.id;\r\n\t\t\t\tthis.over = false;\r\n\t\t\t\tthis.page = 1;\r\n\t\t\t\tthis.request().then(() => {\r\n\t\t\t\t\tif (data.id === 1 || data.id === -1 || data.id === 3) this.get_time();\r\n\t\t\t\t});\r\n\t\t\t\tfor (let i = 0; i < this.select_list.length; i++) {\r\n\t\t\t\t\tif (this.select_list[i].id === data.id) {\r\n\t\t\t\t\t\tthis.select_list[i].active = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.select_list[i].active = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t  }\r\n\t\t\t\tthis.active = false;\r\n\t\t\t\tthis.active_item = data.text;\r\n\t\t\t},\r\n\t\t\troute_go(data) {\r\n\t\t\t\tif (data.status_num == 4) {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: `/pages/order/order-detail/order-detail?id=${data.order_id}&sign=advance`\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 支付尾款\r\n\t\t\tpayFinalPayment(item) {\r\n\t\t\t\tlet data = [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"mch_id\": item.goods.mch_id,\r\n\t\t\t\t\t\t\"goods_list\": [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\"id\":item.goods_id,\r\n\t\t\t\t\t\t\t\t\"attr\": JSON.parse(item.goods_info).attr_list,\r\n\t\t\t\t\t\t\t\t\"num\":item.goods_num,\r\n\t\t\t\t\t\t\t\t\"cat_id\":0,\r\n\t\t\t\t\t\t\t\t\"goods_attr_id\":item.goodsAttr.id,\r\n\t\t\t\t\t\t\t\t\"advance_id\": item.id,\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}\r\n\t\t\t\t];\r\n\t\t\t\tthis.$jump({\r\n\t\t\t\t\topen_type: 'navigate',\r\n\t\t\t\t\turl: `/pages/order-submit/order-submit?mch_list=${JSON.stringify(data)}&preview_url=${encodeURIComponent(this.$api.advance.order_preview)}&submit_url=${encodeURIComponent(this.$api.advance.order_sub)}&order_page_url=/plugins/advance/order/order&plugin=advance&total_title=尾款`\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tpayPayment(item, index) {\r\n\t\t\t\tthis.$request({\r\n\t\t\t\t\turl: this.$api.order.list_pay_data,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tid: item.order_id,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmethod: 'get'\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.code === 0) {\r\n\t\t\t\t\t\tthis.$payment.pay(res.data.id).then(() => {\r\n\t\t\t\t\t\t\t// 支付成功\r\n\t\t\t\t\t\t\tif (this.keyword === -1) {\r\n\t\t\t\t\t\t\t\tthis.order_list[index].status_num = '4';\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.$delete(this.order_list, index);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}).catch(() => {\r\n\t\t\t\t\t\t\t// 支付失败\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 去支付定金\r\n\t\t\tpayDeposit(data, index) {\r\n\t\t\t\tthis.$subscribe(this.template_message).then(() => {\r\n\t\t\t\t\tthis.submit(data, index);\r\n\t\t\t\t}).catch(() => {\r\n\t\t\t\t\tthis.submit(data, index);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tsubmit(data, index) {\r\n\t\t\t\tlet body = {\r\n\t\t\t\t\tid: data.id,\r\n\t\t\t\t\tgoods_id: data.goods_id,\r\n\t\t\t\t\tgoods_num: data.goods_num,\r\n\t\t\t\t\tgoods_attr_id:data.goodsAttr.id,\r\n\t\t\t\t};\r\n\t\t\t\tthis.get_submit(body).then(response => {\r\n\t\t\t\t\tthis.$payment.pay(response.data.id).then((res) => {\r\n\t\t\t\t\t\tthis.$request({\r\n\t\t\t\t\t\t\turl: this.$api.advance.order,\r\n\t\t\t\t\t\t\tmethod: 'get',\r\n\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\tid: data.id,\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}).then(response => {\r\n\t\t\t\t\t\t\tif (response.code === 0) {\r\n\t\t\t\t\t\t\t\tthis.$set(this.order_list, index, response.data.list[0]);\r\n\t\t\t\t\t\t\t\tlet attr_name = '';\r\n\t\t\t\t\t\t\t\tlet attr_groups = JSON.parse(this.order_list[index].goods_info);\r\n\t\t\t\t\t\t\t\tfor (let j = 0; j < attr_groups.attr_list.length; j++) {\r\n\t\t\t\t\t\t\t\t\tattr_name+= ` ${attr_groups.attr_list[j].attr_group_name}:${attr_groups.attr_list[j].attr_name}`\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthis.$set(this.order_list[index], 'attr_name', attr_name);\r\n\t\t\t\t\t\t\t} else if (response.code === 1) {\r\n\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\t\t\tcontent: res.msg,\r\n\t\t\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\t\t\tif (res.cancel) {\r\n\t\t\t\t\t\t\t\t\t\t\tuni.navigateBack();\r\n\t\t\t\t\t\t\t\t\t\t} else if (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t\tuni.navigateBack();\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}).catch(() => {\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\taddDate(date, days) {\r\n\t\t\t\tif(days == undefined || days == '') {\r\n\t\t\t\t\tdays = 1;\r\n\t\t\t\t}\r\n\t\t\t\tlet newDate = new Date(date.replace(/-/g, '/'));\r\n\t\t\t\tnewDate.setDate(newDate.getDate() + days);\r\n\t\t\t\tlet month = newDate.getMonth() + 1;\r\n\t\t\t\tlet day = newDate.getDate();\r\n\t\t\t\tlet mm = \"'\" + month + \"'\";\r\n\t\t\t\tlet dd = \"'\" + day + \"'\";\r\n\t\t\t\tif(mm.length == 3) {\r\n\t\t\t\t\tmonth = \"0\" + month;\r\n\t\t\t\t}\r\n\t\t\t\tif(dd.length == 3) {\r\n\t\t\t\t\tday = \"0\" + day;\r\n\t\t\t\t}\r\n\t\t\t   let hour = newDate.getHours();//得到小时\r\n\t\t\t   let minu = newDate.getMinutes();//得到分钟\r\n\t\t\t   let sec = newDate.getSeconds();//得到秒\r\n\t\t\t   if (sec === 0) {\r\n\t\t\t\t sec = 59;\r\n\t\t\t\t if (minu === 0) {\r\n\t\t\t\t   minu = 59;\r\n\t\t\t\t   if (hour === 0) {\r\n\t\t\t\t\t   hour = 23;\r\n\t\t\t\t\t   day = '0' + Number(day) -1;\r\n\t\t\t\t   } else {\r\n\t\t\t\t\t   hour = hour -1;\r\n\t\t\t\t   }\r\n\t\t\t\t } else {\r\n\t\t\t\t   minu = minu - 1;\r\n\t\t\t\t }\r\n\t\t\t   } else {\r\n\t\t\t\t  sec = sec -1;\r\n\t\t\t   }\r\n\t\t\t   sec = `${sec}`;\r\n\t\t\t   minu = `${minu}`;\r\n\t\t\t   hour = `${hour}`;\r\n\t\t\t   if (hour.length === 1) {\r\n\t\t\t\t   hour = `0${hour}`\r\n\t\t\t   }\r\n\t\t\t   if (minu.length === 1) {\r\n\t\t\t\t   minu = `0${minu}`\r\n\t\t\t   }\r\n\t\t\t   if (sec.length === 1) {\r\n\t\t\t\t   sec = `0${sec}`\r\n\t\t\t   }\r\n\t\t\t   return newDate.getFullYear() + \".\" + month + \".\" + day + ' ' + hour +':' + minu + ':' + sec;\r\n\t\t\t},\r\n\t\t\tgetDate(end_prepayment_at) {\r\n\t\t\t\tlet newDate = new Date(end_prepayment_at.replace(/-/g, '/'));\r\n\t\t\t\tnewDate.setDate(newDate.getDate());\r\n\t\t\t\tlet month = newDate.getMonth() + 1;\r\n\t\t\t\tlet day = newDate.getDate();\r\n\t\t\t\tlet mm = \"'\" + month + \"'\";\r\n\t\t\t\tlet dd = \"'\" + day + \"'\";\r\n\t\t\t\tif(mm.length == 3) {\r\n\t\t\t\t\tmonth = \"0\" + month;\r\n\t\t\t\t}\r\n\t\t\t\tif(dd.length == 3) {\r\n\t\t\t\t\tday = \"0\" + day;\r\n\t\t\t\t}\r\n\t\t\t\tlet hour = newDate.getHours();//得到小时\r\n\t\t\t\tlet minu = newDate.getMinutes();//得到分钟\r\n\t\t\t\tlet sec = newDate.getSeconds();//得到秒\r\n\t\t\t\tsec = `${sec}`;\r\n\t\t\t\tminu = `${minu}`;\r\n\t\t\t\thour = `${hour}`;\r\n\t\t\t\tif (hour.length === 1) {\r\n\t\t\t\t\thour = `0${hour}`\r\n\t\t\t\t}\r\n\t\t\t\tif (minu.length === 1) {\r\n\t\t\t\t\tminu = `0${minu}`\r\n\t\t\t\t}\r\n\t\t\t\tif (sec.length === 1) {\r\n\t\t\t\t\tsec = `0${sec}`\r\n\t\t\t\t}\r\n\t\t\t\treturn newDate.getFullYear() + \".\" + month + \".\" + day + ' ' + hour +':' + minu + ':' + sec;\r\n\t\t\t},\r\n\t\t\tasync request(data) {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '加载中'\r\n\t\t\t\t});\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst response = await this.$request({\r\n\t\t\t\t\t\turl: this.$api.advance.order,\r\n\t\t\t\t\t\tmethod: 'get',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tkeyword: this.keyword,\r\n\t\t\t\t\t\t\tpage: this.page,\r\n\t\t\t\t\t\t\tname: this.search_text,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tif (response.code === 0) {\r\n\t\t\t\t\t\tif (data === 1) {\r\n\t\t\t\t\t\t\tthis.order_list = response.data.list;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.order_list.push(...response.data.list);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.template_message = response.data.template_message;\r\n\t\t\t\t\t\tfor (let i = 0; i < this.order_list.length; i++) {\r\n\t\t\t\t\t\t\tlet attr_name = '';\r\n\t\t\t\t\t\t\tlet attr_groups = JSON.parse(this.order_list[i].goods_info);\r\n\t\t\t\t\t\t\tfor (let j = 0; j < attr_groups.attr_list.length; j++) {\r\n\t\t\t\t\t\t\t\tattr_name+= ` ${attr_groups.attr_list[j].attr_group_name}:${attr_groups.attr_list[j].attr_name}`\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.$set(this.order_list[i], 'attr_name', attr_name);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: `/plugins/advance/index/index`\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tset_time(pay_limit, end_prepayment_at) {\r\n\t\t\t\tif (pay_limit == -1) {\r\n\t\t\t\t\treturn `${this.getDate(end_prepayment_at)} ~ 无期限`\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn `${this.getDate(end_prepayment_at)} ~ ${this.addDate(end_prepayment_at, Number(pay_limit))}`\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync get_submit(body) {\r\n\t\t\t\tconst response = await this.$request({\r\n\t\t\t\t\turl: this.$api.advance.order_submit,\r\n\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t...body,\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tif (response.code === 0) {\r\n\t\t\t\t\treturn response;\r\n\t\t\t\t} else if (response.code === 1) {\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\tcontent: response.msg,\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\tif (res.cancel) {\r\n\t\t\t\t\t\t\t\tuni.navigateBack();\r\n\t\t\t\t\t\t\t} else if (res.confirm) {\r\n\t\t\t\t\t\t\t\tuni.navigateBack();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tget_time() {\r\n\t\t\t\tclearInterval(this.interval);\r\n\t\t\t\tlet now = new Date().getTime();\r\n\t\t\t\tfor (let i = 0; i < this.order_list.length; i++) {\r\n\t\t\t\t\tif (this.order_list[i].status_num == 1) {\r\n\t\t\t\t\t\tlet timelog = new Date(this.order_list[i].end_prepayment_at.replace(/-/g, '/')).getTime();\r\n\t\t\t\t\t\tlet time = timelog - now;\r\n\t\t\t\t\t\tif (time > 0) {\r\n\t\t\t\t\t\t\tlet day = parseInt((time/1000/60/60/24)%30);\r\n\t\t\t\t\t\t\tlet hou = parseInt((time/1000/60/60)%24);\r\n\t\t\t\t\t\t\tlet min = parseInt((time/1000/60)%60);\r\n\t\t\t\t\t\t\tlet sec = parseInt((time/1000)%60);\r\n\t\t\t\t\t\t\tif (day > 0) {\r\n\t\t\t\t\t\t\t\tthis.$set(this.order_list[i], 'html', day+\"天\"+hou+\":\"+(min<10?\"0\"+min:min) + \":\"+(sec<10?\"0\"+sec:sec));\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.$set(this.order_list[i], 'html', hou+\":\"+(min<10?\"0\"+min:min) + \":\"+(sec<10?\"0\"+sec:sec));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (this.order_list[i].status_num == 3) {\r\n\t\t\t\t\t\tif (this.order_list[i].pay_limit == -1) {\r\n\t\t\t\t\t\t\tthis.$set(this.order_list[i], 'html', '不显示');\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tlet newDate = new Date(this.order_list[i].end_prepayment_at.replace(/-/g, '/'));\r\n\t\t\t\t\t\t\tlet timelog = newDate.setDate(newDate.getDate() + Number(this.order_list[i].pay_limit));\r\n\t\t\t\t\t\t\tlet time =  new Date(timelog).getTime() - now;\r\n\t\t\t\t\t\t\tif (time > 0) {\r\n\t\t\t\t\t\t\t\tlet day = parseInt((time/1000/60/60/24)%30);\r\n\t\t\t\t\t\t\t\tlet hou = parseInt((time/1000/60/60)%24);\r\n\t\t\t\t\t\t\t\tlet min = parseInt((time/1000/60)%60);\r\n\t\t\t\t\t\t\t\tlet sec = parseInt((time/1000)%60);\r\n\t\t\t\t\t\t\t\tif (day > 0) {\r\n\t\t\t\t\t\t\t\t\tthis.$set(this.order_list[i], 'html', day+\"天\"+hou+\":\"+(min<10?\"0\"+min:min) + \":\"+(sec<10?\"0\"+sec:sec));\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthis.$set(this.order_list[i], 'html', hou+\":\"+(min<10?\"0\"+min:min) + \":\"+(sec<10?\"0\"+sec:sec));\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.interval = setInterval(() => {\r\n\t\t\t\t\tlet now = new Date().getTime();\r\n\t\t\t\t\tif (this.order_list.length === 0) clearInterval(this.interval);\r\n\t\t\t\t\tfor (let i = 0; i < this.order_list.length; i++) {\r\n\t\t\t\t\t\tif (this.order_list[i].status_num == 1) {\r\n\t\t\t\t\t\t\tlet timelog = new Date(this.order_list[i].end_prepayment_at.replace(/-/g, '/')).getTime();\r\n\t\t\t\t\t\t\tlet time = timelog - now;\r\n\t\t\t\t\t\t\tif (time > 0) {\r\n\t\t\t\t\t\t\t\tlet day = parseInt((time/1000/60/60/24)%30);\r\n\t\t\t\t\t\t\t\tlet hou = parseInt((time/1000/60/60)%24);\r\n\t\t\t\t\t\t\t\tlet min = parseInt((time/1000/60)%60);\r\n\t\t\t\t\t\t\t\tlet sec = parseInt((time/1000)%60);\r\n\t\t\t\t\t\t\t\tif (day > 0) {\r\n\t\t\t\t\t\t\t\t\tthis.$set(this.order_list[i], 'html', day+\"天\"+hou+\":\"+(min<10?\"0\"+min:min) + \":\"+(sec<10?\"0\"+sec:sec));\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthis.$set(this.order_list[i], 'html', hou+\":\"+(min<10?\"0\"+min:min) + \":\"+(sec<10?\"0\"+sec:sec));\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}  else if (this.order_list[i].status_num == 3) {\r\n\t\t\t\t\t\t\tif (this.order_list[i].pay_limit == -1) {\r\n\t\t\t\t\t\t\t\tthis.$set(this.order_list[i], 'html', '不显示');\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tlet newDate = new Date(this.order_list[i].end_prepayment_at.replace(/-/g, '/'));\r\n\t\t\t\t\t\t\t\tlet timelog = newDate.setDate(newDate.getDate() + Number(this.order_list[i].pay_limit));\r\n\t\t\t\t\t\t\t\tlet time =  new Date(timelog).getTime() - now;\r\n\t\t\t\t\t\t\t\tif (time > 0) {\r\n\t\t\t\t\t\t\t\t\tlet day = parseInt((time/1000/60/60/24)%30);\r\n\t\t\t\t\t\t\t\t\tlet hou = parseInt((time/1000/60/60)%24);\r\n\t\t\t\t\t\t\t\t\tlet min = parseInt((time/1000/60)%60);\r\n\t\t\t\t\t\t\t\t\tlet sec = parseInt((time/1000)%60);\r\n\t\t\t\t\t\t\t\t\tif (day > 0) {\r\n\t\t\t\t\t\t\t\t\t\tthis.$set(this.order_list[i], 'html', day+\"天\"+hou+\":\"+(min<10?\"0\"+min:min) + \":\"+(sec<10?\"0\"+sec:sec));\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tthis.$set(this.order_list[i], 'html', hou+\":\"+(min<10?\"0\"+min:min) + \":\"+(sec<10?\"0\"+sec:sec));\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 1000);\r\n\t\t\t},\r\n\t\t\tasync set_search() {\r\n\t\t\t\tthis.page = 1;\r\n\t\t\t\tthis.keyword = -1;\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '加载中'\r\n\t\t\t\t});\r\n\t\t\t\tconst response = await this.$request({\r\n\t\t\t\t\turl: this.$api.advance.order,\r\n\t\t\t\t\tmethod: 'get',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tkeyword: this.keyword,\r\n\t\t\t\t\t\tpage: this.page,\r\n\t\t\t\t\t\tname: this.search_text,\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tif (response.code === 0) {\r\n\t\t\t\t\tthis.order_list = response.data.list;\r\n\t\t\t\t\tfor (let i = 0; i < this.order_list.length; i++) {\r\n\t\t\t\t\t\tlet attr_name = '';\r\n\t\t\t\t\t\tlet attr_groups = JSON.parse(this.order_list[i].goods_info);\r\n\t\t\t\t\t\tfor (let j = 0; j < attr_groups.attr_list.length; j++) {\r\n\t\t\t\t\t\t\tattr_name+= ` ${attr_groups.attr_list[j].attr_group_name}:${attr_groups.attr_list[j].attr_name}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.$set(this.order_list[i], 'attr_name', attr_name);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tuni.hideLoading();\r\n\t\t\t\tthis.get_time();\r\n\t\t\t},\r\n\t\t\tblur_request() {\r\n\t\t\t\t// this.order_list = this.oldOrder;\r\n\t\t\t},\r\n\t\t\tgo_search() {\r\n\t\t\t\tthis.search = true;\r\n\t\t\t\tthis.active = false;\r\n\t\t\t\tthis.oldOrder = this.order_list;\r\n\t\t\t\tthis.order_list = [];\r\n\t\t\t}\r\n\t\t  },\r\n\t\tonReachBottom() {\r\n\t\t\tif (!this.over) {\r\n\t\t\t\tthis.page+=1;\r\n\t\t\t\tthis.$request({\r\n\t\t\t\t\turl: this.$api.advance.order,\r\n\t\t\t\t\tmethod: 'get',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tkeyword: this.keyword,\r\n\t\t\t\t\t\tpage: this.page,\r\n\t\t\t\t\t\tname: this.search_text,\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.code === 0) {\r\n\t\t\t\t\t\tif (res.data.list.length > 0) {\r\n\t\t\t\t\t\t\tthis.order_list = [...this.order_list, ...res.data.list];\r\n\t\t\t\t\t\t\tfor (let i = 0; i < this.order_list.length; i++) {\r\n\t\t\t\t\t\t\t\tlet attr_name = '';\r\n\t\t\t\t\t\t\t\tlet attr_groups = JSON.parse(this.order_list[i].goods_info);\r\n\t\t\t\t\t\t\t\tfor (let j = 0; j < attr_groups.attr_list.length; j++) {\r\n\t\t\t\t\t\t\t\t\tattr_name+= ` ${attr_groups.attr_list[j].attr_group_name}:${attr_groups.attr_list[j].attr_name}`\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthis.$set(this.order_list[i], 'attr_name', attr_name);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.get_time();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.over = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapGetters('mallConfig',{\r\n\t\t\t\tgetTheme: 'getTheme'\r\n\t\t\t})\r\n\t\t},\r\n        filters: {\r\n\t\t    orderStatus:function(status) {\r\n                if (status == 1) {\r\n                    return '定金待支付';\r\n                } else if (status == 2) {\r\n                    return '尾款支付未开始';\r\n                } else if (status == 3) {\r\n                    return '尾款待支付';\r\n                } else if (status == 4) {\r\n                    return '购买成功';\r\n                } else if (status == 5) {\r\n                    return '订单已取消';\r\n                } else if (status == 6) {\r\n                    return '订单已售后';\r\n                } else if (status == 7) {\r\n                    return '购买失败 定金支付超时';\r\n                } else if (status == 8) {\r\n                    return '购买失败 定金已退款';\r\n                } else if (status == 9) {\r\n                    return '购买失败 尾款支付超时';\r\n                }\r\n            }\r\n        }\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .order {\r\n    position: absolute;\r\n    width: #{750rpx};\r\n    top: 0;\r\n    left: 0;\r\n    height: 100%;\r\n\t  z-index: 1500;\r\n    background-color: #f7f7f7;\r\n    .top {\r\n      position: fixed;\r\n      top: 0;\r\n      left: 0;\r\n      background-color: #efeff4;\r\n      font-size: #{32rpx};\r\n\t    z-index: 1500;\r\n\t    width: #{750upx};\r\n      .to-top {\r\n        width: #{280rpx};\r\n        height: #{88rpx};\r\n        .icon {\r\n            width: #{22rpx};\r\n            height: #{12rpx};\r\n\t        margin-left: #{16rpx};\r\n        }\r\n\t      text {\r\n\t\t      width: #{145rpx};\r\n\t\t      text-align: center;\r\n\t\t      word-break: break-all;\r\n\t\t      text-overflow: ellipsis;\r\n\t\t      display: -webkit-box;\r\n\t\t      -webkit-box-orient: vertical;\r\n\t\t      -webkit-line-clamp: 1;\r\n\t\t      overflow: hidden;\r\n\t\t      font-size: #{26rpx};\r\n\t      }\r\n\t      .icon-active {\r\n\t\t      transform:rotate(180deg);\r\n\t      }\r\n      }\r\n\t    .top-input {\r\n\t\t    height: #{88rpx};\r\n\t\t    width: #{750-280rpx};\r\n\t\t    .input {\r\n\t\t\t   width: #{570upx};\r\n\t\t\t    height: #{56upx};\r\n\t\t\t    background-color: white;\r\n\t\t\t    border-radius: #{30upx};\r\n\t\t\t    margin-left: #{28upx};\r\n\t\t\t    >image {\r\n\t\t\t\t    width: #{26upx};\r\n\t\t\t\t    height: #{26upx};\r\n\t\t\t\t    margin-right: #{13upx};\r\n\t\t\t    }\r\n\t\t\t    >text {\r\n\t\t\t\t    font-size: #{26rpx};\r\n\t\t\t\t    color: #b2b2b2;\r\n\t\t\t    }\r\n\t\t    }\r\n\t    }\r\n    }\r\n    .do-top {\r\n         position: fixed;\r\n\t      top: #{88rpx};\r\n\t      width: 100%;\r\n\t      height: 100%;\r\n\t    z-index: 1500;\r\n        background-color: rgba(0,0,0,.3);\r\n      .do-top-item {\r\n        width: 100%;\r\n        height: #{88rpx};\r\n        background-color: #ffffff;\r\n        font-size: #{32rpx};\r\n\r\n        border-top: #{1rpx} solid #e2e2e2;\r\n        text-align: center;\r\n        line-height: #{88rpx};\r\n      }\r\n\r\n    }\r\n    .item {\r\n      width: #{750rpx};\r\n      margin-bottom: #{20rpx};\r\n      background-color: #ffffff;\r\n      .item-top {\r\n        width: 100%;\r\n        line-height: #{80rpx};\r\n        background-color: #ffffff;\r\n        border-bottom: #{1rpx} solid #e2e2e2;\r\n        font-size: #{26rpx};\r\n        color: #ff4544;\r\n        padding: 0 #{24rpx};\r\n      }\r\n      .item-center {\r\n        width: 100%;\r\n        padding: #{24rpx 24rpx 0 24rpx};\r\n        .image {\r\n          width: #{220rpx};\r\n          height: #{220rpx};\r\n          border-radius: #{16rpx};\r\n        }\r\n        .content {\r\n          width: #{530-48rpx};\r\n          min-height: #{220rpx};\r\n          padding-left: #{24rpx};\r\n          .name {\r\n              margin-top: #{12rpx};\r\n              word-break: break-all;\r\n              text-overflow: ellipsis;\r\n              display: -webkit-box;\r\n              -webkit-box-orient: vertical;\r\n              -webkit-line-clamp: 2;\r\n              overflow: hidden;\r\n              font-size: #{28rpx};\r\n              color:#353535;\r\n          }\r\n          .attr {\r\n            margin-top: #{16rpx};\r\n            >text {\r\n              font-size: #{26rpx};\r\n              color:#999999;\r\n              margin-right: #{16rpx};\r\n            }\r\n          }\r\n          .num-price {\r\n            font-size: #{28rpx};\r\n            color: #353535;\r\n            margin-top: #{24rpx};\r\n          }\r\n          .des-price {\r\n            font-size: #{28rpx};\r\n            color: #353535;\r\n            margin-top: #{24rpx};\r\n          }\r\n        }\r\n      }\r\n      .item-bottom {\r\n        width: #{750rpx};\r\n        background-color: #ffffff;\r\n        padding: #{0 24rpx 32rpx 24rpx};\r\n        overflow: hidden;\r\n        .swell-price {\r\n          font-size: #{28rpx};\r\n          color: #353535;\r\n          margin-top: #{24rpx};\r\n        }\r\n        .button {\r\n          // display: inline-block;\r\n          float: right;\r\n          height: #{56rpx};\r\n          line-height: #{56rpx};\r\n          font-size: #{28rpx};\r\n          color: #ffffff;\r\n          padding: 0 #{24rpx};\r\n          border-radius: #{28rpx};\r\n          margin-top: #{32rpx};\r\n        }\r\n      }\r\n    }\r\n  }\r\n\t.order-empty {\r\n\t\tposition: absolute;\r\n\t\ttop: #{555rpx};\r\n\t\tleft: 50%;\r\n\t\ttransform: translate(-50%, -50%);\r\n\t\twidth: #{240rpx};\r\n\t\ttext-align: center;\r\n\t\t>image {\r\n\t\t\theight: #{240rpx};\r\n\t\t\twidth: #{240rpx};\r\n\t\t}\r\n\t\t>text {\r\n\t\t\tfont-size: #{24rpx};\r\n\t\t\tcolor: #666666;\r\n\t\t}\r\n\t}\r\n\t.text-time {\r\n\t\ttext-align: right;font-size: #{26upx};color: #999999;\r\n\t\tmargin-top: #{16upx};\r\n\t}\r\n  .search {\r\n\t  height: #{104rpx};\r\n\t  width: 100%;\r\n\t  background-color: #efeff4;\r\n\t  padding: #{20rpx 24rpx};\r\n\t  position: relative;\r\n\t  overflow: hidden;\r\n\t  .delete {\r\n\t\t  width: #{32rpx};\r\n\t\t  height: #{32rpx};\r\n\t  }\r\n\t  .input {\r\n\t\t  height: #{64rpx};\r\n\t\t  width: #{620rpx};\r\n\t\t  border-radius: #{50rpx};\r\n\t\t  background-color: #ffffff;\r\n\t\t  padding-left: #{32rpx};\r\n\t\t  font-size: #{26rpx};\r\n\t\t  color: #353535;\r\n\t  }\r\n\t  .delete {\r\n\t\t  position: absolute;\r\n\t\t  right: #{125rpx};\r\n\t\t  z-index: 1600;\r\n\t  }\r\n  }\r\n\t.order-number {\r\n\t\r\n\t}\r\n\t\r\n\t.filal-payment-time {\r\n\t\tfont-size:#{22upx};\r\n\t\tcolor: #ff4544;\r\n\t\ttext-align: right;\r\n\t\tmargin-top: #{14upx};\r\n\t}\r\n\t.default-text {\r\n\t\tcolor: #353535;\r\n\t}\r\n</style>","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order.vue?vue&type=style&index=0&id=33ef4db3&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order.vue?vue&type=style&index=0&id=33ef4db3&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1608184845147\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}