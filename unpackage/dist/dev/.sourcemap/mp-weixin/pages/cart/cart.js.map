{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/pages/cart/cart.vue?e73b","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/pages/cart/cart.vue?c7ee","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/pages/cart/cart.vue?8364","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/pages/cart/cart.vue?5ade","uni-app:///pages/cart/cart.vue","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/pages/cart/cart.vue?aa28","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/pages/cart/cart.vue?1e93"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,2F;AACAA,UAAU,CAACC,aAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6H;AAC7H;AACwD;AACL;AACsC;;;AAGzF;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,2FAAM;AACR,EAAE,oGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,+FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjBA;AAAA;AAAA;AAAA;AAA8lB,CAAgB,wnBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACwClnB,gD;;;;;AAKA;AACA,cADA;AAEA;AACA,sCADA;AAEA,yBAFA;AAGA,sCAHA,EAFA;;AAOA,MAPA,kBAOA;AACA;AACA,uBADA;AAEA,iBAFA;AAGA,gBAHA;AAIA,kBAJA;AAKA,iBALA;AAMA,iBANA;AAOA,mBAPA;AAQA,0CARA;AASA,uBATA;AAUA,eAVA;AAWA,qBAXA;;AAaA,GArBA;AAsBA;AACA;AACA;AACA;AACA,KAHA;AAIA;AACA;AACA,KANA;AAOA;AACA;AACA,KATA,GADA;;AAYA;AACA,6BADA;AAEA,wBAFA,GAZA;;AAgBA;AACA,wBADA,GAhBA;;AAmBA;AACA,iFADA;AAEA,iEAFA,GAnBA,CAtBA;;;AA8CA;AACA,UADA,kBACA,IADA,EACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAXA;AAYA,UAZA,kBAYA,IAZA,EAYA;AACA;AACA,KAdA;;AAgBA;AACA,cAjBA,wBAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDADA,aACA;AACA;AACA,eAHA;AAIA;AACA;AACA;AACA;AACA,KA/BA;;AAiCA,kBAjCA,4BAiCA;;AAEA;AACA,8BADA,IAFA;;AAKA;AACA,6CADA;AAEA,iCAFA,GALA,SAKA,GALA;;AASA;AACA;AACA;AACA;AACA,kCAbA;AAcA,KA/CA;;AAiDA;AACA,kBAlDA,0BAkDA,IAlDA,EAkDA;AACA;AACA,uBADA,CACA,MADA,mBACA,MADA,CACA,UADA,mBACA,UADA;AAEA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AACA;AACA,sJAFA;AAGA,oCAHA,cAGA;AACA;AACA,iBALA;AAMA;AACA;AACA;AACA;AACA;AACA,KAvEA;;AAyEA;AACA,qBA1EA,6BA0EA,GA1EA,EA0EA,IA1EA,EA0EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qGADA;AAEA,wDAFA,cAEA;AACA;AACA,qBAJA;AAKA;AACA;AACA;;AAEA;AACA;AACA,eAZA,MAYA;AACA;AACA,6DAFA;AAGA,sDAHA,cAGA;AACA;AACA;AACA;AACA;AACA;AACA,6EAFA;AAGA,8EAHA,cAGA;AACA;AACA;AACA;AACA,yBAPA;AAQA;AACA,mBAhBA;AAiBA;AACA;AACA,iBAFA,MAEA;AACA;AACA;AACA;AACA,aArCA,MAqCA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA,KA3IA;;AA6IA,aA7IA,qBA6IA,IA7IA,EA6IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0GAFA;AAGA,6BAHA,cAGA;AACA;AACA,mBALA;AAMA;AACA;AACA,WAXA,MAWA;AACA;AACA;AACA;AACA,wGAFA;AAGA,2BAHA,cAGA;AACA;AACA,iBALA;AAMA;AACA;AACA,SAtBA;AAuBA,OAzBA;AA0BA,KAxKA;AAyKA;AACA,cA1KA,wBA0KA;AACA;AACA;AACA;AACA;AACA,wCADA;AAEA,wBAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA,6BADA,cACA;AACA;AACA;AACA,mDADA;AAEA,gCAFA;AAGA,qCAHA;AAIA,wCAJA;AAKA,mDALA,GADA;;AAQA,qCARA,cAQA;AACA;AACA,iDADA;AAEA,6DAFA;;AAIA;AACA,yBAdA;AAeA;AACA;AACA,mBAnBA;AAoBA,eApBA,MAoBA;AACA;AACA,mCADA;AAEA,0BAFA;;AAIA,+BAJA;AAKA,kCALA;AAMA,6CANA;;AAQA;AACA;AACA,uDADA;AAEA,mEAFA;;AAIA;AACA;AACA;AACA;AACA,aAxCA,MAwCA;AACA;AACA,6BADA,eACA;AACA;AACA;AACA,oDADA;AAEA,gCAFA;AAGA,sCAHA;AAIA,yCAJA;AAKA,oDALA,GADA;;AAQA,sCARA,eAQA;AACA;AACA,mDADA;AAEA,+DAFA;;AAIA;AACA,yBAdA;AAeA;AACA;AACA,mBAnBA;AAoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BADA;AAEA,qBAFA;;AAIA;AACA;AACA,OAFA,EAEA,IAFA;AAGA,KArQA;AAsQA,WAtQA,qBAsQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BADA,eACA;AACA;AACA,qDADA;AAEA,iCAFA;AAGA,sCAHA;;AAKA,iBAPA;AAQA,aARA,MAQA;AACA;AACA,2CADA;AAEA,iCAFA;AAGA,sCAHA;;AAKA;AACA;AACA;AACA;AACA;AACA,sBADA;AAEA,gCAFA;AAGA;AACA,wCADA,EAHA;;AAMA,UANA,CAMA;AACA;AACA,OARA;AASA,KAvSA;;AAySA;AACA,iBA1SA,2BA0SA;AACA,4BADA,GACA,EADA;;AAGA;AACA,uBADA,GACA,4BADA;AAEA;AACA;AACA;AACA,yCADA,OACA;AACA;AACA,qDADA;AAEA,yCAFA;;AAIA,2BANA;AAOA,uBAPA,MAOA;AACA;AACA,iDADA;AAEA,yCAFA;;AAIA;AACA,qBAdA,MAcA;AACA;AACA,yCADA,OACA;AACA;AACA;AACA,uDADA;AAEA,6CAFA;;AAIA;AACA,2BARA;AASA;AACA;AACA;AACA,iBAjCA;;AAmCA,mCAnCA;AAoCA;AACA,kCADA;AAEA,gDAFA;AAGA;AACA,gEADA,EAHA,GApCA,SAoCA,GApCA;;;AA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAVA,MAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAvEA;AAwEA,KAlXA;AAmXA,KAnXA,eAmXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA3XA;;AA6XA,UA7XA,kBA6XA,MA7XA,EA6XA,EA7XA,EA6XA,MA7XA,EA6XA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aARA,MAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAlZA;;AAoZA,SApZA,mBAoZA;AACA,sBADA;AAEA,kBAFA,eAEA;AACA,yBADA,eACA;AACA;AACA;AACA;AACA;AACA,iBAFA,MAEA;AACA;AACA;AACA;AACA;AACA,qCARA;AASA,8BATA,eASA;AACA;AACA;AACA;AACA;AACA;AACA,mBAfA;AAgBA,kCAhBA;AAiBA,8BAjBA,eAiBA;AACA;AACA;AACA;AACA,mBArBA;AAsBA,gDAtBA,eAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBA7BA;AA8BA;AACA;AACA,iBAFA,MAEA;AACA;AACA;AACA;AACA;AACA,iBAFA,MAEA;AACA;AACA;AACA;AACA,aA5CA;AA6CA,SA/CA;AAgDA,KApcA;;AAscA,WAtcA,mBAscA,IAtcA,EAscA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CADA;AAEA,oDAFA;AAGA,oDAHA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDADA;AAEA,uDAFA;AAGA,uDAHA;;AAKA;AACA;AACA;AACA;AACA;AACA,KAvfA;AAwfA,aAxfA,qBAwfA,IAxfA,EAwfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OALA,EAKA,IALA;AAMA,KAlgBA,EA9CA;;;AAmjBA,QAnjBA,oBAmjBA;AACA;AACA;AACA;AACA;AACA,KAFA,EAEA,IAFA;AAGA;AACA,GA1jBA;AA2jBA,QA3jBA,oBA2jBA;AACA;AACA;AACA,GA9jBA;AA+jBA,UA/jBA,sBA+jBA;AACA;AACA;AACA,GAlkBA;AAmkBA;AACA;AACA,aADA,mBACA,OADA,EACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0EADA;AAEA,mDAFA,eAEA;AACA;AACA;AACA;AACA;AACA,yBAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBANA,MAMA;AACA;AACA;AACA;AACA,qBAvBA;AAwBA,iBAxBA,MAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAhCA,MAgCA;AACA;AACA,0EADA;AAEA,mDAFA,eAEA;AACA;AACA;AACA;AACA,uBAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAFA,MAEA;AACA;AACA;AACA,yBARA,MAQA;AACA;AACA;AACA;AACA,qBAvBA;AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA,SANA,MAMA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA,OAlGA;AAmGA,gBAnGA,EADA;;AAsGA;AACA;AACA;AACA,OAHA;AAIA,qBAJA,EAtGA,EAnkBA,E;;;;;;;;;;;;;AC7CA;AAAA;AAAA;AAAA;AAAwnC,CAAgB,kmCAAG,EAAC,C;;;;;;;;;;;ACA5oC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/cart/cart.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/cart/cart.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./cart.vue?vue&type=template&id=0f00adf4&scoped=true&\"\nvar renderjs\nimport script from \"./cart.vue?vue&type=script&lang=js&\"\nexport * from \"./cart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cart.vue?vue&type=style&index=0&id=0f00adf4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0f00adf4\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/cart/cart.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cart.vue?vue&type=template&id=0f00adf4&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = Number(100)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cart.vue?vue&type=script&lang=js&\"","<template>\r\n\t<app-layout :overflow='false'>\r\n\t\t<view class=\"app-cart\">\r\n\t\t\t<view class=\"app-announcement dir-left-nowrap main-between cross-center\">\r\n\t\t\t\t<text class=\"app-announcement-text\">商品库存有限，请尽快下单</text>\r\n\t\t\t\t<app-form-id @click=\"editSwitch\">\r\n\t\t\t\t\t<text class=\"app-edit-text\">{{editStatus ? '完成' : '编辑'}}</text>\r\n\t\t\t\t</app-form-id>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"app-item\" v-for=\"(mch, index) in listObj\" :key=\"index\" v-if=\"listObj.length > 0\">\r\n\t\t\t\t<app-shop-product :theme=\"getTheme\" @change=\"change\" @update=\"update\" :mch=\"mch\"  :editStatus=\"editStatus\" @changeSingleRadio=\"changeSingleRadio\" @changeRadioAll=\"changeRadioAll\" ></app-shop-product>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"no-cart\" v-if=\"listObj.length === 0\">\r\n\t\t\t\t<view class=\"cart-icon\">\r\n\t\t\t\t\t<image class=\"cart-image\" src=\"../../static/image/icon/nav-icon-cart.png\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"cart-text\">购物车还是空的哦</view>\r\n\t\t\t</view>\r\n\t\t\t<view>\r\n\t\t\t\t<app-empty-bottom backgroundColor=\"#f7f7f7\" :botBool=\"botBool\" :height=\"Number(100)\"></app-empty-bottom>\r\n\t\t\t</view>\r\n\t\t\t<view v-if=\"!tabbarbool\" :style=\"{background: 'white', position: 'fixed', bottom: 0, height: `${getEmpty}rpx`, width: '750rpx'}\"></view>\r\n\t\t\t<view class=\"app-settlement dir-left-nowrap main-between cross-center\" :style=\"{bottom:  `${tabbarbool ? BotHeight : getEmpty}rpx`}\">\r\n\t\t\t\t<view class=\"app-radio dir-left-nowrap main-right cross-center\">\r\n\t\t\t\t\t<app-radio type=\"round\" :theme=\"getTheme\" @click=\"setALl\" v-model=\"all\"></app-radio>\r\n\t\t\t\t\t<text class=\"app-all-text\">全选</text>\r\n\t\t\t\t\t<text class=\"app-price\" v-if=\"!editStatus\" :class=\"getTheme + '-m-text ' + getTheme\">总计: ￥{{priceNum}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<button :disabled=\"submitDis\" :class=\"submitDis ?  'delete-disabled' : getTheme + '-m-text ' + getTheme\"  class=\"app-delete\" v-if=\"editStatus\" @click=\"deleteProduct\">\r\n\t\t\t\t\t\t删除\r\n\t\t\t\t</button>\r\n\t\t\t\t<button :disabled=\"submitDis\" :class=\"submitDis ? 'disabled-background' : getTheme + '-m-back ' + getTheme\" class=\"app-settlement-button\" v-else @click=\"settlement\">\r\n\t\t\t\t\t\t去结算\r\n\t\t\t\t</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</app-layout>\r\n</template>\r\n\r\n<script>\r\n\timport { mapState, mapGetters } from 'vuex';\r\n    import appShopProduct from './components/app-shop-product/app-shop-product.vue';\r\n    import appRadio from '../../components/basic-component/app-radio/app-radio.vue';\r\n    import appEmptyBottom from '../../components/basic-component/app-empty-bottom/app-empty-bottom.vue';\r\n    \r\n    export default {\r\n        name: 'cart',\r\n        components:{\r\n            'app-shop-product': appShopProduct,\r\n\t        'app-radio': appRadio,\r\n\t        'app-empty-bottom': appEmptyBottom,\r\n        },\r\n        data() {\r\n            return {\r\n                editStatus: false,\r\n\t            listObj: [],\r\n\t            all: false,\r\n                editList: [],\r\n\t            priceNum: 0,\r\n\t            edit: false,\r\n                botBool: true,\r\n                currentRoute: this.$platDiff.route(),\r\n                tabbarbool: false,\r\n                spike: -1,\r\n                submitDis: true\r\n            }\r\n        },\r\n        computed:{\r\n            ...mapState({\r\n                tabBarHeight: (state) => {\r\n                  return state.gConfig.tabBarHeight;\r\n                },\r\n                iphoneHeight: (state) =>{\r\n\t                return  state.gConfig.iphoneHeight;\r\n                },\r\n\t            iphone: (state) => {\r\n                    return state.gConfig.iphone\r\n\t            }\r\n            }),\r\n            ...mapGetters('iPhoneX', {\r\n                BotHeight: 'getBotHeight',\r\n                getEmpty: 'getEmpty',\r\n\t\t\t}),\r\n\t\t\t...mapGetters('mallConfig', {\r\n\t\t\t\tgetTheme: 'getTheme',\r\n\t\t\t}),\r\n            ...mapState({\r\n                tabBarNavs: state => state.mallConfig.navbar.navs,\r\n\t\t\t\tis_edit: state => state.cart.is_edit\r\n            }),\r\n        },\r\n        methods: {\r\n            update(good) {\r\n                for(let idx in this.listObj) {\r\n                    for(let index in this.listObj[idx].goods_list) {\r\n                        if(this.listObj[idx].goods_list[index].sign == 'wholesale' && this.listObj[idx].goods_list[index].goods_id == good.goods_id) {\r\n                            this.listObj[idx].goods_list[index] = good;\r\n                            this.$set(this.listObj[idx].goods_list, index, good);\r\n                            this.$forceUpdate();\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            setALl(data) {\r\n                this.selectAll(data);\r\n            },\r\n\t        \r\n            // 编辑\r\n            editSwitch() {\r\n                this.all = false;\r\n                for (let i = 0; i < this.listObj.length; i++) {\r\n                    this.listObj[i].is_active = false;\r\n                    for (let j = 0; j < this.listObj[i].goods_list.length; j++) {\r\n                        this.listObj[i].goods_list[j].is_active = false;\r\n                        if(this.listObj[i].goods_list[j].sign === 'wholesale') {\r\n                            for(let attr of this.listObj[i].goods_list[j].attr_arr) {\r\n                                attr.is_active = false;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                this.editStatus = !this.editStatus;\r\n            },\r\n\t        \r\n\t        async getProductList() {\r\n\r\n                uni.showLoading({\r\n\t                title: '加载中'\r\n                });\r\n                const res = await this.$request({\r\n\t                url: this.$api.cart.list,\r\n\t                method: 'get',\r\n                });\r\n                if (res.code === 0) {\r\n                    this.listObj = res.data.list;\r\n                    this.spikeTime(res.data.list);\r\n                }\r\n                uni.hideLoading();\r\n\t        },\r\n\t        \r\n\t        // 商城全选\r\n            changeRadioAll(data) {\r\n                for (let i = 0; i < this.listObj.length; i++) {\r\n                    let {mch_id ,  goods_list } = this.listObj[i];\r\n                    if (data.mch_id === mch_id) {\r\n                        for (let j = 0; j < goods_list.length; j++) {\r\n                            if (!this.editStatus) {\r\n                                if (goods_list[j].new_status === 0) goods_list[j].is_active = !data.is_active;\r\n                            } else {\r\n                                goods_list[j].is_active = !data.is_active;\r\n                            }\r\n                            if(goods_list[j].sign === 'wholesale') {\r\n                                goods_list[j].choose_num = goods_list[j].is_active ? goods_list[j].attrs.num : 0;\r\n                                goods_list[j].discount = goods_list[j].is_active ? goods_list[j].attrs.discount : goods_list[j].plugin_data.discount_type == 1 ? 0 : 10;\r\n                                for(let attr of goods_list[j].attr_arr) {\r\n                                    attr.is_active = goods_list[j].is_active;\r\n                                }\r\n                            }\r\n                        }\r\n                        this.listObj[i].is_active = !data.is_active;\r\n                    }\r\n                }\r\n            },\r\n\t        \r\n\t        // 单选\r\n            changeSingleRadio(mch, item) {\r\n                for (let i = 0; i < this.listObj.length; i++) {\r\n                    if (this.listObj[i].mch_id === mch.mch_id) {\r\n                        let goods_list_len = mch.goods_list.length;\r\n                        let active_num = 0;\r\n                        for (let j = 0; j < this.listObj[i].goods_list.length; j++) {\r\n                            if(this.listObj[i].goods_list[j].sign === 'wholesale') {\r\n                                this.listObj[i].goods_list[j].discount = this.listObj[i].goods_list[j].plugin_data.discount_type == 1 ? 0 : 10;\r\n                                if(item.goods_id) {\r\n                                    if (item.id === this.listObj[i].goods_list[j].id) {\r\n                                        this.listObj[i].goods_list[j].is_active  = !this.listObj[i].goods_list[j].is_active;\r\n                                        for(let attr of this.listObj[i].goods_list[j].attr_arr) {\r\n                                            attr.is_active  = this.listObj[i].goods_list[j].is_active\r\n                                        }\r\n                                        if(!this.editStatus) {\r\n                                            this.listObj[i].goods_list[j].choose_num = this.listObj[i].goods_list[j].is_active ? this.listObj[i].goods_list[j].attrs.num : 0;\r\n                                            this.listObj[i].goods_list[j].discount = this.listObj[i].goods_list[j].is_active ? this.listObj[i].goods_list[j].attrs.discount : this.listObj[i].goods_list[j].plugin_data.discount_type == 1 ? 0 : 10;\r\n\r\n                                        }\r\n                                    }\r\n                                }else {\r\n                                    let choose = 0;\r\n                                    this.listObj[i].goods_list[j].choose_num = 0;\r\n                                    for(let attr of this.listObj[i].goods_list[j].attr_arr) {\r\n                                        if (item.id === attr.id) {\r\n                                            attr.is_active  = !attr.is_active;\r\n                                        }\r\n                                        if(attr.is_active) {\r\n                                            choose++;\r\n                                            this.listObj[i].goods_list[j].choose_num += +attr.num;\r\n                                            for(let rule of this.listObj[i].goods_list[j].plugin_data.discount_rules) {\r\n                                                if(!(+this.listObj[i].goods_list[j].choose_num < +rule.num)) {\r\n                                                    this.listObj[i].goods_list[j].discount = rule.discount\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                    if(choose == this.listObj[i].goods_list[j].attr_arr.length) {\r\n                                        this.listObj[i].goods_list[j].is_active = true;\r\n                                    }else {\r\n                                        this.listObj[i].goods_list[j].is_active = false;\r\n                                    }\r\n                                }\r\n                            }else {\r\n                                if (item.id === this.listObj[i].goods_list[j].id) {\r\n                                    this.listObj[i].goods_list[j].is_active  = !this.listObj[i].goods_list[j].is_active;\r\n\r\n                                }\r\n                            }\r\n                            \r\n                            if (this.listObj[i].goods_list[j].is_active) {\r\n                                active_num++;\r\n                            }\r\n                            \r\n                            if (this.editStatus === false && this.listObj[i].goods_list[j].new_status !== 0) {\r\n                                goods_list_len --;\r\n                            }\r\n                        }\r\n                        if (goods_list_len === active_num) {\r\n                            this.listObj[i].is_active = true;\r\n                        } else {\r\n                            this.listObj[i].is_active = false;\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n\t        \r\n            selectAll(bool) {\r\n                this.listObj.map(item => {\r\n                    item.is_active = bool;\r\n                    item.goods_list.map(good => {\r\n                        if (this.editStatus === false) {\r\n                            if (item.new_status === 0 && good.new_status === 0) {\r\n                                good.is_active = bool;\r\n                                if(good.sign === 'wholesale') {\r\n                                    good.choose_num = bool ? good.attrs.num : 0;\r\n                                    good.discount = bool ? good.attrs.discount : good.plugin_data.discount_type == 1 ? 0 : 10;\r\n                                    for(let attr of good.attr_arr) {\r\n                                        attr.is_active = bool;\r\n                                    }\r\n                                }\r\n                            }\r\n                        } else {\r\n                            good.is_active = bool;\r\n                            if(good.sign === 'wholesale') {\r\n                                good.choose_num = bool ? good.attrs.num : 0;\r\n                                good.discount = bool ? good.attrs.discount : good.plugin_data.discount_type == 1 ? 0 : 10;\r\n                                for(let attr of good.attr_arr) {\r\n                                    attr.is_active = bool;\r\n                                }\r\n                            }\r\n                        }\r\n                    })\r\n                });\r\n            },\r\n\t        // 结算\r\n            settlement() {\r\n                let all_product = [];\r\n                let is_miaosha = false;\r\n                for (let i = 0; i < this.listObj.length; i++) {\r\n                    let mch = {\r\n                        mch_id: this.listObj[i].mch_id,\r\n                        goods_list: [],\r\n                    };\r\n                    for (let j = 0; j < this.listObj[i].goods_list.length; j++) {\r\n                        let good = this.listObj[i].goods_list[j];\r\n                        if (good.new_status === 0) {\r\n                            if(good.is_active) {\r\n                                if (good.sign === 'miaosha') is_miaosha = true;\r\n                                if(good.sign === 'wholesale') {\r\n                                    for(let item of good.attr_arr) {\r\n                                        if(item.num > 0 && item.is_active) {\r\n                                           let product = {\r\n                                                id: item.attr_info.goods_id,\r\n                                                attr: [],\r\n                                                num: item.num,\r\n                                                cart_id: item.id,\r\n                                                goods_attr_id: item.attr_id\r\n                                            }\r\n                                            for(let attr of item.attrs.attr) {\r\n                                                let para = {\r\n                                                    attr_id: attr.attr_id,\r\n                                                    attr_group_id: attr.attr_group_id  \r\n                                                }\r\n                                                product.attr.push(para)\r\n                                            }\r\n                                            mch.goods_list.push(product);\r\n                                        }\r\n                                    }\r\n                                }else {\r\n                                    let product = {\r\n                                        id: good.goods_id,\r\n                                        attr: [\r\n                                        ],\r\n                                        num: good.num,\r\n                                        cart_id: good.id,\r\n                                        goods_attr_id: good.attr_id,\r\n                                    };\r\n                                    for (let n in good.attrs.attr) {\r\n                                        let attr = {\r\n                                            attr_id: good.attrs.attr[n].attr_id,\r\n                                            attr_group_id: good.attrs.attr[n].attr_group_id,\r\n                                        };\r\n                                        product.attr.push(attr);\r\n                                    }\r\n                                    mch.goods_list.push(product);\r\n                                }\r\n                            }else {\r\n                                if(good.sign === 'wholesale') {\r\n                                    for(let item of good.attr_arr) {\r\n                                        if(item.num > 0 && item.is_active) {\r\n                                           let product = {\r\n                                                id: item.attr_info.goods_id,\r\n                                                attr: [],\r\n                                                num: item.num,\r\n                                                cart_id: item.id,\r\n                                                goods_attr_id: item.attr_id\r\n                                            }\r\n                                            for(let attr of item.attrs.attr) {\r\n                                                let para = {\r\n                                                    attr_id: attr.attr_id,\r\n                                                    attr_group_id: attr.attr_group_id  \r\n                                                }\r\n                                                product.attr.push(para)\r\n                                            }\r\n                                            mch.goods_list.push(product);\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    if (mch.goods_list.length > 0) {\r\n                        all_product.push(mch);\r\n                    }\r\n                }\r\n                let jump_url = `/pages/order-submit/order-submit?mch_list=${JSON.stringify(all_product)}`;\r\n                if (is_miaosha) {\r\n                    jump_url += `&preview_url=${encodeURIComponent(this.$api.miaosha.order_preview)}&submit_url=${encodeURIComponent(this.$api.miaosha.order_submit)}`;\r\n                }\r\n                this.$jump({\r\n\t                open_type: 'navigate',\r\n\t                url: jump_url,\r\n                });\r\n                setTimeout(()=> {\r\n\t\t\t\t\tthis.listObj = [];\r\n\t\t\t\t}, 1000);\r\n            },\r\n\t        editNum() {\r\n                let editList = [];\r\n                for (let i = 0; i < this.listObj.length; i++) {\r\n                    let goods = this.listObj[i].goods_list;\r\n                    for (let j = 0; j < goods.length; j++) {\r\n                        if (goods[j].new_status === 0) {\r\n                            if(goods[j].sign === 'wholesale') {\r\n                                for(let attr of goods[j].attr_arr) {\r\n                                    editList.push({\r\n                                        goods_id: attr.attr_info.goods_id,\r\n                                        num: attr.num,\r\n                                        attr: attr.attr_id,\r\n                                    })\r\n                                }\r\n                            }else {\r\n                                editList.push({\r\n                                    goods_id: goods[j].goods_id,\r\n                                    num: goods[j].num,\r\n                                    attr: goods[j].attr_id,\r\n                                })\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                this.$request({\r\n                    method: 'post',\r\n                    url: this.$api.cart.edit,\r\n                    data: {\r\n                        list: JSON.stringify(editList)\r\n                    }\r\n                }).then(() => {\r\n\t\t\t\t\tthis.$store.dispatch('cart/is_edit', false);\r\n                })\r\n\t        },\r\n\t        \r\n\t        // 删除商品\r\n            async deleteProduct() {\r\n                let product_list = [];\r\n                \r\n                for (let i = 0 ; i < this.listObj.length; i++) {\r\n                    let goods = this.listObj[i].goods_list;\r\n                    for (let j = 0 ; j < goods.length; j++) {\r\n                        if (goods[j].is_active) {\r\n                            if(goods[j].sign == 'wholesale') {\r\n                                for(let item of goods[j].attr_arr) {\r\n                                    product_list.push({\r\n                                        mch_id: goods[j].mch_id,\r\n                                        id: item.id,\r\n                                    })\r\n                                }\r\n                            }else {\r\n                                product_list.push({\r\n                                    mch_id: goods[j].mch_id,\r\n                                    id: goods[j].id,\r\n                                })\r\n                            }\r\n                        }else {\r\n                            if(goods[j].sign == 'wholesale') {\r\n                                for(let item of goods[j].attr_arr) {\r\n                                    if(item.is_active) {\r\n                                        product_list.push({\r\n                                            mch_id: goods[j].mch_id,\r\n                                            id: item.id,\r\n                                        })\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                \r\n                if (!product_list.length) return;\r\n                const res = await this.$request({\r\n                    method: 'post',\r\n\t                url: this.$api.cart.delete,\r\n                    data: {\r\n                        cart_id_list: JSON.stringify(product_list),\r\n                    }\r\n                });\r\n                if (res.code === 0) {\r\n                    this.editStatus = false;\r\n                    for (let j = 0; j < this.listObj.length; j++) {\r\n                        for (let i = 0; i < product_list.length; i++) {\r\n                            if (this.listObj[j].mch_id == product_list[i].mch_id) {\r\n                                for (let k = 0; k < this.listObj[j].goods_list.length; k++) {\r\n                                    if(this.listObj[j].goods_list[k].sign === 'wholesale') {\r\n                                        for(let index in this.listObj[j].goods_list[k].attr_arr) {\r\n                                            if (this.listObj[j].goods_list[k].attr_arr[index].id == product_list[i].id) {\r\n                                                this.$delete(this.listObj[j].goods_list[k].attr_arr, index);\r\n                                                if(this.listObj[j].goods_list[k].attr_arr.length == 0) {\r\n                                                    this.$delete(this.listObj[j].goods_list, k);\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                        this.count();\r\n                                    }else {\r\n                                        if (this.listObj[j].goods_list[k].id == product_list[i].id) {\r\n                                            this.$delete(this.listObj[j].goods_list, k);\r\n                                        }\r\n                                    }\r\n                                }\r\n                                if (this.listObj[j].goods_list.length === 0) {\r\n                                    this.$delete(this.listObj, j);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            b() {\r\n                let currentRoute = this.currentRoute;\r\n                for (let i = 0; i < this.tabBarNavs.length; i++) {\r\n                    if(currentRoute.includes(this.tabBarNavs[i].url.split('?')[0])) {\r\n                        return this.tabbarbool = true;\r\n                    }\r\n                }\r\n                return  this.tabbarbool = false;\r\n            },\r\n\r\n            change(number, id, mch_id) {\r\n                for (let i = 0; i < this.listObj.length; i++) {\r\n                    if (this.listObj[i].mch_id === mch_id) {\r\n                        for (let j = 0; j < this.listObj[i].goods_list.length; j++) {\r\n                            if(this.listObj[i].goods_list[j].sign === 'wholesale' && this.listObj[i].goods_list[j].new_status != 3) {\r\n                                for (let x = 0; x < this.listObj[i].goods_list[j].attr_arr.length; x++) {\r\n                                    if (this.listObj[i].goods_list[j].attr_arr[x].id == id) {\r\n                                        this.listObj[i].goods_list[j].attr_arr[x].num = Number(number);\r\n                                        this.count();\r\n                                        return;\r\n                                    }\r\n                                }\r\n                            }else {\r\n                                if (this.listObj[i].goods_list[j].id === id) {\r\n                                    this.listObj[i].goods_list[j].num = Number(number);\r\n                                    return;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n\r\n            count() {\r\n                let that = this;\r\n                for(let item of that.listObj) {\r\n                    for(let goods of item.goods_list) {\r\n                        goods.price = 0;\r\n                        if(goods.sign === 'wholesale' && (goods.new_status == 0 || goods.new_status == 6)) {\r\n                            if(goods.plugin_data.discount_type == 0) {\r\n                                goods.attrs.discount = 10\r\n                            }else {\r\n                                goods.attrs.discount = 0;\r\n                            }\r\n                            goods.attrs.num = 0;\r\n                            let price = 0;\r\n                            goods.choose_num = 0;\r\n                            for(let attr of goods.attr_arr) {\r\n                                price += (+attr.num * +attr.attrs.price)\r\n                                goods.attrs.num += +attr.num\r\n                                if(attr.is_active) {\r\n                                    goods.choose_num += +attr.num\r\n                                }\r\n                            }\r\n                            let chooseNum = 0;\r\n                            for(let item of goods.attr_arr) {\r\n                                if(item.is_active) {\r\n                                    chooseNum += +item.num\r\n                                }\r\n                            }\r\n                            for(let i of goods.plugin_data.discount_rules) {\r\n                                if(!(+goods.attrs.num < +i.num)) {\r\n                                    goods.attrs.discount = i.discount\r\n                                }\r\n                                if(!(+chooseNum < +i.num)) {\r\n                                    goods.discount = i.discount\r\n                                }\r\n                            }\r\n                            if(goods.plugin_data.discount_type == 0) {\r\n                                goods.price = (price*(goods.attrs.discount/10)).toFixed(2);\r\n                            }else {\r\n                                goods.price = (price - (goods.attrs.discount*goods.attrs.num)).toFixed(2);\r\n                            }\r\n                            if(goods.attrs.num < goods.plugin_data.up_num) {\r\n                                goods.new_status = 6;\r\n                            }else {\r\n                                goods.new_status = 0;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n\t        \r\n\t        setTime(data) {\r\n                let is_spike = false;\r\n                for (let i = 0; i < data.length; i++) {\r\n                    for (let j = 0; j < data[i].goods_list.length; j++) {\r\n                        if (data[i].goods_list[j].sign === 'miaosha' && data[i].goods_list[j].miaosha_status === 1) {\r\n                            is_spike = true;\r\n                            data[i].goods_list[j].miaosha_time--;\r\n                            let second = parseInt(data[i].goods_list[j].miaosha_time);\r\n                            let minute = 0;\r\n                            let hour = 0;\r\n                            if (second > 60) {\r\n                                minute = parseInt(second / 60);\r\n                                second = parseInt(second % 60);\r\n                                if (minute > 60) {\r\n                                    hour = parseInt(minute / 60);\r\n                                    minute = parseInt(minute % 60);\r\n                                }\r\n                            }\r\n                            let timeDaily = {\r\n                                h: hour < 10 ? ('0' + hour) : hour,\r\n                                m: minute < 10 ? ('0' + minute) : minute,\r\n                                s: second < 10 ? ('0' + second) : second,\r\n                            };\r\n                            this.$set(this.listObj[i].goods_list[j], 'miaosha_string',  `${timeDaily.h + ':' + timeDaily.m + ':' + timeDaily.s}`);\r\n                        }\r\n                        if (data[i].goods_list[j].sign === 'flash_sale' && (data[i].goods_list[j].flash_sale_status === 1 || data[i].goods_list[j].flash_sale_status === 2)) {\r\n\t\t\t\t\t\t\tis_spike = true;\r\n\t\t\t\t\t\t\tdata[i].goods_list[j].flash_sale_time--;\r\n\t\t\t\t\t\t\tlet second = parseInt(data[i].goods_list[j].flash_sale_time);\r\n\t\t\t\t\t\t\tlet minute = 0;\r\n\t\t\t\t\t\t\tlet hour = 0;\r\n\t\t\t\t\t\t\tif (second > 60) {\r\n\t\t\t\t\t\t\t\tminute = parseInt(second / 60);\r\n\t\t\t\t\t\t\t\tsecond = parseInt(second % 60);\r\n\t\t\t\t\t\t\t\tif (minute > 60) {\r\n\t\t\t\t\t\t\t\t\thour = parseInt(minute / 60);\r\n\t\t\t\t\t\t\t\t\tminute = parseInt(minute % 60);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlet timeDaily = {\r\n\t\t\t\t\t\t\t\th: hour < 10 ? ('0' + hour) : hour,\r\n\t\t\t\t\t\t\t\tm: minute < 10 ? ('0' + minute) : minute,\r\n\t\t\t\t\t\t\t\ts: second < 10 ? ('0' + second) : second,\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tthis.$set(this.listObj[i].goods_list[j], 'flash_sale_string',  `${timeDaily.h + ':' + timeDaily.m + ':' + timeDaily.s}`);\r\n\t\t\t\t\t\t}\r\n                    }\r\n                }\r\n                return is_spike;\r\n\t        },\r\n\t        spikeTime(data) {\r\n\t            clearInterval(this.spike);\r\n\t            let is_spike = this.setTime(data);\r\n\t            if (!is_spike) return;\r\n                this.spike = setInterval(() => {\r\n                    let is_spike = this.setTime(data);\r\n                    if (!is_spike) {\r\n                        clearInterval(this.spike);\r\n                    }\r\n                }, 1000);\r\n\t        }\r\n        },\r\n\r\n\t    onShow() {\r\n            this.submitDis = true;\r\n\t\t\tthis.listObj = [];\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.getProductList();\r\n\t\t\t}, 1000);\r\n            this.all = false;\r\n        },\r\n        onHide() {\r\n            this.editNum();\r\n            clearInterval(this.spike);\r\n        },\r\n        onUnload() {\r\n            this.editNum();\r\n            clearInterval(this.spike);\r\n        },\r\n\t    watch:{\r\n            listObj: {\r\n                handler(listObj) {\r\n                    this.priceNum = 0;\r\n                    let listNum = 0;\r\n                    let activeIndex = 0;\r\n                    let check = true;\r\n                    for (let i = 0; i < listObj.length; i++) {\r\n                        if(listObj[i].new_status == 0) {\r\n                            listNum += listObj[i].goods_list.length;\r\n                            let status = listObj[i].goods_list.length;\r\n                            let newStatus = 0;\r\n                            for (let j = 0; j < listObj[i].goods_list.length;j++) {\r\n                                if (listObj[i].goods_list[j].new_status !== 0) {\r\n                                    newStatus++;\r\n                                }\r\n                                if (this.editStatus === false && listObj[i].goods_list[j].new_status !== 0) {\r\n                                    listNum --;\r\n                                }\r\n                                if (listObj[i].goods_list[j].is_active) {\r\n                                    if(listObj[i].goods_list[j].sign === 'wholesale') {\r\n                                        listNum += listObj[i].goods_list[j].attr_arr.length - 1;\r\n                                        for(let item of listObj[i].goods_list[j].attr_arr) {\r\n                                            if (!this.editStatus) {\r\n                                                if(listObj[i].goods_list[j].plugin_data.discount_type == 0) {\r\n                                                    let discount = listObj[i].goods_list[j].discount ? listObj[i].goods_list[j].discount : 10;\r\n                                                    item.price = (+item.attrs.price*(+discount/10)).toFixed(2);\r\n                                                }else {\r\n                                                    let discount = listObj[i].goods_list[j].discount ? listObj[i].goods_list[j].discount : 0;\r\n                                                    item.price = (+item.attrs.price - +discount).toFixed(2);\r\n                                                }\r\n                                            }\r\n                                            if(item.is_active) {\r\n                                                if (!this.editStatus) {\r\n                                                    let num = Number(item.price) * Number(item.num);\r\n                                                    this.priceNum += num;\r\n                                                    if(!(listObj[i].goods_list[j].choose_num < listObj[i].goods_list[j].plugin_data.up_num)) {\r\n                                                        activeIndex++;\r\n                                                    }\r\n                                                }else {\r\n                                                    activeIndex++;\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    }else {\r\n                                        if (!this.editStatus) {\r\n                                            let num = Number(listObj[i].goods_list[j].attrs.price) * Number(listObj[i].goods_list[j].num);\r\n                                            this.priceNum += num;\r\n                                        }\r\n                                        activeIndex++;\r\n                                    }\r\n                                }else {\r\n                                    if(listObj[i].goods_list[j].sign === 'wholesale' && listObj[i].goods_list[j].new_status !== 3) {\r\n                                        listNum += listObj[i].goods_list[j].attr_arr.length - 1;\r\n                                        for(let item of listObj[i].goods_list[j].attr_arr) {\r\n                                            if(listObj[i].goods_list[j].plugin_data.discount_type == 0) {\r\n                                                let discount = listObj[i].goods_list[j].discount ? listObj[i].goods_list[j].discount : 10;\r\n                                                item.price = (+item.attrs.price*(+discount/10)).toFixed(2);\r\n                                            }else {\r\n                                                let discount = listObj[i].goods_list[j].discount ? listObj[i].goods_list[j].discount : 0;\r\n                                                item.price = (+item.attrs.price - +discount).toFixed(2);\r\n                                            }\r\n                                            if(item.is_active) {\r\n                                                if (!this.editStatus) {\r\n                                                    let num = Number(item.price) * Number(item.num);\r\n                                                    this.priceNum += num;\r\n                                                    if(!(listObj[i].goods_list[j].choose_num < listObj[i].goods_list[j].plugin_data.up_num)) {\r\n                                                        activeIndex++;\r\n                                                    }else {\r\n                                                        check = false;\r\n                                                    }\r\n                                                }else {\r\n                                                    activeIndex++;\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                            if (status === newStatus) {\r\n                                this.listObj[i].new_status = this.listObj[i].new_status == 0 ? 1 : this.listObj[i].new_status;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (activeIndex === listNum) {\r\n                        if (listNum === 0 && activeIndex === 0) {\r\n                            this.all = false;\r\n                        } else {\r\n                            this.all = true;\r\n                        }\r\n                    } else {\r\n                        this.all = false;\r\n                    }\r\n                    if (activeIndex > 0 && check) {\r\n                        this.submitDis = false;\r\n                    } else {\r\n                        this.submitDis = true;\r\n                    }\r\n                    this.priceNum = this.priceNum.toFixed(2);\r\n                },\r\n\t            deep: true,\r\n            },\r\n            tabBarNavs: {\r\n                handler: function() {\r\n                    this.b();\r\n                },\r\n                immediate: true,\r\n            }\r\n\t    }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.app-cart {\r\n\t\tbackground-color: #f7f7f7;\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\twidth: #{750rpx};\r\n\t\t.app-announcement {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: #{72rpx};\r\n\t\t\tbackground-color: #ffffff;\r\n\t\t\t.app-announcement-text {\r\n\t\t\t\tfont-size: #{26rpx};\r\n\t\t\t\tcolor: #999999;\r\n\t\t\t\tmargin-left: #{24rpx};\r\n\t\t\t}\r\n\t\t\t.app-edit-text {\r\n\t\t\t\tfont-size: #{26rpx};\r\n\t\t\t\tcolor: #353535;\r\n\t\t\t\tmargin-right: #{32rpx};\r\n\t\t\t}\r\n\t\t}\r\n\t\t.app-settlement {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: #{100rpx};\r\n\t\t\tz-index: 1500;\r\n\t\t\tposition: fixed;\r\n\t\t\tleft: 0;\r\n\t\t\tborder-top: #{1rpx} solid #e2e2e2;\r\n\t\t\tbackground-color: white;\r\n\t\t\t.app-radio {\r\n\t\t\t\tpadding-left: #{23rpx};\r\n\t\t\t\t.app-price {\r\n\t\t\t\t\tmargin-left: #{24rpx};\r\n\t\t\t\t\tfont-size: #{28rpx};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.app-all-text {\r\n\t\t\t\tmargin-left: #{9rpx};\r\n\t\t\t\tfont-size: #{25rpx};\r\n\t\t\t\tcolor: #3f3f3f;\r\n\t\t\t}\r\n\t\t\t.app-delete {\r\n\t\t\t\twidth: #{140rpx};\r\n\t\t\t\theight: #{64rpx};\r\n\t\t\t\tline-height: #{64rpx};\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tbackground-color: white;\r\n\t\t\t\tborder-radius: #{32rpx};\r\n\t\t\t\tborder: #{1rpx} solid ;\r\n\t\t\t\tfont-size: #{28rpx};\r\n\t\t\t\tmargin: #{0 24rpx 0 0};\r\n\t\t\t\tpadding: 0;\r\n\t\t\t}\r\n\t\t\t.delete-disabled {\r\n\t\t\t\tcolor: #989898;\r\n\t\t\t\tborder: #{1rpx} solid #989898;\r\n\t\t\t}\r\n\t\t\t.app-settlement-button {\r\n\t\t\t\theight: #{100rpx};\r\n\t\t\t\twidth: #{250rpx};\r\n\t\t\t\tcolor: #ffffff;\r\n\t\t\t\tfont-size: #{30rpx};\r\n\t\t\t\tline-height: #{100rpx};\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tborder-radius: 0;\r\n\t\t\t\tmargin: 0;\r\n\t\t\t\tpadding: 0;\r\n\t\t\t\tborder: none;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.disabled-background {\r\n\t\t\t\tbackground-color: #989898;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.no-cart {\r\n\t\t\twidth: 100%;\r\n\t\t\t.cart-icon {\r\n\t\t\t\twidth: #{160rpx};\r\n\t\t\t\theight: #{160rpx};\r\n\t\t\t\tborder-radius: 50%;\r\n\t\t\t\tbackground-color: rgba(0, 0, 0, 0.1);\r\n\t\t\t\tmargin: #{150rpx auto 40rpx};\r\n\t\t\t\t.cart-image {\r\n\t\t\t\t\theight: #{80rpx};\r\n\t\t\t\t\twidth: #{80rpx};\r\n\t\t\t\t\tmargin: #{40rpx};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.cart-text {\r\n\t\t\t\tfont-size: #{30rpx};\r\n\t\t\t\tcolor: #888;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cart.vue?vue&type=style&index=0&id=0f00adf4&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cart.vue?vue&type=style&index=0&id=0f00adf4&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1608184837541\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}