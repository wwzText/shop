{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/pages/order/order-detail/order-detail.vue?e334","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/pages/order/order-detail/order-detail.vue?9887","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/pages/order/order-detail/order-detail.vue?a8fc","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/pages/order/order-detail/order-detail.vue?8f08","uni-app:///pages/order/order-detail/order-detail.vue","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/pages/order/order-detail/order-detail.vue?eda5","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/pages/order/order-detail/order-detail.vue?a439"],"names":["createPage","Page"],"mappings":"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","file":"pages/order/order-detail/order-detail.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/order/order-detail/order-detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./order-detail.vue?vue&type=template&id=5b1c5076&scoped=true&\"\nvar renderjs\nimport script from \"./order-detail.vue?vue&type=script&lang=js&\"\nexport * from \"./order-detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./order-detail.vue?vue&type=style&index=0&id=5b1c5076&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5b1c5076\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/order/order-detail/order-detail.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order-detail.vue?vue&type=template&id=5b1c5076&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 =\n    _vm.is_show &&\n    _vm.orderDetail &&\n    (_vm.orderDetail.sign === \"booking\" ||\n      _vm.orderDetail.sign === \"vip_card\") &&\n    _vm.orderDetail.order_form &&\n    _vm.orderDetail.order_form.length\n      ? _vm.__map(_vm.orderDetail.order_form, function(formItem, k) {\n          var $orig = _vm.__get_orig(formItem)\n\n          var g0 =\n            formItem.key === \"img_upload\" ? Array.isArray(formItem.value) : null\n          return {\n            $orig: $orig,\n            g0: g0\n          }\n        })\n      : null\n  var l2 =\n    _vm.is_show &&\n    _vm.orderDetail &&\n    !(\n      (_vm.orderDetail.sign === \"booking\" ||\n        _vm.orderDetail.sign === \"vip_card\") &&\n      _vm.orderDetail.order_form &&\n      _vm.orderDetail.order_form.length\n    ) &&\n    _vm.formList &&\n    _vm.formList.length\n      ? _vm.__map(_vm.formList, function(formAll, i) {\n          var $orig = _vm.__get_orig(formAll)\n\n          var l1 = _vm.__map(formAll[0][\"form_data\"], function(formItem, k) {\n            var $orig = _vm.__get_orig(formItem)\n\n            var g1 =\n              formItem.key === \"img_upload\"\n                ? Array.isArray(formItem.value)\n                : null\n            return {\n              $orig: $orig,\n              g1: g1\n            }\n          })\n\n          return {\n            $orig: $orig,\n            l1: l1\n          }\n        })\n      : null\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.ecard = _vm.orderDetail.type_data.ecard\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        l2: l2\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order-detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order-detail.vue?vue&type=script&lang=js&\"","<template>\r\n    <app-layout>\r\n        <view v-if=\"is_show && orderDetail\" class='order-detail-box'>\r\n            <app-order-banner :title='orderDetail.status_text'></app-order-banner>\r\n            <view>\r\n                <template v-if='orderDetail.is_send == 1 && orderDetail.detailExpress.length == 1 && orderDetail.send_type != 2'>\r\n                    <view class='express-box'>\r\n                        <template v-if=\"orderDetail.detailExpress[0].send_type == 1\">\r\n                            <app-order-express :pageUrl='getPageUrl' :express='orderDetail.detailExpress[0].express'\r\n                                               :express_no='orderDetail.detailExpress[0].express_no'\r\n                                               :merchant_remark='orderDetail.detailExpress[0].merchant_remark'>\r\n                            </app-order-express>\r\n                        </template>\r\n                        <template v-else>\r\n                            物流信息: 其它方式({{ orderDetail.detailExpress[0].express_content }})\r\n                        </template>\r\n                    </view>\r\n                </template>\r\n                <template\r\n                    v-else-if='orderDetail.detailExpress.length > 1 || (orderDetail.is_send == 0 && orderDetail.detailExpress.length >= 1)'>\r\n                    <app-jump-button :url=\"getPageUrl\">\r\n                        <view class='e-box dir-left-nowrap cross-center'>\r\n                            <view class='dir-top-nowrap box-grow-1 text'>\r\n                                该订单已拆成多个包裹发货，点击查看详情\r\n                            </view>\r\n                            <image class='box-grow-0 img' src='/static/image/icon/arrow-right.png'></image>\r\n                        </view>\r\n                    </app-jump-button>\r\n                </template>\r\n                <view v-if=\"orderDetail.sign !== 'vip_card'\" class=\"order-label\">配送信息</view>\r\n                <view v-if=\"orderDetail.sign !== 'vip_card'\" class='order-list dir-top-nowrap'>\r\n                    <view class='dir-left-nowrap'>\r\n                        <view class='box-grow-0'>联系人：</view>\r\n                        <view class=\"box-grow-1\">{{ orderDetail.name }}</view>\r\n                        <view class='box-grow-0'>{{ orderDetail.mobile }}</view>\r\n                    </view>\r\n                    <view\r\n                        v-if=\"orderDetail.goods_type === 'ecard'\r\n                        || (orderDetail.is_send\r\n                        && orderDetail.sign != 'scan_code_pay'\r\n                        && orderDetail.is_show_send_type == 1)\"\r\n                    >\r\n                        <block v-if=\"orderDetail.send_type == 0\">发货方式：快递发货</block>\r\n                        <block v-if=\"orderDetail.send_type == 1\">发货方式：上门自提</block>\r\n                        <block v-if=\"orderDetail.send_type == 2\">发货方式：同城配送</block>\r\n                        <block v-if=\"orderDetail.goods_type === 'ecard'\">发货方式：自动发货</block>\r\n                    </view>\r\n\r\n                    <!-- 快递 -->\r\n                    <view v-if=\"orderDetail.send_type != 1 && orderDetail.address\" class=\"dir-left-nowrap\">\r\n                        <view class=\"box-grow-0\">收货地址：</view>\r\n                        <view class=\"box-grow-1 text\">{{ orderDetail.address }}</view>\r\n                    </view>\r\n\r\n                    <!-- 门店 -->\r\n                    <block v-if=\"orderDetail.send_type == 1 && orderDetail.goods_type === 'goods'\">\r\n                        <view class=\"dir-left-nowrap\">\r\n                            <view class=\"box-grow-0\">门店名称：</view>\r\n                            <view class=\"box-grow-1 text\">{{ orderDetail.store.name }}</view>\r\n                        </view>\r\n                        <view class=\"dir-left-nowrap\">\r\n                            <view class=\"box-grow-0\">联系方式：</view>\r\n                            <view class=\"box-grow-1\">{{ orderDetail.store.mobile }}</view>\r\n                        </view>\r\n                        <view class=\"dir-left-nowrap\">\r\n                            <view class=\"box-grow-0\">门店地址：</view>\r\n                            <view class=\"box-grow-1 text\">{{ orderDetail.store.address }}</view>\r\n                        </view>\r\n                        <view @click=\"navigation(orderDetail.store)\"\r\n                              class=\"order-list-btn\">导航\r\n                        </view>\r\n                    </block>\r\n\r\n                    <!-- 同城配送 -->\r\n                    <block v-if=\"orderDetail.delivery_config\">\r\n                        <view class=\"dir-left-nowrap\">\r\n                            <view class=\"box-grow-0\">发货地址：</view>\r\n                            <view class=\"box-grow-1\">{{ orderDetail.delivery_config.address.address }}</view>\r\n                        </view>\r\n                        <view class=\"dir-left-nowrap\" v-if=\"orderDetail.delivery_config.contact_way\">\r\n                            <view class=\"box-grow-0\">联系方式：</view>\r\n                            <view class=\"box-grow-1\">{{ orderDetail.delivery_config.contact_way }}</view>\r\n                        </view>\r\n                        <view class=\"dir-left-nowrap\" v-if=\"orderDetail.delivery_config.explain\">\r\n                            <view class=\"box-grow-0\">配送说明：</view>\r\n                            <view class=\"box-grow-1\">{{ orderDetail.delivery_config.explain }}</view>\r\n                        </view>\r\n                    </block>\r\n                </view>\r\n\r\n                <!-- 电子卡密 -->\r\n                <template v-if=\"orderDetail.type_data.ecard.length > 0\">\r\n                    <view style=\"margin:24rpx 0;\">\r\n                        <view class=\"preferential-box dir-left-nowrap main-between\">\r\n                            <view>\r\n                                卡密信息\r\n                            </view>\r\n                            <view @click=\"go_eCard\">\r\n                                <text>使用说明</text>\r\n                                <image src=\"/static/image/icon/arrow-right.png\" class=\"instructions\"></image>\r\n                            </view>\r\n                        </view>\r\n                        <view class=\"ecard  dir-top-wrap\" :style=\"{paddingBottom: ecard.length >= 1 ? '20rpx' : '0'}\">\r\n                            <view class=\"item dir-top-nowrap\" v-for=\"(item, key) in ecard\" :key=\"key\">\r\n                                <view style=\"margin-bottom: 10rpx;\">【{{ key + 1 }}】</view>\r\n                                <view class=\"dir-left-nowrap cross-center\">\r\n                                    <view class='box-grow-1'>\r\n                                        <view class=\"text\" v-for=\"(n, d) in item\" :key=\"d\">{{ n.key }}：{{ n.value }}\r\n                                        </view>\r\n                                    </view>\r\n                                    <view @click='copyTextEcard(item)' class='box-grow-0 detail-btn' size='mini'>复制全部\r\n                                    </view>\r\n                                </view>\r\n                            </view>\r\n                            <view @click=\"ecard = orderDetail.type_data.ecard\"\r\n                                  class=\"expand dir-left-nowrap main-center cross-center\"\r\n                                  v-if=\"ecard.length === 1 && orderDetail.type_data.ecard.length > 1\">\r\n                                <text>点击展开</text>\r\n                                <image src=\"/static/image/icon/icon-down.png\"></image>\r\n                            </view>\r\n                        </view>\r\n                    </view>\r\n                </template>\r\n\r\n                <template\r\n                    v-if=\"orderDetail.send_type == 2\r\n                    && ((orderDetail.detailExpress.length == 1 || orderDetail.city_name)\r\n                    && orderDetail.is_send == 1)\">\r\n                    <view class=\"order-info-box dir-top-nowrap delivery\"\r\n                          style=\"margin-top: -20rpx;border-top: 1rpx solid #e2e2e2\"\r\n                          v-if=\"orderDetail.send_type == 2\">\r\n                        <view class=\"dir-left-nowrap cross-center city-service\">\r\n                            <image class=\"head\" src=\"/static/image/icon/deliveryman.png\"></image>\r\n                            <template v-if=\"orderDetail.detailExpress[0].city_name && orderDetail.detailExpress[0].city_mobile\">\r\n                                <view class=\"info-box dir-top-nowrap box-grow-1\">\r\n                                    <view class=\"info-label\">配送员</view>\r\n                                    <view class=\"info\">\r\n                                        {{\r\n                                            orderDetail.city_name ? orderDetail.city_name : orderDetail.detailExpress[0].city_name\r\n                                        }}\r\n                                        {{\r\n                                            orderDetail.city_mobile ? orderDetail.city_mobile : orderDetail.detailExpress[0].city_mobile\r\n                                        }}\r\n                                    </view>\r\n                                </view>\r\n                                <view class=\"icon-box\">\r\n                                    <app-jump-button open_type=\"tel\"\r\n                                                     :number=\"orderDetail.city_mobile ? orderDetail.city_mobile : orderDetail.detailExpress[0].city_mobile\">\r\n                                        <image class=\"icon\" src=\"/static/image/icon/store-tel.png\"></image>\r\n                                    </app-jump-button>\r\n                                </view>\r\n                                <!-- 第三方配送才有地图信息 -->\r\n                                <view v-if=\"orderDetail.detailExpress[0].send_type == 1\" class=\"icon-box\">\r\n                                    <app-jump-button open_type=\"navigate\"\r\n                                                     :url=\"'/pages/order/city-map/city-map?express_id=' + orderDetail.detailExpress[0].id\">\r\n                                        <image class=\"icon\" src=\"/static/image/icon/shipping-address.png\"></image>\r\n                                    </app-jump-button>\r\n                                </view>\r\n                            </template>\r\n                            <template v-else>\r\n                                <view class=\"await-man\">等待分配骑手</view>\r\n                            </template>\r\n                        </view>\r\n                        <block v-if=\"orderDetail.detailExpress[0].status != 101\">\r\n                            <view class=\"dir-left-wrap\">\r\n                                <view class=\"goods-image\"\r\n                                      v-for=\"erItem in orderDetail.detailExpress[0].expressRelation\" :key=\"erItem.id\">\r\n                                    <app-image width=\"120rpx\" height=\"120rpx\"\r\n                                               :imgSrc=\"erItem.orderDetail.goods_info.goods_attr.cover_pic\"\r\n                                    ></app-image>\r\n                                </view>\r\n                            </view>\r\n                            <view class=\"goods-num\">共{{ orderDetail.detailExpress[0].goods_num }}件商品</view>\r\n                        </block>\r\n                    </view>\r\n                </template>\r\n\r\n                <!--------------订单信息---------------->\r\n                <view class=\"order-label\">订单信息</view>\r\n                <view class=\"order-list dir-top-nowrap\">\r\n                    <view class=\"dir-left-nowrap cross-center\">\r\n                        <view class=\"box-grow-0\">订单编号：</view>\r\n                        <view class=\"box-grow-1\">{{ orderDetail.order_no }}</view>\r\n                        <view @click=\"copyText(orderDetail.order_no)\"\r\n                              style=\"position: absolute;right: 24rpx\"\r\n                              class=\"box-grow-0 detail-btn\">复制\r\n                        </view>\r\n                    </view>\r\n                    <view>下单时间：{{ orderDetail.created_at }}</view>\r\n                    <view v-if=\"orderDetail.pay_type == 1\">支付方式：线上支付</view>\r\n                    <view v-if=\"orderDetail.pay_type == 2\">支付方式：货到付款</view>\r\n                    <view v-if=\"orderDetail.pay_type == 3\">支付方式：余额支付</view>\r\n                    <view v-if=\"orderDetail.sign == 'exchange'\">兑换码：{{orderDetail.exchange_code.code}}</view>\r\n                </view>\r\n\r\n                <template v-if=\"orderDetail.sign === 'advance'\">\r\n                    <view class=\"preferential-box dir-top-nowrap\">\r\n                        <view class='dir-left-nowrap item' style=\"margin-bottom: 28rpx;\">\r\n                            <text class='box-grow-1' style=\"font-size: 28rpx;\">\r\n                                商品总价：￥{{\r\n                                    orderDetail.total_goods_original_price\r\n                                }}，定金￥{{\r\n                                    orderDetail.advance_order.deposit\r\n                                }}抵扣￥{{ orderDetail.advance_order.swell_deposit }}\r\n                            </text>\r\n                        </view>\r\n                        <view class=\"item-box\">\r\n                            <view class=\"dir-left-nowrap item \">\r\n                                <text class='box-grow-1' style=\"color: #ff4544;font-size: 24rpx;\">阶段一</text>\r\n                            </view>\r\n                            <view class=\"dir-left-nowrap item \" style=\"margin-top: 20rpx;\">\r\n                                <text class='box-grow-1' style=\"color: #666666;font-size: 28rpx;\">\r\n                                    定金\r\n                                </text>\r\n                                <text class='box-grow-0'>￥{{ orderDetail.advance_order.deposit }}</text>\r\n                            </view>\r\n                        </view>\r\n                        <view class=\"item-box\" style=\"margin-top:24rpx;\">\r\n                            <view class=\"dir-left-nowrap item \">\r\n                                <text class='box-grow-1' style=\"color: #ff4544;font-size: 24rpx;\">阶段二</text>\r\n                            </view>\r\n                            <view class=\"dir-left-nowrap item \" style=\"margin-top: 20rpx;\">\r\n                                <text class='box-grow-1' style=\"color: #666666;font-size: 28rpx;\">\r\n                                    尾款\r\n                                </text>\r\n                                <text class='box-grow-0'>￥{{ orderDetail.final_price }}</text>\r\n                            </view>\r\n                            <view class=\"dir-left-nowrap item \" style=\"margin-top: 20rpx;\">\r\n                                <text class='box-grow-1' style=\"color: #666666;font-size: 28rpx;\">\r\n                                    运费\r\n                                </text>\r\n                                <text class='box-grow-0'>￥{{ orderDetail.express_price }}</text>\r\n                            </view>\r\n                            <view class=\"dir-left-nowrap item \" style=\"margin-top: 20rpx;\"\r\n                                  v-if=\"orderDetail.member_discount_price > 0\">\r\n                                <text class='box-grow-1' style=\"color: #666666;font-size: 28rpx;\">\r\n                                    会员折扣\r\n                                </text>\r\n                                <text class='box-grow-0'>-￥{{ orderDetail.member_discount_price }}</text>\r\n                            </view>\r\n                            <view class=\"dir-left-nowrap item \" style=\"margin-top: 20rpx;\"\r\n                                  v-if=\"orderDetail.integral_deduction_price > 0\">\r\n                                <text class='box-grow-1' style=\"color: #666666;font-size: 28rpx;\">\r\n                                    积分抵扣\r\n                                </text>\r\n                                <text class='box-grow-0'>-￥{{ orderDetail.integral_deduction_price }}</text>\r\n                            </view>\r\n                            <view class=\"dir-left-nowrap item \" style=\"margin-top: 20rpx;\"\r\n                                  v-if=\"orderDetail.coupon_discount_price > 0\">\r\n                                <text class='box-grow-1' style=\"color: #666666;font-size: 28rpx;\">\r\n                                    优惠券抵扣\r\n                                </text>\r\n                                <text class='box-grow-0'>-￥{{ orderDetail.coupon_discount_price }}</text>\r\n                            </view>\r\n                            <view class=\"dir-left-nowrap item \" style=\"margin-top: 20rpx;\"\r\n                                  v-if=\"orderDetail.advance_order.preferential_price > 0\">\r\n                                <text class='box-grow-1' style=\"color: #666666;font-size: 28rpx;\">\r\n                                    活动优惠\r\n                                </text>\r\n                                <text class='box-grow-0'>-￥{{ orderDetail.advance_order.preferential_price }}</text>\r\n                            </view>\r\n                            <view class=\"dir-left-nowrap item \" style=\"margin-top: 20rpx;\"\r\n                                  v-if=\"orderDetail.plugin_data.discount_list.vip_discount\">\r\n                                <text class='box-grow-1' style=\"color: #666666;font-size: 28rpx;\">\r\n                                    {{orderDetail.plugin_data.discount_list.vip_discount.label}}\r\n                                </text>\r\n                                <text class='box-grow-0'>-￥{{ orderDetail.plugin_data.discount_list.vip_discount.value }}</text>\r\n                            </view>\r\n                        </view>\r\n                        <view class=\"dir-left-nowrap item main-right\" style=\"margin:28rpx 0 ;\">\r\n                            合计：\r\n                            <span>\r\n                                <text v-if=\"orderDetail.plugin_data.exchange_count\"\r\n                                      class='price'>{{\r\n                                        orderDetail.plugin_data.exchange_count\r\n                                    }}{{ orderDetail.plugin_data.price_name }}+</text>\r\n                                <text class='box-grow-0'\r\n                                      style=\"font-size: 28rpx;\">￥{{ orderDetail.total_pay_price }}</text>\r\n                            </span>\r\n                        </view>\r\n                    </view>\r\n                </template>\r\n\r\n                <!------------商品信息------------------>\r\n                <view class=\"order-label\">商品信息</view>\r\n                <view class='preferential-box dir-top-wrap' v-if=\"orderDetail.sign !== 'advance'\">\r\n                    <view v-if=\"orderDetail.plugin_data.exchange_count == null\" class='dir-left-nowrap item'>\r\n                        <view class='box-grow-1'>商品总价</view>\r\n                        <view class='box-grow-0'>￥{{ orderDetail.total_goods_original_price }}</view>\r\n                    </view>\r\n                    <view v-if=\"orderDetail.plugin_data.exchange_count\" class='dir-left-nowrap item'>\r\n                        <view class='box-grow-1'>兑换{{ orderDetail.plugin_data.price_name }}</view>\r\n                        <view class='box-grow-0'>{{ orderDetail.plugin_data.exchange_count }}</view>\r\n                    </view>\r\n                    <view v-if=\"orderDetail.plugin_data.exchange_count >= 0\" class='dir-left-nowrap item'>\r\n                        <view class='box-grow-1'>兑换金额</view>\r\n                        <view class='box-grow-0'>￥{{ orderDetail.total_goods_original_price }}</view>\r\n                    </view>\r\n                    <view class='dir-left-nowrap item' v-if=\"orderDetail.sign !== 'advance' && orderDetail.goods_type === 'goods'\">\r\n                        <view class='box-grow-1'>运费</view>\r\n                        <view class='box-grow-0'>￥{{ orderDetail.express_price }}</view>\r\n                    </view>\r\n                    <view v-if=\"orderDetail.member_deduction_price_count > 0  && sign !== 'advance'\"\r\n                          class='dir-left-nowrap item'>\r\n                        <view class='box-grow-1'>会员折扣</view>\r\n                        <view class='box-grow-0'>-￥{{ orderDetail.member_deduction_price_count }}</view>\r\n                    </view>\r\n                    <view v-if='orderDetail.integral_deduction_price > 0' class='dir-left-nowrap item'>\r\n                        <view class='box-grow-1'>积分抵扣</view>\r\n                        <view class='box-grow-0'>-￥{{ orderDetail.integral_deduction_price }}</view>\r\n                    </view>\r\n                    <view v-if='orderDetail.coupon_discount_price > 0' class='dir-left-nowrap item'>\r\n                        <view class='box-grow-1'>优惠券抵扣</view>\r\n                        <view class='box-grow-0'>-￥{{ orderDetail.coupon_discount_price }}</view>\r\n                    </view>\r\n                    <!-- 插件额外优惠 -->\r\n                    <view v-if=\"orderDetail.plugin_data && orderDetail.plugin_data.discount_list && sign !== 'advance'\">\r\n                        <view v-for='item in orderDetail.plugin_data.discount_list' :key=\"item.id\"\r\n                              class='dir-left-nowrap item'>\r\n                            <view class='box-grow-1'>{{ item.label }}</view>\r\n                            <view class='box-grow-0'>-￥{{ item.value }}</view>\r\n                        </view>\r\n                    </view>\r\n                    <view v-if=\"orderDetail.full_reduce_price > 0  && sign !== 'advance'\" class='dir-left-nowrap item'>\r\n                        <view class='box-grow-1'>满减优惠</view>\r\n                        <view class='box-grow-0'>-￥{{orderDetail.full_reduce_price}}</view>\r\n                    </view>\r\n                    <view v-if=\"orderDetail.remark && orderDetail.goods_type === 'goods'\" class='dir-top-nowrap item'>\r\n                        <view class='box-grow-1'>买家留言:</view>\r\n                        <view style=\"word-break: break-all\" class='box-grow-0 t-extra-small-color'>{{\r\n                                orderDetail.remark\r\n                            }}\r\n                        </view>\r\n                    </view>\r\n                </view>\r\n                <view class='order-price-box cross-center dir-right-nowrap' v-if=\"orderDetail.sign !== 'advance'\">\r\n                    <view>\r\n                        合计:\r\n                        <span>\r\n                            <text v-if=\"orderDetail.plugin_data.exchange_count\"\r\n                                  class='price'>{{\r\n                                    orderDetail.plugin_data.exchange_count\r\n                                }}{{ orderDetail.plugin_data.price_name }}+</text>\r\n                            <text class='price'>￥{{ orderDetail.total_pay_price }}</text>\r\n                        </span>\r\n                    </view>\r\n                </view>\r\n\r\n                <!--------------商品信息 end 商品列表---------------->\r\n                <view v-if=\"orderDetail.platform\" class=\"order-label\"\r\n                      style=\"font-weight: normal;border-top: 1rpx solid #E2E2E2;padding: 30rpx 24rpx\">\r\n                    {{ orderDetail.platform }}\r\n                </view>\r\n                <view class='goods-box composition' v-if=\"sign == 'composition'\">\r\n                    <view class=\"composition-item\" v-for='(list, idx) in orderDetail.composition_list' :key='idx'>\r\n                        <view class=\"main-between composition-title\">\r\n                            <view class=\"composition-type\" v-if=\"list.type == 1\">固定套餐</view>\r\n                            <view class=\"composition-type\" v-else>搭配套餐</view>\r\n                            <view>套餐总价 ￥{{ list.total_price }}</view>\r\n                        </view>\r\n                        <view class=\"goods-list\" v-for='(item, index) in list.goods_list' :key='index'>\r\n                            <app-order-goods-info :plugin=\"list.type == 2 ?sign : ''\" v-if=\"list.show || index == 0\"\r\n                                                  style=\"width:100%;\" :goods='item'\r\n                                                  :plugin-data=\"orderDetail.plugin_data\"\r\n                                                  :plugin-index=\"index\"></app-order-goods-info>\r\n                            <block v-if='orderDetail.is_send == 1 && (list.show || index == 0)'>\r\n                                <view class='dir-left-nowrap sale-box'>\r\n                                    <view class='box-grow-1'></view>\r\n                                    <view class='box-grow-0 dir-top-nowrap'>\r\n                                        <!-- 无售后记录 且 未超过售后时间 才可申请售后 -->\r\n                                        <block\r\n                                            v-if=\"orderDetail.detail[index].is_show_apply_refund && orderDetail.goods_type !== 'ecard'\">\r\n                                            <app-jump-button\r\n                                                :url=\"`/pages/order/refund/select-refund-type?id=${orderDetail.detail[index].id}&sign=${orderDetail.sign}`\">\r\n                                                <view size='mini' class='sale-server detail-btn'>申请售后</view>\r\n                                            </app-jump-button>\r\n                                        </block>\r\n                                        <block v-else-if=\"orderDetail.detail[index].refund\">\r\n                                            <text class='refund-status'>\r\n                                                已申请售后({{ orderDetail.detail[index].refund.status_text }})\r\n                                            </text>\r\n                                        </block>\r\n                                    </view>\r\n                                </view>\r\n                            </block>\r\n                        </view>\r\n                        <view class=\"composition-open main-center\">\r\n                            <view @click=\"toggle(idx)\" class=\"composition-btn\">\r\n                                <text>{{ list.show ? '点击收起套餐详情' : '点击展开套餐详情' }}</text>\r\n                                <image v-if=\"!list.show\" src=\"/static/image/icon/icon-down.png\"></image>\r\n                                <image v-else src=\"/static/image/icon/icon-up.png\"></image>\r\n                            </view>\r\n                        </view>\r\n                    </view>\r\n                </view>\r\n                <view class='goods-box' v-else>\r\n                    <view v-for='(item, index) in orderDetail.detail' :key='index'>\r\n                        <app-jump-button :url=\"item.goods_info.page_url\">\r\n                            <app-order-goods-info style=\"width:100%;\" :goods='item.goods_info'\r\n                                                  :plugin-data=\"orderDetail.plugin_data\"\r\n                                                  :plugin-index=\"index\"></app-order-goods-info>\r\n                        </app-jump-button>\r\n                        <block v-if='orderDetail.is_send == 1'>\r\n                            <view class='dir-left-nowrap sale-box'>\r\n                                <view class='box-grow-1'></view>\r\n                                <view class='box-grow-0 dir-top-nowrap'>\r\n                                    <!-- 无售后记录 且 未超过售后时间 才可申请售后 -->\r\n                                    <block v-if=\"item.is_show_apply_refund && orderDetail.goods_type !== 'ecard'\">\r\n                                        <app-jump-button\r\n                                            :url=\"`/pages/order/refund/select-refund-type?id=${item.id}&sign=${orderDetail.sign}`\">\r\n                                            <view size='mini' class='sale-server detail-btn'>申请售后</view>\r\n                                        </app-jump-button>\r\n                                    </block>\r\n                                    <block v-else-if=\"item.refund\">\r\n                                        <text class='refund-status'>已申请售后({{ item.refund.status_text }})</text>\r\n                                    </block>\r\n                                </view>\r\n                            </view>\r\n                        </block>\r\n                    </view>\r\n                </view>\r\n\r\n                <!-------------其他信息----------------->\r\n                <block v-if=\"(orderDetail.sign === 'booking' || orderDetail.sign === 'vip_card') && orderDetail.order_form && orderDetail.order_form.length\">\r\n                    <view class=\"order-label\">其他信息</view>\r\n                    <view class=\"order-form order-list\">\r\n                        <view v-for=\"(formItem, k) in orderDetail.order_form\" :key=\"k\" class=\"order-form-box\">\r\n                            <view v-if=\"formItem.key === 'img_upload'\" class=\"dir-top-nowrap\">\r\n                                <view class=\"box-grow-0\">{{ formItem.label }}：</view>\r\n                                <view class=\"dir-left-wrap\">\r\n                                    <block v-if=\"Array.isArray(formItem.value)\">\r\n                                        <image v-for=\"(img, l) in formItem.value\"\r\n                                               :key=\"l\"\r\n                                               v-if=\"img\"\r\n                                               @click=\"look(img)\"\r\n                                               :src=\"img\"\r\n                                               style=\"margin-right:16rpx;margin-bottom:16rpx\"\r\n                                        ></image>\r\n                                    </block>\r\n                                    <image v-else-if=\"formItem.value\"\r\n                                           @click=\"look(formItem.value)\"\r\n                                           :src=\"formItem.value\"\r\n                                    ></image>\r\n                                </view>\r\n                            </view>\r\n                            <view v-else class=\"dir-left-nowrap\">\r\n                                <view class=\"box-grow-0\">{{ formItem.label ? formItem.label : formItem.key_name }}：</view>\r\n                                <view class=\"box-grow-1 text\">{{ formItem.value ? formItem.value : '' }}</view>\r\n                            </view>\r\n                        </view>\r\n                    </view>\r\n                </block>\r\n                <block v-else-if=\"formList && formList.length\">\r\n                    <view class=\"order-label\">其他信息</view>\r\n                    <view v-for=\"(formAll, i) in formList\" :key=\"i\" class=\"order-form order-list\">\r\n                        <app-order-goods-info v-if=\"isShowFormGoods\"\r\n                                              v-for=\"(goods,j) in formAll\"\r\n                                              :key=\"j\"\r\n                                              style=\"width:100%;\"\r\n                                              :goods='goods.goods_info'\r\n                                              :plugin-data=\"orderDetail.plugin_data\"\r\n                                              :plugin-index=\"i\"\r\n                        ></app-order-goods-info>\r\n                        <view v-for=\"(formItem, k) in formAll[0]['form_data']\" :key=\"k\" class=\"order-form-box\">\r\n                            <view v-if=\"formItem.key === 'img_upload'\" class=\"dir-top-nowrap\">\r\n                                <view class=\"box-grow-0\">{{ formItem.label }}：</view>\r\n                                <view class=\"dir-left-wrap\">\r\n                                    <block v-if=\"Array.isArray(formItem.value)\">\r\n                                        <image v-for=\"(img, l) in formItem.value\"\r\n                                               :key=\"l\"\r\n                                               v-if=\"img\"\r\n                                               @click=\"look(img)\"\r\n                                               :src=\"img\"\r\n                                               style=\"margin-right:16rpx;margin-bottom:16rpx\"\r\n                                        ></image>\r\n                                    </block>\r\n                                    <image v-else-if=\"formItem.value\"\r\n                                           @click=\"look(formItem.value)\"\r\n                                           :src=\"formItem.value\"\r\n                                    ></image>\r\n                                </view>\r\n                            </view>\r\n                            <view v-else class=\"dir-left-nowrap\">\r\n                                <view class=\"box-grow-0\">{{ formItem.label }}：</view>\r\n                                <view class=\"box-grow-1 text\">{{ formItem.value ? formItem.value : '' }}</view>\r\n                            </view>\r\n                        </view>\r\n                    </view>\r\n                </block>\r\n                <block v-if=\"(orderDetail.is_pay == 1 || orderDetail.pay_type == 2)\r\n                    && orderDetail.is_send == 0\r\n                    && orderDetail.status == 1\r\n                    && orderDetail.detailExpressRelation.length == 0\r\n                    && orderDetail.cancel_status != 1\">\r\n                    <view v-if=\"orderDetail.sign !='gift'\" class='action-box dir-left-nowrap main-right'>\r\n                        <view @click='cancel(orderDetail)' class='box-grow-0 btn'>申请退款</view>\r\n                    </view>\r\n                </block>\r\n            </view>\r\n        </view>\r\n    </app-layout>\r\n</template>\r\n<script>\r\nimport appOrderGoodsInfo from \"../../../components/page-component/app-order-goods-info/app-order-goods-info.vue\";\r\nimport appOrderExpress from \"../../../components/page-component/app-order-express/app-order-express.vue\";\r\nimport appOrderBanner from \"../../../components/page-component/app-order-banner/app-order-banner.vue\";\r\nimport order from \"../order.js\";\r\n\r\nexport default {\r\n    components: {\r\n        \"app-order-goods-info\": appOrderGoodsInfo,\r\n        \"app-order-express\": appOrderExpress,\r\n        \"app-order-banner\": appOrderBanner,\r\n    },\r\n    data() {\r\n        return {\r\n            order_id: null,\r\n            orderDetail: {\r\n                detailExpressRelation: [],\r\n                detailExpress: [],\r\n            },\r\n            is_show: false,\r\n            advance_order: {\r\n                goods_num: 0\r\n            },\r\n            detail: [],\r\n            sign: '',\r\n            ecard: [],\r\n            isShowFormGoods: false,\r\n        }\r\n    },\r\n    computed: {\r\n        formList() {\r\n            const self = this;\r\n            let orderDetail = self.orderDetail.detail;\r\n            let newArr = {};\r\n            let form_ids = [];\r\n\r\n            if (orderDetail && orderDetail.length) {\r\n                for (let goods of orderDetail) {\r\n                    if (goods.form_id == '0') {\r\n                        continue;\r\n                    }\r\n                    if (form_ids.indexOf(goods.form_id) === -1) {\r\n                        form_ids.push(goods.form_id);\r\n                        newArr[goods.form_id] = [goods];\r\n                    } else {\r\n                        newArr[goods.form_id].push(goods);\r\n                    }\r\n                }\r\n            }\r\n            self.isShowFormGoods = form_ids.length > 1;\r\n            return Object.values(newArr);\r\n        },\r\n        getPageUrl() {\r\n            let orderDetail = this.orderDetail;\r\n            if (orderDetail.is_send == 1 && orderDetail.detailExpress.length == 0) {\r\n                let coverPic = '';\r\n                orderDetail.detail.forEach(function (item, index) {\r\n                    if (index === 0) {\r\n                        coverPic = item.goods_info.pic_url;\r\n                    }\r\n                });\r\n                return `/pages/order/express-detail/express-detail?express=${orderDetail.express}&customer_name=${orderDetail.customer_name}&express_no=${orderDetail.express_no}&cover_pic=${coverPic}`\r\n            } else if (orderDetail.is_send == 1 && orderDetail.detailExpress.length == 1) {\r\n                let express = orderDetail.detailExpress[0].express;\r\n                let express_no = orderDetail.detailExpress[0].express_no;\r\n                let customer_name = orderDetail.detailExpress[0].customer_name;\r\n                let cover_pic = orderDetail.detailExpress[0].expressRelation[0].orderDetail.goods_info.goods_attr.cover_pic;\r\n                return `/pages/order/express-detail/express-detail?express=` + express + `&customer_name=` + customer_name + `&express_no=` + express_no + `&cover_pic=` + cover_pic\r\n            } else if (orderDetail.detailExpress.length >= 1) {\r\n                return '/pages/order/express-list/express-list?order_id=' + orderDetail.id;\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        look(e) {\r\n            uni.previewImage({\r\n                current: e, // 当前显示图片的http链接\r\n                urls: [e] // 需要预览的图片http链接列表\r\n            })\r\n        },\r\n        toggle(index) {\r\n            this.orderDetail.composition_list[index].show = !this.orderDetail.composition_list[index].show;\r\n            this.$forceUpdate();\r\n        },\r\n        getOrderDetail() {\r\n            let self = this;\r\n            self.$showLoading();\r\n            self.$request({\r\n                url: self.$api.order.detail,\r\n                data: {\r\n                    id: self.order_id,\r\n                }\r\n            }).then(response => {\r\n                self.$hideLoading();\r\n                self.is_show = true;\r\n                if (response.code == 0) {\r\n                    self.orderDetail = response.data.detail;\r\n                    self.ecard = [self.orderDetail.type_data.ecard[0]];\r\n                    if (self.sign == 'composition') {\r\n                        for (let i in self.orderDetail.composition_list) {\r\n                            self.orderDetail.composition_list[i].show = false;\r\n                        }\r\n                    }\r\n                } else {\r\n                    uni.showModal({\r\n                        title: '',\r\n                        content: response.msg,\r\n                        showCancel: false,\r\n                    });\r\n                }\r\n            }).catch(() => {\r\n                self.$hideLoading();\r\n            });\r\n        },\r\n        copyText(orderNo) {\r\n            order.copyText(orderNo)\r\n        },\r\n        copyTextEcard(item) {\r\n            let str = ``;\r\n            for (let i = 0; i < item.length; i++) {\r\n                str += `${item[i].key}:${item[i].value}\\n`\r\n            }\r\n            order.copyText(str);\r\n        },\r\n        navigation(store) {\r\n            uni.openLocation({\r\n                latitude: parseFloat(store.latitude),\r\n                longitude: parseFloat(store.longitude),\r\n                name: store.name,\r\n                address: store.address,\r\n            })\r\n        },\r\n        // 取消 | 申请退款\r\n        cancel(e) {\r\n            let self = this;\r\n            uni.navigateTo({\r\n                url: '/pages/order/refund/order-refund?id=' + e.id\r\n            });\r\n        },\r\n        cancelAction(e) {\r\n            let self = this;\r\n            uni.showLoading({title: '取消中'});\r\n            self.$request({\r\n                url: self.$api.order.cancel,\r\n                data: {\r\n                    id: e.id\r\n                }\r\n            }).then(response => {\r\n                uni.hideLoading();\r\n                if (response.code === 0) {\r\n                    if (self.sign === 'advance') {\r\n                        self.$request({\r\n                            url: self.$api.advance.order_detail,\r\n                            method: 'get',\r\n                            data: {\r\n                                id: self.order_id,\r\n                            }\r\n                        }).then(response => {\r\n                            self.is_show = true;\r\n                            if (response.code === 0) {\r\n                                self.orderDetail = response.data.detail;\r\n                            } else {\r\n                                uni.showModal({\r\n                                    title: '',\r\n                                    content: response.msg,\r\n                                    showCancel: false,\r\n                                });\r\n                            }\r\n                        })\r\n                    } else {\r\n                        self.getOrderDetail();\r\n                    }\r\n                } else {\r\n                    uni.showModal({\r\n                        title: '',\r\n                        content: response.msg,\r\n                        showCancel: false,\r\n                    });\r\n                }\r\n            }).catch(() => {\r\n                uni.hideLoading();\r\n            });\r\n        },\r\n        mobile: function () {\r\n            uni.makePhoneCall({\r\n                phoneNumber: this.orderDetail.city.mobile,\r\n            })\r\n        },\r\n        // 电子卡密使用说明\r\n        go_eCard() {\r\n            uni.navigateTo({\r\n                url: `/pages/rules/index?url=${encodeURIComponent(this.$api.ecard.index)}&key=content&data=${JSON.stringify({\r\n                    order_id: this.orderDetail.id\r\n                })}`,\r\n            });\r\n        }\r\n    },\r\n    onLoad(options) {\r\n        this.order_id = options.id;\r\n        this.sign = options.sign;\r\n    },\r\n    onShow() {\r\n        let self = this;\r\n        let interval = setInterval(function () {\r\n            if (self.sign === 'advance') {\r\n                self.$request({\r\n                    url: self.$api.advance.order_detail,\r\n                    method: 'get',\r\n                    data: {\r\n                        id: self.order_id,\r\n                    }\r\n                }).then(response => {\r\n                    self.is_show = true;\r\n                    if (response.code === 0) {\r\n                        self.orderDetail = response.data.detail;\r\n                    } else {\r\n                        uni.showModal({\r\n                            title: '',\r\n                            content: response.msg,\r\n                            showCancel: false,\r\n                        });\r\n                    }\r\n                })\r\n            } else {\r\n                self.getOrderDetail();\r\n            }\r\n            clearInterval(interval);\r\n        }, 300);\r\n    }\r\n}\r\n</script>\r\n<style scoped lang=\"scss\">\r\n.order-detail-box {\r\n    font-size: $uni-font-size-general-one;\r\n    color: $uni-general-color-one;\r\n    position: relative;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.order-label {\r\n    padding: #{32rpx} #{24rpx};\r\n    font-size: #{30rpx};\r\n    color: #353535;\r\n    font-weight: bold;\r\n    background: #FFFFFF;\r\n    border-bottom: #{1rpx} solid #e2e2e2;\r\n}\r\n\r\n.goods-image {\r\n    margin-right: #{20rpx};\r\n    margin-bottom: #{20rpx};\r\n}\r\n\r\n.goods-num {\r\n    font-size: #{24rpx};\r\n    color: #999999;\r\n    margin: #{20rpx} 0;\r\n}\r\n\r\n.order-form {\r\n    background: #FFFFFF;\r\n\r\n    .order-form-box {\r\n        padding: #{5rpx} 0;\r\n\r\n        span {\r\n        }\r\n\r\n        image {\r\n            height: #{174rpx};\r\n            width: #{174rpx};\r\n            display: block;\r\n            margin-top: #{15rpx};\r\n        }\r\n    }\r\n\r\n}\r\n\r\n.order-list {\r\n    background: #FFFFFF;\r\n    padding: #{32rpx} #{24rpx};\r\n    margin-bottom: #{20rpx};\r\n\r\n    > view {\r\n        margin-bottom: #{10rpx};\r\n    }\r\n\r\n    .text {\r\n        word-wrap: break-word;\r\n    }\r\n\r\n    > view:last-child {\r\n        margin-bottom: 0;\r\n    }\r\n\r\n    .order-list-btn {\r\n        border: 1#{rpx} solid #bbbbbb;\r\n        border-radius: 30#{rpx};\r\n        padding: 10#{rpx} 30#{rpx};\r\n        display: inline-block;\r\n        margin-left: calc(100vw - #{170rpx});\r\n    }\r\n}\r\n\r\n.order-form:last-child {\r\n    border-bottom: none;\r\n}\r\n\r\n.express-box {\r\n    background: #fff;\r\n    padding: 32#{rpx} 24#{rpx};\r\n    margin-bottom: 20#{rpx};\r\n}\r\n\r\n.address-box {\r\n    background: #fff;\r\n    padding: 32#{rpx} 24#{rpx};\r\n    margin-bottom: 20#{rpx};\r\n\r\n    .address {\r\n        word-wrap: break-word;\r\n    }\r\n}\r\n\r\n.address-box .text {\r\n    margin-top: 10#{rpx};\r\n}\r\n\r\n.delivery {\r\n    .deliveryman {\r\n        width: #{72rpx};\r\n        height: #{72rpx};\r\n        display: block;\r\n        margin-right: #{24rpx};\r\n    }\r\n\r\n    .delivery-tips {\r\n        font-size: $uni-font-size-weak-one;\r\n        color: $uni-general-color-two;\r\n        margin-bottom: #{16rpx};\r\n    }\r\n\r\n    .mr-16 {\r\n        margin-right: #{16rpx};\r\n    }\r\n\r\n    .delivery-mobile {\r\n        width: #{96rpx};\r\n        border-left: #{1rpx} solid #e2e2e2;\r\n\r\n        .mobile {\r\n            width: #{40rpx};\r\n            height: #{40rpx};\r\n            display: block;\r\n            margin-right: #{16rpx};\r\n        }\r\n    }\r\n\r\n    .content {\r\n        width: #{500rpx};\r\n    }\r\n}\r\n\r\n.order-info-box {\r\n    background: #fff;\r\n    padding: 32#{rpx} 24#{rpx};\r\n    margin-bottom: 20#{rpx};\r\n}\r\n\r\n.store-info-box {\r\n    background: #fff;\r\n    padding: 32#{rpx} 24#{rpx};\r\n    margin-bottom: 20#{rpx};\r\n}\r\n\r\n.preferential-box {\r\n    background: #fff;\r\n    padding: 32#{rpx} 24#{rpx};\r\n    border-bottom: 1#{rpx} solid $uni-weak-color-one;\r\n}\r\n\r\n.preferential-box .item {\r\n    margin: 5#{rpx} 0;\r\n}\r\n\r\n.order-price-box {\r\n    height: 100#{rpx};\r\n    background: #fff;\r\n    padding: 32#{rpx} 24#{rpx};\r\n    //margin-bottom: 20#{rpx};\r\n}\r\n\r\n.goods-box {\r\n    background: #fff;\r\n    padding: 32#{rpx} 24#{rpx};\r\n    margin-bottom: 20#{rpx};\r\n\r\n    &.composition {\r\n        padding: 0;\r\n        padding-bottom: #{8rpx};\r\n        margin-bottom: 0;\r\n        background-color: #f7f7f7;\r\n    }\r\n\r\n    .composition-item {\r\n        margin-bottom: #{20rpx};\r\n        background-color: #fff;\r\n\r\n        .composition-open {\r\n            text-align: center;\r\n            background-color: #fff;\r\n            height: #{84rpx};\r\n\r\n            .composition-btn {\r\n                display: inline-block;\r\n                border: #{2rpx} solid #bbbbbb;\r\n                font-size: #{24rpx};\r\n                color: #999999;\r\n                padding: 0 #{24rpx};\r\n                margin: #{12rpx} 0 #{16rpx};\r\n                height: #{56rpx};\r\n                line-height: #{54rpx};\r\n                border-radius: #{28rpx};\r\n\r\n                image {\r\n                    width: #{22rpx};\r\n                    height: #{12rpx};\r\n                    margin-left: #{16rpx};\r\n                }\r\n            }\r\n        }\r\n\r\n        .goods-list {\r\n            padding: 0 #{24rpx};\r\n        }\r\n\r\n        .composition-title {\r\n            height: #{80rpx};\r\n            line-height: #{80rpx};\r\n            padding: 0 #{24rpx};\r\n            font-size: #{28rpx};\r\n            color: #353535;\r\n            margin-bottom: #{24rpx};\r\n            border-bottom: #{2rpx} solid #e2e2e2;\r\n\r\n            .composition-type {\r\n                color: #f39800;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n.goods-box .sale-server {\r\n    margin-top: 20#{rpx};\r\n}\r\n\r\n.goods-box .sale-box {\r\n    padding-bottom: 15#{rpx};\r\n}\r\n\r\n.goods-box .refund-status {\r\n    margin-top: 15#{rpx};\r\n    color: $uni-important-color-black;\r\n}\r\n\r\n.action-box {\r\n    background: #fff;\r\n    padding: 32#{rpx} 24#{rpx};\r\n\r\n    .cancel-text {\r\n        font-size: $uni-font-size-import-two;\r\n    }\r\n\r\n    .btn {\r\n        border: 1#{rpx} solid #bbbbbb;\r\n        border-radius: 30#{rpx};\r\n        padding: 10#{rpx} 30#{rpx};\r\n    }\r\n}\r\n\r\n.detail-btn {\r\n    border: 1#{rpx} solid #bbbbbb;\r\n    border-radius: 30#{rpx};\r\n    padding: 10#{rpx} 30#{rpx};\r\n}\r\n\r\n.e-box {\r\n    width: 100%;\r\n    height: #{100rpx};\r\n    padding: 0 #{24rpx};\r\n    background: #ffffff;\r\n    margin-bottom: #{20rpx};\r\n\r\n    .img {\r\n        width: 12#{rpx};\r\n        height: 24#{rpx};\r\n    }\r\n\r\n    .express-name {\r\n        margin-bottom: 15#{rpx};\r\n    }\r\n\r\n    .text {\r\n        color: #353535;\r\n        font-size: #{28rpx};\r\n    }\r\n}\r\n\r\n.advance {\r\n    width: #{702rpx};\r\n    border-radius: #{16rpx};\r\n    background-color: #f7f7f7;\r\n    padding: #{32rpx 24rpx};\r\n\r\n    .title {\r\n        font-size: #{24rpx};\r\n        color: #ff4544;\r\n        margin-bottom: #{15rpx};\r\n    }\r\n}\r\n\r\n.item-box {\r\n    border: #{1rpx} solid #c2c2c2;\r\n    padding: #{24rpx};\r\n    border-radius: #{16rpx};\r\n    width: #{702rpx};\r\n}\r\n\r\n.ecard {\r\n    background-color: #ffffff;\r\n\r\n    .item {\r\n        padding: #{32upx 24upx 0 24upx};\r\n\r\n        .text {\r\n            font-size: #{23upx};\r\n            line-height: 1.5;\r\n            padding-left: #{15upx};\r\n        }\r\n    }\r\n\r\n    .expand {\r\n        height: #{70upx};\r\n        margin-top: #{20upx};\r\n        border-top: #{1upx} solid #e2e2e2;\r\n\r\n        > image {\r\n            width: #{20upx};\r\n            height: #{12upx};\r\n        }\r\n\r\n        > text {\r\n            font-size: #{23upx};\r\n            color: #919191;\r\n        }\r\n    }\r\n}\r\n\r\n.instructions {\r\n    width: #{12upx};\r\n    height: #{22upx};\r\n    margin-left: #{18upx};\r\n}\r\n\r\n.ecard-info {\r\n    height: #{90upx};\r\n    line-height: #{90upx};\r\n    background-color: #ffffff;\r\n    padding: #{0 22upx};\r\n    margin-bottom: #{13upx};\r\n}\r\n\r\n.city-service {\r\n    width: 100%;\r\n    margin-bottom: 10#{rpx};\r\n\r\n    .await-man {\r\n        margin-left: #{12rpx};\r\n        font-size: #{28rpx};\r\n        color:#666666;\r\n    }\r\n\r\n    .info-box {\r\n        margin-left: #{12rpx};\r\n\r\n        .info-label {\r\n            margin-bottom: #{10rpx};\r\n            color: #999999;\r\n            font-size: #{28rpx};\r\n        }\r\n    }\r\n\r\n    .head {\r\n        width: #{75rpx};\r\n        height: #{75rpx};\r\n    }\r\n\r\n    .icon-box {\r\n        padding: 0 #{30rpx};\r\n        border-left: #{1rpx} solid #f7f7f7;\r\n\r\n        .icon {\r\n            width: #{45rpx};\r\n            height: #{45rpx};\r\n        }\r\n    }\r\n}\r\n</style>","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order-detail.vue?vue&type=style&index=0&id=5b1c5076&scoped=true&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order-detail.vue?vue&type=style&index=0&id=5b1c5076&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1608184848361\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}