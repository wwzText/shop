{"version":3,"sources":["webpack:///C:/Users/26439/Desktop/shop4.3.57_1/components/page-component/u-index-plugins/u-pick.vue?a8f4","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/components/page-component/u-index-plugins/u-pick.vue?96fe","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/components/page-component/u-index-plugins/u-pick.vue?0ce5","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/components/page-component/u-index-plugins/u-pick.vue?49f1","uni-app:///components/page-component/u-index-plugins/u-pick.vue","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/components/page-component/u-index-plugins/u-pick.vue?68d0","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/components/page-component/u-index-plugins/u-pick.vue?fc3d"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+H;AAC/H;AAC0D;AACL;AACsC;;;AAG3F;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,6FAAM;AACR,EAAE,sGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,iGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AChCA;AAAA;AAAA;AAAA;AAAgmB,CAAgB,0nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACwDpnB,gD;;;;AAIA;AACA,gBADA;AAEA;;AAEA;AACA,kBADA;AAEA,aAFA,sBAEA;AACA;AACA,OAJA,EAFA;;AAQA,iBARA;AASA,iBATA;AAUA,wBAVA;AAWA,mBAXA;AAYA;AACA,kBADA;AAEA;AACA;AACA,yBADA;;AAGA,OANA,EAZA;;AAoBA;AACA,kBADA;AAEA;AACA;AACA,0BADA;AAEA,0BAFA;AAGA,yBAHA;;AAKA,OARA,EApBA,EAFA;;;AAiCA,MAjCA,kBAiCA;AACA;AACA,iBADA;AAEA,kBAFA;AAGA,mBAHA;AAIA,aAJA;AAKA,gBALA;AAMA,mBANA;;AAQA,GA1CA;AA2CA;AACA,gCADA;AAEA,gCAFA,EA3CA;;AA+CA;AACA;AACA,wBADA,GADA;;AAIA;AACA;AACA;AACA,KAPA,GA/CA;;AAwDA;AACA,UADA,kBACA,KADA,EACA;AACA;AACA,KAHA;AAIA;AACA,kBALA,0BAKA,KALA,EAKA;AACA;AACA,KAPA;AAQA;AACA,aATA,qBASA,KATA,EASA;AACA;AACA,KAXA;AAYA;AACA,eAbA,uBAaA,KAbA,EAaA;AACA;AACA,KAfA;AAgBA,YAhBA,sBAgBA;AACA;AACA,iDADA;AAEA,mBAFA;AAGA,6BAHA;AAIA,yBAJA;;AAMA;AACA;AACA;AACA;AACA,kCADA;AAEA,kBAFA;AAGA,UAHA,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAVA;AAWA,KArCA;AAsCA;AACA,aAvCA,qBAuCA,IAvCA,EAuCA;AACA;AACA,KAzCA;AA0CA;AACA,aA3CA,uBA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,EAEA,GAFA;AAGA;AACA,KArDA,EAxDA;;AA+GA,SA/GA,qBA+GA;AACA;AACA;AACA;AACA;AACA;AACA,KAFA,MAEA;AACA;AACA;AACA,GAxHA;AAyHA;AACA;AACA,aADA,mBACA,MADA,EACA;AACA;AACA;AACA;AACA,OALA,EADA,EAzHA;;;AAkIA,WAlIA,uBAkIA;AACA;AACA,GApIA,E;;;;;;;;;;;;AC5DA;AAAA;AAAA;AAAA;AAA0nC,CAAgB,omCAAG,EAAC,C;;;;;;;;;;;ACA9oC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/page-component/u-index-plugins/u-pick.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./u-pick.vue?vue&type=template&id=52fa1ba0&scoped=true&\"\nvar renderjs\nimport script from \"./u-pick.vue?vue&type=script&lang=js&\"\nexport * from \"./u-pick.vue?vue&type=script&lang=js&\"\nimport style0 from \"./u-pick.vue?vue&type=style&index=0&id=52fa1ba0&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"52fa1ba0\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/page-component/u-index-plugins/u-pick.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./u-pick.vue?vue&type=template&id=52fa1ba0&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 =\n    _vm.style == \"1\"\n      ? _vm.__map(_vm.goodsList, function(goods, index) {\n          var $orig = _vm.__get_orig(goods)\n\n          var m0 = _vm.isShowStock(goods)\n          var m1 = _vm.isShowMemPrice(goods)\n          var m2 = _vm.isShowVip(goods)\n          return {\n            $orig: $orig,\n            m0: m0,\n            m1: m1,\n            m2: m2\n          }\n        })\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./u-pick.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./u-pick.vue?vue&type=script&lang=js&\"","<template>\r\n    <u-index-plugins url=\"/plugins/pick/index/index\">\r\n        <template v-slot:u-top-name>\r\n            <view class=\"cross-center u-top\">\r\n                <image class=\"u-icon\" :src=\"appImg.pick\"></image>\r\n                <view class=\"box-grow-1\">N元任选</view>\r\n            </view>\r\n        </template>\r\n        <template v-slot:u-body>\r\n            <view v-if=\"style == '1'\" class=\"dir-left-nowrap\">\r\n                <view v-for=\"(goods, index) in goodsList\" v-bind:key=\"index\" class=\"u-goods dir-top-nowrap box-grow-0\" v-on:click=\"router(goods)\">\r\n                    <view class=\"u-cover-box\">\r\n                        <view class=\"u-out-dialog\" v-if=\"isShowStock(goods)\">\r\n                            <image class=\"u-pic\" :src=\"appSetting.is_use_stock == '1' ? appImg.plugins_out : appSetting.sell_out_pic\"></image>\r\n                        </view>\r\n                        <image class=\"box-grow-0 u-cover\" v-bind:src=\"goods.cover_pic\"></image>\r\n                    </view>\r\n                    <view class=\"box-grow-0 u-goods-name t-omit-two \">\r\n                        {{goods.name}}\r\n                    </view>\r\n                    <view class=\"box-grow-1 u-content  dir-top-nowrap main-right\">\r\n                        <view class=\"u-margin dir-left-nowrap\">\r\n                            <text :class=\"[theme.back, 'u-des-price']\">\r\n                                {{newData.activity.rule_price}}元任选{{newData.activity.rule_num}}件\r\n                            </text>\r\n                        </view>\r\n                        <view class=\"u-margin\" v-if=\"isShowMemPrice(goods)\">\r\n                            <app-member-price\r\n                                :theme=\"theme\"\r\n                                v-bind:price=\"goods.level_price\"\r\n                            ></app-member-price>\r\n                        </view>\r\n                        <view class=\"u-margin\" v-if=\"isShowVip(goods)\">\r\n                            <app-sup-vip\r\n                                v-bind:is_vip_card_user=\"goods.vip_card_appoint.is_vip_card_user\"\r\n                                v-bind:discount=\"goods.vip_card_appoint.discount\"\r\n                            ></app-sup-vip>\r\n                        </view>\r\n                        <view v-bind:class=\"[theme.color, 'dir-left-nowrap', 'u-price-box', 't-omit']\">\r\n                            <text class=\"u-price\">￥{{goods.price}}</text>\r\n                        </view>\r\n                        <text class=\"u-original-price\">\r\n                            ￥{{goods.original_price}}\r\n                        </text>\r\n                    </view>\r\n                </view>\r\n            </view>\r\n            <view v-if=\"style === '2'\">\r\n                <!-- <app-goods-list :theme=\"theme\" :detail=\"newData.activity\" :list=\"goodsList\" sign=\"pick\"></app-goods-list> -->\r\n                <u-ordinary-list :activity=\"newData.activity\" :theme-object=\"theme\" :showBuyBtn=\"false\" :theme=\"getTheme\" :list-style=\"2\" :list=\"goodsList\"></u-ordinary-list>\r\n            </view>\r\n        </template>\r\n    </u-index-plugins>\r\n</template>\r\n\r\n<script>\r\nimport {mapGetters, mapState} from 'vuex';\r\nimport uIndexPlugins from '../u-index-plugins/u-index-plugins.vue';\r\nimport uOrdinaryList from '@/components/page-component/u-goods-list/u-ordinary-list.vue';\r\n\r\nexport default {\r\n    name: \"u-pick\",\r\n    props: {\r\n\r\n        activity: {\r\n            type: Object,\r\n            default() {\r\n                return {}\r\n            }\r\n        },\r\n        theme: Object,\r\n        index: Number,\r\n        is_required:Boolean,\r\n        page_id: Number,\r\n        appImg: {\r\n            type: Object,\r\n            default: function() {\r\n                return {\r\n                    plugins_out: ''\r\n                }\r\n            }\r\n        },\r\n        appSetting: {\r\n            type: Object,\r\n            default: function() {\r\n                return {\r\n                    is_show_stock: 1,\r\n                    sell_out_pic: '',\r\n                    is_use_stock: 1\r\n                }\r\n            }\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            newData: [],\r\n            tempList: [],\r\n            goodsList: [],\r\n            time: 0,\r\n            style: '1',\r\n            goods_num: 10\r\n        };\r\n    },\r\n    components: {\r\n        uIndexPlugins,\r\n        uOrdinaryList\r\n    },\r\n    computed: {\r\n        ...mapGetters('mallConfig', {\r\n            getTheme: 'getTheme',\r\n        }),\r\n        copyList: function() {\r\n            if (!this.newData) return;\r\n            return this.newData.list;\r\n        }\r\n    },\r\n    methods: {\r\n        router(goods) {\r\n            this.$emit('router', goods);\r\n        },\r\n        // 是否展示会员价\r\n        isShowMemPrice(goods) {\r\n            return goods.is_level === 1 && goods.is_negotiable !== 1 ? 1 : 0;\r\n        },\r\n        // 是否展示超级会员价\r\n        isShowVip(goods) {\r\n            return goods.vip_card_appoint && goods.vip_card_appoint.discount > 0 && goods.is_negotiable !== 1 ? 1 : 0;\r\n        },\r\n        // 是否展示售罄\r\n        isShowStock(goods) {\r\n            return this.appSetting.is_show_stock === 1 && goods.goods_stock === 0 ? 1: 0;\r\n        },\r\n        loadData() {\r\n            let para = {\r\n                type: this.page_id === 0 ? 'mall' : 'diy',\r\n                key: 'pick',\r\n                page_id: this.page_id,\r\n                index: this.index\r\n            }\r\n            if(this.goods_num) {\r\n                para.goods_num = this.goods_num\r\n            }\r\n            this.$request({\r\n                url: this.$api.index.extra,\r\n                data: para\r\n            }).then(e => {\r\n                this.newData = e.data;\r\n                if (e.code ===0 && e.data && this.page_id === 0) {\r\n                    let storage = this.$storage.getStorageSync('INDEX_MALL');\r\n                    storage.home_pages[this.index].data = this.newData;\r\n                    this.$storage.setStorageSync('INDEX_MALL', storage);\r\n                }\r\n            })\r\n        },\r\n        // 复制而不是引用对象和数组\r\n        cloneData(data) {\r\n            return JSON.parse(JSON.stringify(data));\r\n        },\r\n        // 循环载入\r\n        splitData() {\r\n            if (!this.tempList.length) return;\r\n            let item = this.tempList[0];\r\n            this.goodsList.push(item);\r\n            this.tempList.splice(0, 1);\r\n            if (this.tempList.length) {\r\n                this.timeOut = setTimeout(() => {\r\n                    this.splitData();\r\n                }, 200);\r\n            }\r\n        }\r\n    },\r\n    mounted() {\r\n        let storage = this.$storage.getStorageSync('INDEX_MALL');\r\n        this.style = storage.home_pages[this.index].style;\r\n        this.goods_num = storage.home_pages[this.index].goods_num;\r\n        if (this.is_required) {\r\n            this.loadData();\r\n        } else {\r\n            this.newData = storage.home_pages[this.index].data;\r\n        }\r\n    },\r\n    watch: {\r\n        copyList: {\r\n            handler(newVal) {\r\n                if (this.$validation.empty(newVal)) return;\r\n                this.tempList = this.cloneData(newVal);\r\n                this.splitData();\r\n            }\r\n        }\r\n    },\r\n    destroyed() {\r\n        clearTimeout(this.time);\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n    @import url('./index.scss');\r\n    .u-icon {\r\n        width: 46upx;\r\n        height: 46upx;\r\n        margin-right: 16upx;\r\n    }\r\n    .u-top {\r\n        font-size: 28upx;\r\n        color: #ff4544;\r\n    }\r\n    .u-des-price {\r\n        display: inline-block;\r\n        font-size: 19upx;\r\n        color: #ffffff;\r\n        border-radius: 7upx;\r\n        padding: 0upx 5upx;\r\n    }\r\n</style>","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./u-pick.vue?vue&type=style&index=0&id=52fa1ba0&scoped=true&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./u-pick.vue?vue&type=style&index=0&id=52fa1ba0&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1608184838161\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}