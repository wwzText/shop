{"version":3,"sources":["webpack:///C:/Users/26439/Desktop/shop4.3.57_1/components/page-component/app-attr/app-attr.vue?4d7c","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/components/page-component/app-attr/app-attr.vue?34e7","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/components/page-component/app-attr/app-attr.vue?396e","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/components/page-component/app-attr/app-attr.vue?0e2c","uni-app:///components/page-component/app-attr/app-attr.vue","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/components/page-component/app-attr/app-attr.vue?8cbf","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/components/page-component/app-attr/app-attr.vue?b48b"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiI;AACjI;AAC4D;AACL;AACsC;;;AAG7F;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,+FAAM;AACR,EAAE,wGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAkmB,CAAgB,4nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2GtnB,gD;;;;AAIA;AACA,kBADA;AAEA;AACA,sBADA;AAEA,yBAFA;AAGA,gCAHA,EAFA;;AAOA;AACA,iBADA;AAEA,wBAFA;AAGA;AACA,iBADA;AAEA,aAFA,sBAEA;AACA;AACA,OAJA,EAHA;;AASA;AACA,mBADA;AAEA,aAFA,sBAEA;AACA;AACA,OAJA,EATA;;AAeA,sBAfA;AAgBA,qBAhBA;AAiBA;AACA,kBADA;AAEA,aAFA,sBAEA;AACA;AACA,OAJA,EAjBA;;AAuBA,gBAvBA;AAwBA;AACA,kBADA;AAEA,aAFA,sBAEA;AACA;AACA,OAJA,EAxBA;;AA8BA;AACA,iBADA,EA9BA;;AAiCA;AACA,kBADA;AAEA,kBAFA,EAjCA;;AAqCA;AACA,mBADA;AAEA,mBAFA,EArCA;;AAyCA;AACA,mBADA;AAEA,oBAFA,EAzCA;;AA6CA;AACA,mBADA;AAEA,oBAFA,EA7CA;;AAiDA;AACA,kBADA;AAEA,sBAFA,EAjDA;;AAqDA;AACA,mBADA;AAEA,mBAFA,EArDA;;AAyDA;AACA,kBADA,EAzDA;;AA4DA;AACA,kBADA;AAEA,qBAFA,EA5DA;;AAgEA;AACA,kBADA;AAEA,gBAFA,EAhEA;;AAoEA;AACA,kBADA;AAEA,gBAFA,EApEA;;AAwEA;AACA,kBADA;AAEA,gBAFA,EAxEA,EAPA;;;AAoFA,MApFA,kBAoFA;AACA;AACA,qBADA;AAEA,eAFA;AAGA,sBAHA;AAIA,4BAJA;AAKA,mBALA;AAMA;AACA,oBAPA;AAQA,mBARA;;AAUA,GA/FA;AAgGA;AACA,QADA,kBACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA,KARA;AASA;AACA,aADA,qBACA;AACA;AACA,OAHA;AAIA,qBAJA,EATA;;AAeA;AACA,aADA,qBACA;AACA;AACA;AACA;AACA;AACA,OANA;AAOA,qBAPA,EAfA;;AAwBA;AACA,aADA,qBACA;AACA;AACA;AACA;AACA,OALA;AAMA,qBANA,EAxBA,EAhGA;;;AAiIA,SAjIA,qBAiIA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA,8BADA,aACA;AACA;AACA,iCADA;AAEA,+BAFA;AAGA,yBAHA;AAIA,2BAJA;;AAMA;AACA;AACA;AACA;AACA;AACA,WAbA;AAcA,uBAdA,cAcA;AACA;AACA;AACA;AACA,mEADA;AAEA,+DAFA;AAGA,mDAHA;AAIA,uDAJA;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WA9BA;AA+BA;AACA;AACA,GAvKA;AAwKA;AACA,SADA,mBACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBANA,MAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;AACA,KAzCA;AA0CA,aA1CA,qBA0CA,CA1CA,EA0CA,KA1CA,EA0CA;AACA;AACA;AACA,KA7CA;AA8CA,YA9CA,oBA8CA,KA9CA,EA8CA;AACA;AACA;AACA;AACA,OAHA;AAIA,KAnDA;AAoDA,cApDA,sBAoDA,KApDA,EAoDA,QApDA,EAoDA;AACA,sBADA;AAEA,6CAFA,cAEA;AACA;AACA;AACA;AACA;AACA,SAPA;AAQA;AACA;AACA;AACA;AACA;AACA,0BAbA;AAcA,qBAdA,cAcA;AACA;AACA;AACA;AACA,gEADA;AAEA,4DAFA;AAGA,gDAHA;AAIA,oDAJA;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SA9BA;AA+BA;AACA;AACA,KArFA;AAsFA,sBAtFA,8BAsFA,KAtFA,EAsFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA/FA;AAgGA,sBAhGA,8BAgGA,KAhGA,EAgGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAzGA;AA0GA,uBA1GA,+BA0GA,KA1GA,EA0GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAlHA;AAmHA,SAnHA,iBAmHA,KAnHA,EAmHA;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA,KAzHA;AA0HA,SA1HA,mBA0HA;AACA;AACA;AACA,KA7HA;AA8HA,YA9HA,sBA8HA;AACA,KA/HA;AAgIA,kBAhIA,0BAgIA,OAhIA,EAgIA,aAhIA,EAgIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA,aATA,MASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAFA;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WALA;AAMA;AACA;AACA,2BADA;AAEA,0BAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAhOA;AAiOA,cAjOA,sBAiOA,MAjOA,EAiOA;AACA;AACA;AACA;AACA,uBADA;AAEA,sBAFA;;AAIA;AACA;AACA;AACA;AACA,KA5OA;AA6OA,aA7OA,uBA6OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KArPA;AAsPA,aAtPA,uBAsPA;AACA;AACA;AACA;AACA;AACA,uBADA;AAEA,sBAFA;;AAIA;AACA;AACA;AACA;AACA;AACA,KAnQA;AAoQA,QApQA,kBAoQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CADA;AAEA;AACA,oDADA;AAEA,qCAFA;AAGA,8BAHA,EAFA;;AAOA,0BAPA;AAQA,cARA,CAQA;AACA;AACA,0BADA;AAEA,6BAFA;;AAIA;AACA;AACA;AACA,WAhBA,EAgBA,KAhBA,CAgBA;AACA;AACA,WAlBA;AAmBA,SApBA,MAoBA;AACA;AACA,8CADA;AAEA;AACA,kDADA;AAEA,qCAFA;AAGA,8BAHA,EAFA;;AAOA,0BAPA;AAQA,cARA,CAQA;AACA;AACA,0BADA;AAEA,6BAFA;;AAIA;AACA;AACA;AACA,WAhBA,EAgBA,KAhBA,CAgBA;AACA;AACA,WAlBA;AAmBA,SApBA,MAoBA;AACA;AACA;AACA,kFADA;AAEA,oDAFA;AAGA,4BAHA;;AAKA;AACA;AACA,wBATA;AAUA,yBAVA,cAUA;AACA;AACA;AACA;AACA,aAdA;AAeA;AACA,yCADA;AAEA;AACA,wCADA,EAFA;;AAKA,0BALA;AAMA,cANA,CAMA;AACA;AACA;AACA,+BADA,cACA;AACA;AACA,iBAHA;AAIA,8BAJA,cAIA;AACA;AACA,iBANA;AAOA;AACA;AACA;AACA,6BADA;AAEA,8BAFA;;AAIA;AACA,WAtBA,EAsBA,KAtBA,CAsBA;AACA;AACA,WAxBA;AAyBA,SAxCA,MAwCA;AACA;AACA,mCADA;AAEA;AACA,4CADA;AAEA,kCAFA;AAGA,8BAHA,EAFA;;AAOA,0BAPA;AAQA,cARA,CAQA;AACA;AACA;AACA,4BADA;AAEA,+BAFA;;AAIA;AACA;AACA;AACA,aARA,MAQA;AACA;AACA,4BADA;AAEA,4BAFA;AAGA,8BAHA;;AAKA;AACA;AACA,WAzBA,EAyBA,KAzBA,CAyBA;AACA;AACA,WA3BA;AA4BA;AACA;AACA,OAhHA,MAgHA;AACA;AACA,+BADA;AAEA,sBAFA;;AAIA;AACA,KApYA;AAqYA,OArYA,iBAqYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gFADA;AAEA,kDAFA;AAGA,0BAHA;;AAKA;AACA;AACA;AACA;AACA,mBADA;AAEA,wBAFA,IAVA;;AAcA,uBAdA,cAcA;AACA;AACA;AACA,iCADA;AAEA,wBAFA;AAGA,gCAHA;AAIA,yBAJA;AAKA,sCALA,GADA;;AAQA,4BARA,cAQA;AACA;AACA,yCADA;AAEA,qDAFA;;AAIA;;AAEA,iBAfA;AAgBA;AACA;AACA,WAjCA;AAkCA;AACA;AACA;AACA;AACA;AACA,kBADA;;AAGA,OAzCA,MAyCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDADA;AAEA,iEAFA;;AAIA;AACA;AACA,iDADA;AAEA;AACA,sDADA;AAEA,uBAFA;AAGA,uBAHA;AAIA,qBAJA;AAKA,wCALA,GAFA;;;AAUA;AACA;AACA;AACA;AACA;AACA,mBADA;;AAGA;AACA,KAxdA;AAydA,UAzdA,oBAydA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBADA;AAEA,sBAFA;;AAIA;AACA;AACA;AACA;AACA,uBADA;AAEA,sBAFA;;AAIA;AACA;AACA;AACA;AACA,yBADA;AAEA,sBAFA;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAxfA;AAyfA,YAzfA,oBAyfA,GAzfA,EAyfA;AACA;AACA,kBADA;AAEA,mBAFA;;AAIA,KA9fA,EAxKA;;AAwqBA;AACA;AACA,4DADA,GADA;;AAIA,WAJA,qBAIA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAZA;AAaA,cAbA,wBAaA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAnBA;AAoBA,WApBA,qBAoBA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KA5BA;AA6BA,aA7BA,uBA6BA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAHA,MAGA;AACA;AACA;AACA;AACA,SAXA,MAWA;AACA;AACA;AACA,OArBA,MAqBA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA,OANA,MAMA;AACA;AACA;AACA,KA9DA;AA+DA,WA/DA,qBA+DA;AACA,YADA,GACA,IADA,CACA,MADA,CACA,OADA,GACA,IADA,CACA,OADA,CACA,UADA,GACA,IADA,CACA,UADA;AAEA;AACA,sBADA;AAEA,wBAFA;AAGA,8BAHA;;AAKA,KAtEA;AAuEA;AACA;AACA,kDADA;AAEA,yBAFA;AAGA,mDAHA;AAIA,mDAJA;;AAMA,KA9EA;AA+EA;AACA,6BADA,GA/EA,CAxqBA,E;;;;;;;;;;;;;AC/GA;AAAA;AAAA;AAAA;AAA4nC,CAAgB,smCAAG,EAAC,C;;;;;;;;;;;ACAhpC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/page-component/app-attr/app-attr.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./app-attr.vue?vue&type=template&id=b5423a8c&scoped=true&\"\nvar renderjs\nimport script from \"./app-attr.vue?vue&type=script&lang=js&\"\nexport * from \"./app-attr.vue?vue&type=script&lang=js&\"\nimport style0 from \"./app-attr.vue?vue&type=style&index=0&id=b5423a8c&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b5423a8c\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/page-component/app-attr/app-attr.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./app-attr.vue?vue&type=template&id=b5423a8c&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./app-attr.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./app-attr.vue?vue&type=script&lang=js&\"","<template>\r\n    <view class=\"app-attr\">\r\n        <view @click=\"alert\">\r\n            <slot name=\"button\"></slot>\r\n        </view>\r\n\t   <view class=\"modal\" v-if=\"display === 'block'\"  @click=\"close\" >\r\n\t\t   <view class=\"safe-area-inset-bottom u-attr-fixed\" >\r\n\t\t\t   <view class=\"content\" @tap.native.stop=\"preventD\">\r\n\t\t\t\t   <image src=\"../../../static/image/icon/close.png\" class=\"close\" @click=\"close\"></image>\r\n\t\t\t\t   <view class=\"first dir-left-nowrap\" :class=\"sign =='wholesale' ? 'no-border' : ''\">\r\n\t\t\t\t\t   <view class=\"box-grow-0 img\" @click=\"clickImg(attrPic)\">\r\n\t\t\t\t\t\t   <app-image :img-src=\"attrPic\" width=\"100%\" height=\"100%\"></app-image>\r\n\t\t\t\t\t   </view>\r\n\t\t\t\t\t   <view class=\"info\">\r\n\t\t\t\t\t\t   <view class=\"dir-left-nowrap cross-center\" :class=\"priceColor\">\r\n\t\t\t\t\t\t\t   <view class=\"dir-left-nowrap cross-center\">\r\n\t\t\t\t\t\t\t\t   <view class=\"dir-left-nowrap cross-center\" :class=\"theme+'-m-text ' + theme\" v-if=\"selectAttr.extra || goods.extra\">\r\n\t\t\t\t\t\t\t\t\t   <view>{{selectAttr.extra ? selectAttr.extra.value + selectAttr.extra.name :\r\n\t\t\t\t\t\t\t\t\t\t   goods.extra.value + goods.extra.name}}\r\n\t\t\t\t\t\t\t\t\t   </view>\r\n\t\t\t\t\t\t\t\t\t   <view v-if=\"!(goods.sign === 'integral_mall' && attrPrice == 0)\">+</view>\r\n\t\t\t\t\t\t\t\t   </view>\r\n\t\t\t\t\t\t\t\t   <app-price :theme=\"theme\" v-if=\"!(goods.sign === 'integral_mall' && attrPrice == 0) && sign != 'wholesale'\" type=\"text-price-all\" :price=\"attrPrice\"\r\n\t\t\t\t\t\t\t\t\t\t\t  :default-price=\"goods.price\"></app-price>\r\n                                   <app-price :theme=\"theme\" v-if=\"sign == 'wholesale'\" type=\"text-price-all\" :price=\"attrPrice\" :max=\"goods.level_show == 1 ? goods.price_member_max : goods.price_max\" :min=\"goods.level_show == 1 ? goods.price_member_min : goods.price_min\"></app-price>\r\n\t\t\t\t\t\t\t   </view>\r\n\t\t\t\t\t\t\t   <view v-if=\"goods.level_show === 1 && (selectAttr || sign == 'wholesale')\">\r\n\t\t\t\t\t\t\t\t   <app-member-mark :theme=\"themeObject\"></app-member-mark>\r\n\t\t\t\t\t\t\t   </view>\r\n\t\t\t\t\t\t   </view>\r\n\t\t\t\t\t\t   <view class=\"stock\">库存：{{attrNum}}</view>\r\n\t\t\t\t\t   </view>\r\n\t\t\t\t   </view>\r\n\t\t\t\t   <view class=\"second\" :class=\"sign =='wholesale' ? 'no-padding' : ''\">\r\n\t\t\t\t\t   <slot name=\"extra\"></slot>\r\n                        <view class=\"wholesale\" v-if=\"sign =='wholesale'\">\r\n                            <view class=\"wholesale-attr-list dir-left-nowrap cross-center\" v-if=\"index != goods.attr_groups.length -1\" v-for=\"(item, index) in goods.attr_groups\" :key=\"index\">\r\n                                <view class=\"wholesale-attr-group t-omit-two\">{{item.attr_group_name}}</view>\r\n                                <scroll-view @scroll=\"scrollGet($event,index)\" :scroll-left=\"item.scrollLeft\" class=\"wholesale-attr-item\" scroll-x=\"true\">\r\n                                    <view class=\"attr-name\" v-for=\"(attr, key) in item.attr_list\" :key=\"key\" :class=\"attr.active ? theme + '-m-back ' + theme : 'attr-background'\" @click=\"chooseAttr(index,attr)\">{{attr.attr_name}}\r\n                                        <view class=\"attr-number\" :style=\"{'right':`${attr.length + 'rpx'}`}\" :class=\"theme + '-m-back ' + theme\" v-if=\"index == 0 && attr.number > 0\">{{attr.number}}</view>\r\n                                    </view>\r\n                                    <view class=\"attr-name attr-background\" style=\"visibility: hidden\">占位\r\n                                    </view>\r\n                                </scroll-view>\r\n                                <view @click.stop=\"toBottom(index)\" class=\"right-icon\">\r\n                                    <view></view>\r\n                                    <image src=\"/static/image/icon/right.png\"></image>\r\n                                </view>\r\n                            </view>\r\n                            <view class=\"wholesale-attr-group-list\">\r\n                                <view class=\"wholesale-attr-group\" v-for=\"(item, index) in goodsAttr\" :key=\"index\">\r\n                                   <view class=\"dir-left-nowrap\">\r\n                                        <view class=\"wholesale-attr-item main-between\">\r\n                                            <view class=\"dir-top-nowrap main-center attr-name t-omit\">\r\n                                                <view class=\"t-omit\">{{item.attr_list[item.attr_list.length - 1].attr_name}}</view>\r\n                                                <view class=\"attr-price\">￥{{goods.level_show === 1 ? item.price_member : item.price}}</view>\r\n                                            </view>\r\n                                            <view class=\"dir-left-nowrap wholesale-number-box cross-center\">\r\n                                               <image :src=\"item.number <= 0 ? '/static/image/plugins/un-low.png' : '/static/image/plugins/low.png'\" class=\"block box-grow-0 cross-center main-center\" @click=\"wholesaleNumberSub(index)\">\r\n                                               </image>\r\n                                               <view class=\"wholesale-number-input box-grow-0 cross-center main-center\">\r\n                                                   <app-input height=\"60\" type=\"number\" v-model=\"item.number\" paddingLeft=\"0\" :center=\"true\" placeholder=\" \" @blur=\"wholesaleNumberBlur(index)\" :focus=\"false\" width=\"88\"></app-input>\r\n                                               </view>\r\n                                               <image :src=\"item.number >= item.stock? '/static/image/plugins/un-add.png' : '/static/image/plugins/add.png'\" class=\"block box-grow-0 cross-center main-center\" @click=\"wholesaleNumberAdd(index)\"></image>\r\n                                            </view>\r\n                                        </view>\r\n                                   </view>\r\n                               </view>\r\n                           </view>\r\n                        </view>\r\n\t\t\t\t\t   <view class=\"attr-group\" v-if=\"goods.type === 'goods' && sign !='wholesale'\" v-for=\"(item, index) in newAttrGroupList\" :key=\"index\">\r\n\t\t\t\t\t\t   <view class=\"attr-group-name\">{{item.attr_group_name}}</view>\r\n\t\t\t\t\t\t   <view class=\"dir-left-wrap\">\r\n\t\t\t\t\t\t\t   <view v-for=\"(attr, key) in item.attr_list\" :key=\"key\" class=\"attr-item\"\r\n\t\t\t\t\t\t\t\t\t :class=\"attr.checked && sign !== 'gift' ? theme + '-m-back active ' + theme : attr.checked && sign === 'gift' ?  theme + '-background active' : 'attr-item-default' + (attr.attr_num_0 ? ' attr_num_0' : '')\"\r\n\t\t\t\t\t\t\t\t\t @click=\"storeAttrClick(attr.attr_id, item.attr_group_id)\">{{attr.attr_name}}\r\n\t\t\t\t\t\t\t   </view>\r\n\t\t\t\t\t\t   </view>\r\n\t\t\t\t\t   </view>\r\n\t\t\t\t\t   <view v-if=\"chooseNumber\" class=\"dir-left-nowrap number-box cross-center\">\r\n\t\t\t\t\t\t   <view class=\"box-grow-1\">数量</view>\r\n\t\t\t\t\t\t   <image :src=\"number <= 1 ? '/static/image/icon/can-be-reduced.png' : '/static/image/cart/can-be-reduced.png'\" class=\"block box-grow-0 cross-center main-center\" @click=\"numberSub\">\r\n\t\t\t\t\t\t   </image>\r\n\t\t\t\t\t\t   <view class=\"number-input box-grow-0 cross-center main-center\">\r\n\t\t\t\t\t\t\t   <app-input type=\"number\" v-model=\"number\" paddingLeft=\"0\" :center=\"true\" placeholder=\" \" @blur=\"numberBlur\"\r\n\t\t\t\t\t\t\t\t\t\t  :focus=\"false\" width=\"88\"></app-input>\r\n\t\t\t\t\t\t   </view>\r\n\t\t\t\t\t\t   <image src=\"/static/image/cart/can-be-added.png\" class=\"block box-grow-0 cross-center main-center\" @click=\"numberAdd\"></image>\r\n\t\t\t\t\t   </view>\r\n\t\t\t\t   </view>\r\n                    <view v-if=\"sign =='wholesale'\" class=\"total\">已选<text>{{totalNumber}}</text>件 总计<text>￥{{totalPrice > 0? totalPrice : '0.00'}}</text></view>\r\n\t\t\t\t   <view class=\"three dir-left-nowrap\">\r\n\t\t\t\t\t   <view class=\"box-grow-1 main-center cross-center\" v-if=\"cartShow\"\r\n\t\t\t\t\t\t\t :class=\"sign === 'pick' ? theme + '-m-back ' + 'buy ' + theme : theme === 'b' || theme === 'f'  || theme === 'a' ? theme + '-s-back ' + 'buy ' + theme : theme + '-s-back ' + theme+ '-m-text ' + theme\" @click=\"cart\">{{addText}}\r\n\t\t\t\t\t   </view>\r\n\t\t\t\t\t   <view v-if=\"is_show_buy\" class=\"box-grow-1 main-center cross-center buy\" :class=\"sign !== 'gift' ? theme + '-m-back '+ theme : theme + '-background'\" @click=\"buy\">\r\n\t\t\t\t\t\t   {{buyText}}\r\n\t\t\t\t\t   </view>\r\n\t\t\t\t   </view>\r\n\t\t\t   </view>\r\n\t\t   </view>\r\n\t   </view>\r\n    </view>\r\n</template>\r\n\r\n<script>\r\n    import { mapState, mapGetters } from \"vuex\";\r\n    import appPrice from \"../../page-component/goods/app-price.vue\";\r\n    import appImage from \"../../basic-component/app-image/app-image.vue\";\r\n    import appMemberMark from '../../page-component/app-member-mark/app-member-mark.vue';\r\n    export default {\r\n        name: \"app-attr\",\r\n        components: {\r\n            appPrice,\r\n            'app-image': appImage,\r\n            appMemberMark\r\n        },\r\n        props: {\r\n            goods: Object,\r\n            attrGroupList: Array,\r\n            attrCart: {\r\n                type: Array,\r\n                default() {\r\n                    return [];\r\n                }\r\n            },\r\n            cartShow: {\r\n                type: Boolean,\r\n                default() {\r\n                    return true\r\n                }\r\n            },\r\n            previewUrl: String,\r\n            submitUrl: String,\r\n            goodsId: {\r\n                type:Number,\r\n                default() {\r\n                    return 0\r\n                }\r\n            },\r\n            show: Number,\r\n            buyText: {\r\n                type: String,\r\n                default() {\r\n                    return '立即购买';\r\n                }\r\n            },\r\n            plugin: {\r\n                default: '',\r\n            },\r\n\t        theme: {\r\n                type: String,\r\n\t\t        default: 'a',\r\n\t        },\r\n            chooseNumber: {\r\n                type: Boolean,\r\n                default: true,\r\n            },\r\n            noPay: {\r\n                type: Boolean,\r\n\t            default: false,\r\n            },\r\n\t\t\tbuyClick: {\r\n                type: Boolean,\r\n\t\t\t\tdefault: false,\r\n\t\t\t},\r\n\t\t\taddText: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '加入购物车',\r\n\t\t\t},\r\n\t\t\tis_show_buy: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true,\r\n\t\t\t},\r\n            sign: {\r\n                type: String\r\n            },\r\n            totalPrice: {\r\n                type: String,\r\n                default: '0.00',\r\n            },\r\n            totalNumber: {\r\n                type: Number,\r\n                default: 0,\r\n            },\r\n            discount: {\r\n                type: Number,\r\n                default: 0,\r\n            },\r\n            wholesaleType: {\r\n                type: Number,\r\n                default: 0,\r\n            }\r\n        },\r\n        data() {\r\n            return {\r\n                display: 'none',\r\n                number: 1,\r\n                selectAttr: null,\r\n                newAttrGroupList: null,\r\n\t\t\t\tpic_url: null,\r\n                // 商品批发\r\n                activeAttr: [],\r\n                goodsAttr: []\r\n            };\r\n        },\r\n        watch: {\r\n            show() {\r\n                if (this.display === 'block') {\r\n                \tthis.selectAttr = null;\r\n\t\t\t\t\tthis.close();\r\n\t\t\t\t} else if (this.display === 'none') {\r\n\t\t\t\t\tthis.alert();\r\n\t\t\t\t}\r\n            },\r\n            newData: {\r\n                handler() {\r\n                    this.$emit('attr', this.newData)\r\n                },\r\n                immediate: true,\r\n            },\r\n            attrGroupList: {\r\n                handler() {\r\n\t\t\t\t\tthis.newAttrGroupList = this.attrGroupList;\r\n\t\t\t\t\tif (this.display == 'block') {\r\n                        this.alert();\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\timmediate: true\r\n\t\t\t},\r\n\t        goods: {\r\n                handler() {\r\n                    if (this.display == 'block') {\r\n                        this.alert();\r\n                    }\r\n                },\r\n\t\t        immediate: true\r\n\t        }\r\n        },\r\n        mounted() {\r\n            if(this.sign == 'wholesale') {\r\n                this.pic_url = this.goods.attr_groups[0].attr_list[0].pic_url\r\n                if(this.goods.attr_groups.length == 1) {\r\n                    this.goodsAttr = this.goods.attr;\r\n                }else {\r\n                    for(let item of this.goods.attr_groups) {\r\n                        let para = {\r\n                            attr_group_name: '',\r\n                            attr_group_id: '',\r\n                            attr_id: '',\r\n                            attr_name: ''\r\n                        };\r\n                        para.attr_group_name = item.attr_group_name\r\n                        para.attr_group_id = item.attr_group_id\r\n                        para.attr_id = item.attr_list[0].attr_id\r\n                        para.attr_name = item.attr_list[0].attr_name\r\n                        this.activeAttr.push(para)\r\n                    }\r\n                    for(let item of this.goods.attr) {\r\n                        let same = true;\r\n                        for(let i = 0;i < item.attr_list.length -1;i++) {\r\n                            let first = {\r\n                                attr_group_name: item.attr_list[i].attr_group_name,\r\n                                attr_group_id: item.attr_list[i].attr_group_id,\r\n                                attr_id: item.attr_list[i].attr_id,\r\n                                attr_name: item.attr_list[i].attr_name\r\n                            }\r\n                            if(JSON.stringify(first) != JSON.stringify(this.activeAttr[i])) {\r\n                                same = false;\r\n                            }\r\n                        }\r\n                        if(same) {\r\n                            this.goodsAttr.push(item)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            alert() {\r\n                if (this.attrGroupList.length === 0) {\r\n                    return;\r\n                }\r\n                if(this.sign != 'wholesale') {\r\n                    let attr_group_list = this.attrGroupList;\r\n                    let attrs = this.goods.attr;\r\n                    let select_attr = null;\r\n                    this.number = 1;\r\n                    if (attr_group_list.length === 1) {\r\n                        for (let i in attrs) {\r\n                            for (let j in attr_group_list[0].attr_list) {\r\n                                if (attr_group_list[0].attr_list[j].attr_id == attrs[i].attr_list[0].attr_id) {\r\n                                    if (attrs[i].stock > 0) {\r\n                                        if (attrs.length === 1) {\r\n                                            attr_group_list[0].attr_list[j].checked = true;\r\n                                        }\r\n                                        attr_group_list[0].attr_list[j].attr_num_0 = false;\r\n                                        this.pic_url = attr_group_list[0].attr_list[j].pic_url;\r\n                                    } else {\r\n                                        this.number = 0;\r\n                                        attr_group_list[0].attr_list[j].checked = false;\r\n                                        attr_group_list[0].attr_list[j].attr_num_0 = true;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        if (attrs.length === 1) {\r\n                            select_attr = attrs[0];\r\n                            this.$emit('attrtap', select_attr);\r\n                        }\r\n                    }\r\n                    this.newAttrGroupList = attr_group_list;\r\n                    if(this.goods.selectAttr) {\r\n                        this.selectAttr = this.goods.selectAttr\r\n                    }else {\r\n                        this.selectAttr = select_attr;\r\n                    }\r\n                }\r\n                this.display = 'block';\r\n            },\r\n            scrollGet(e,index) {\r\n                this.goods.attr_groups[index].scrollLeft = e.detail.scrollLeft;\r\n                this.$forceUpdate();\r\n            },\r\n            toBottom(index) {\r\n                this.$nextTick().then(() => {\r\n                    this.goods.attr_groups[index].scrollLeft = 99999;\r\n                    this.$forceUpdate();\r\n                })\r\n            },\r\n            chooseAttr(index,attrItem) {\r\n                let that = this;\r\n                for(let attr of that.goods.attr_groups[index].attr_list) {\r\n                    attr.active = false;\r\n                    if(attr.attr_id == attrItem.attr_id && attr.attr_name == attrItem.attr_name) {\r\n                        attr.active = true;\r\n                    }\r\n                }\r\n                if(index == 0) {\r\n                    that.pic_url = attrItem.pic_url;\r\n                }\r\n                that.activeAttr[index].attr_id = attrItem.attr_id\r\n                that.activeAttr[index].attr_name = attrItem.attr_name\r\n                that.goodsAttr = [];\r\n                for(let item of that.goods.attr) {\r\n                    let same = true;\r\n                    for(let i = 0;i < item.attr_list.length -1;i++) {\r\n                        let first = {\r\n                            attr_group_name: item.attr_list[i].attr_group_name,\r\n                            attr_group_id: item.attr_list[i].attr_group_id,\r\n                            attr_id: item.attr_list[i].attr_id,\r\n                            attr_name: item.attr_list[i].attr_name\r\n                        }\r\n                        if(JSON.stringify(first) != JSON.stringify(this.activeAttr[i])) {\r\n                            same = false;\r\n                        }\r\n                    }\r\n                    if(same) {\r\n                        that.goodsAttr.push(item)\r\n                    }\r\n                }\r\n                that.$forceUpdate();\r\n                that.count();\r\n            },\r\n            wholesaleNumberSub(index) {\r\n                if(this.goodsAttr[index].number == 0) {\r\n                    return  false;\r\n                }\r\n                this.goodsAttr[index].number--;\r\n                if(this.goods.attr_groups.length == 1) {\r\n                    this.pic_url = this.goodsAttr[index].pic_url;\r\n                }\r\n                this.count(index);\r\n            },\r\n            wholesaleNumberAdd(index) {\r\n                if(this.goodsAttr[index].number > this.goodsAttr[index].stock || this.goodsAttr[index].number == this.goodsAttr[index].stock) {\r\n                    return false\r\n                }\r\n                this.goodsAttr[index].number++;\r\n                if(this.goods.attr_groups.length == 1) {\r\n                    this.pic_url = this.goodsAttr[index].pic_url;\r\n                }\r\n                this.count(index);\r\n            },\r\n            wholesaleNumberBlur(index) {\r\n                if(+this.goodsAttr[index].number > +this.goodsAttr[index].stock) {\r\n                    this.goodsAttr[index].number = this.goodsAttr[index].stock\r\n                }\r\n                if(this.goods.attr_groups.length == 1) {\r\n                    this.pic_url = this.goodsAttr[index].pic_url;\r\n                }\r\n                this.count(index);\r\n            },\r\n            count(index) {\r\n                let that =this;\r\n                this.$emit('attrtap', that.goods, that.goodsAttr);\r\n                setTimeout(()=>{\r\n                    that.selectAttr = that.goodsAttr[index]\r\n                })\r\n            },\r\n            close() {\r\n                this.display = 'none';\r\n                this.$emit('close', false)\r\n            },\r\n            preventD() {\r\n            },\r\n            storeAttrClick(attr_id, attr_group_id) {\r\n                let attr_group_list = JSON.parse(JSON.stringify(this.newAttrGroupList));\r\n                let attrs = this.goods.attr;\r\n                let checkedAttr = [];\r\n                let attr_cart = this.attrCart;\r\n                for (let i in attr_group_list) {\r\n                    for (let j in attr_group_list[i].attr_list) {\r\n                        let temp = attr_group_list[i].attr_list[j];\r\n                        if (parseInt(attr_group_list[i].attr_group_id) == parseInt(attr_group_id)) {\r\n                            if (parseInt(temp.attr_id) === parseInt(attr_id)) {\r\n                                if (temp.checked) {\r\n                                    temp.checked = false;\r\n                                } else {\r\n                                    temp.checked = true;\r\n                                }\r\n                                if (temp.attr_num_0) {\r\n                                    return;\r\n                                }\r\n                            } else {\r\n                                temp.checked = false;\r\n                            }\r\n                        }\r\n                        if (temp.checked) {\r\n                            if (i == 0) {\r\n                                this.pic_url = attr_group_list[0].attr_list[j].pic_url;\r\n\t\t\t\t\t\t\t}\r\n                            checkedAttr.push(attr_group_list[i].attr_group_id + '-' + temp.attr_id);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                function inArray(val, arr) {\r\n                    return arr.some(function (v) {\r\n                        return val == v;\r\n                    })\r\n                }\r\n\r\n                let attrNum_0 = [];\r\n                let select_attr = null;\r\n                let number = 1;\r\n                for (let i in attrs) {\r\n                    let arr = [];\r\n                    let sign = 0;\r\n                    for (let j in attrs[i].attr_list) {\r\n                        let param = attrs[i].attr_list[j].attr_group_id + '-' + attrs[i].attr_list[j].attr_id;\r\n                        if (!inArray(param, checkedAttr)) {\r\n                            sign += 1;\r\n                            arr.push(param);\r\n                        }\r\n                    }\r\n                    if (attrs[i].stock == 0 && sign <= 1) {\r\n                        attrNum_0 = attrNum_0.concat(arr);\r\n                    }\r\n                    if (sign == 0) {\r\n                        if (!select_attr) {\r\n                            select_attr = {};\r\n                        }\r\n                        select_attr = attrs[i];\r\n                        attr_cart.forEach(item => {\r\n\r\n                            if (item.attr_id == select_attr.id) {\r\n                                number = item.num;\r\n                            }\r\n                        });\r\n                        if (select_attr.stock <= 0) {\r\n                            uni.showToast({\r\n                                title: '库存不足',\r\n                                icon: 'none'\r\n                            });\r\n                            return;\r\n                        }\r\n                        if (select_attr.stock <= number) {\r\n                            number = select_attr.stock;\r\n                        }\r\n                    }\r\n                }\r\n                if (checkedAttr.length == 0) {\r\n                    select_attr = null;\r\n                }\r\n\r\n                //库存为0的规格添加标识\r\n                for (let i in attr_group_list) {\r\n                    for (let j in attr_group_list[i].attr_list) {\r\n                        let cAttr = attr_group_list[i].attr_list[j];\r\n                        let cParam = attr_group_list[i].attr_group_id + '-' + cAttr.attr_id;\r\n                        if (inArray(cParam, attrNum_0) && !inArray(cParam, checkedAttr)) {\r\n                            cAttr.attr_num_0 = true;\r\n                        } else {\r\n                            cAttr.attr_num_0 = false;\r\n                        }\r\n                    }\r\n                }\r\n                this.newAttrGroupList = attr_group_list;\r\n                this.selectAttr = select_attr;\r\n                this.number = number;\r\n                this.$emit('attrtap', this.selectAttr);\r\n            },\r\n            numberBlur(number) {\r\n                number = parseInt(number.value);\r\n                if (number > this.attrNum) {\r\n                    uni.showToast({\r\n                        title: '库存不足',\r\n                        icon: 'none'\r\n                    });\r\n                    number = this.attrNum;\r\n                }\r\n                this.$emit('attrtap', this.selectAttr);\r\n                return this.number = number;\r\n            },\r\n            numberSub() {\r\n                let number = this.number;\r\n                if (number <= 1) {\r\n                    return true;\r\n                }\r\n                number--;\r\n                this.number = number;\r\n                this.$emit('attrtap', this.selectAttr);\r\n            },\r\n            numberAdd() {\r\n                let number = this.number;\r\n                number++;\r\n                if (number > this.attrNum) {\r\n                    uni.showToast({\r\n                        title: '库存不足',\r\n                        icon: 'none'\r\n                    });\r\n                    this.number = this.attrNum;\r\n                    return;\r\n                }\r\n                this.number = number;\r\n                this.$emit('attrtap', this.selectAttr);\r\n            },\r\n            cart() {\r\n                if (!this.submit()) {\r\n                    return false;\r\n                }\r\n                let select_attr = this.selectAttr;\r\n                if (this.goods.sign === 'pick' || this.goods.sign === 'community') {\r\n                \tthis.$emit('add', select_attr, this.number);\r\n                \treturn;\r\n\t\t\t\t}\r\n\t\t\t// 普通商品\r\n\t\t\tif (this.goods.type === 'goods') {\r\n                if (this.goods.sign === 'miaosha') {\r\n                    this.$request({\r\n                        url: this.$api.miaosha.add_cart,\r\n                        data: {\r\n                            miaosha_goods_id: select_attr.goods_id,\r\n                            attr_id: select_attr.id,\r\n                            num: this.number\r\n                        },\r\n                        method: 'post'\r\n                    }).then(e => {\r\n                        uni.showToast({\r\n                            title: e.msg,\r\n                            type: 'success'\r\n                        });\r\n                        this.display = 'none';\r\n                        this.selectAttr.number = this.number;\r\n                        this.$emit('selectNumber', this.selectAttr);\r\n                    }).catch(() => {\r\n                        this.display = 'none';\r\n                    });\r\n                } else if (this.goods.sign === 'flash_sale') {\r\n\t\t\t\t\tthis.$request({\r\n\t\t\t\t\t\turl: this.$api.flash_sale.add_cart,\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tflash_goods_id: select_attr.goods_id,\r\n\t\t\t\t\t\t\tattr_id: select_attr.id,\r\n\t\t\t\t\t\t\tnum: this.number\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tmethod: 'post'\r\n\t\t\t\t\t}).then(e => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: e.msg,\r\n\t\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.display = 'none';\r\n\t\t\t\t\t\tthis.selectAttr.number = this.number;\r\n\t\t\t\t\t\tthis.$emit('selectNumber', this.selectAttr);\r\n\t\t\t\t\t}).catch(() => {\r\n\t\t\t\t\t\tthis.display = 'none';\r\n\t\t\t\t\t});\r\n\t\t\t\t}else if(this.goods.sign == 'wholesale') {\r\n                    if(this.totalNumber < this.goods.wholesaleGoods.rise_num) {\r\n                        uni.showToast({\r\n                            title: '至少采购' + this.goods.wholesaleGoods.rise_num + this.goods.unit,\r\n                            image: '/static/image/plugins/tip.png',\r\n                            duration: 1000\r\n                        });\r\n                        return false\r\n                    }\r\n                    let para = [];\r\n                    for(let item of this.goods.attr) {\r\n                        if(item.number > 0) {\r\n                            para.push(item)\r\n                        }\r\n                    }\r\n                    this.$request({\r\n                        url: this.$api.wholesale.cart,\r\n                        data: {\r\n                            attr:  JSON.stringify(para)\r\n                        },\r\n                        method:'post'\r\n                    }).then(response => {\r\n                        this.display = 'none';\r\n                        if (response.code === 0) {\r\n                            for(let item of this.goods.attr) {\r\n                                item.number = '0'\r\n                            }\r\n                            for(let item of this.goodsAttr) {\r\n                                item.number = '0'\r\n                            }\r\n                            this.count();\r\n                            uni.hideLoading();\r\n                            uni.showToast({\r\n                                title: '添加成功',\r\n                                duration: 1000\r\n                            });\r\n                        }\r\n                    }).catch(response => {\r\n                        this.display = 'none';\r\n                    })\r\n                } else {\r\n                    this.$request({\r\n                        url: this.$api.cart.add,\r\n                        data: {\r\n                            goods_id: select_attr.goods_id,\r\n                            attr: select_attr.id,\r\n                            num: this.number\r\n                        },\r\n                        method: 'post'\r\n                    }).then(e => {\r\n                        if (e.code === 0) {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: e.msg,\r\n\t\t\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.display = 'none';\r\n\t\t\t\t\t\t\tthis.selectAttr.number = this.number;\r\n\t\t\t\t\t\t\tthis.$emit('selectNumber', this.selectAttr);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: e.msg,\r\n\t\t\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\t\t\tduration: 2500\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.display = 'none';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}).catch(() => {\r\n\t\t\t\t\t\t\tthis.display = 'none';\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t//\t虚拟商品\r\n\t\t\t\t} else if (this.goods.type === 'ecard') {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '虚拟商品不允许加入购物车',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n            },\r\n            buy() {\r\n                if (!this.submit()) return false;\r\n                if (this.noPay) {\r\n                    this.$emit('pay', this.number);\r\n                    return;\r\n                }\r\n                if (this.buyClick) {\r\n                    this.display = 'none';\r\n                    this.selectAttr.number = this.number;\r\n                    this.$emit('buyClick', this.selectAttr);\r\n                    return false;\r\n\t\t\t\t}\r\n                if(this.goods.sign == 'wholesale') {\r\n                    if(this.totalNumber < this.goods.wholesaleGoods.rise_num) {\r\n                        uni.showToast({\r\n                            title: '至少采购' + this.goods.wholesaleGoods.rise_num + this.goods.unit,\r\n                            image: '/static/image/plugins/tip.png',\r\n                            duration: 1000\r\n                        });\r\n                        return false\r\n                    }\r\n                    let para = {};\r\n                    let mch_list = [{\r\n                        mch_id: 0,\r\n                        goods_list: []\r\n                    }];\r\n                    for(let item of this.goods.attr) {\r\n                        if(item.number > 0) {\r\n                           para = {\r\n                                id: item.goods_id,\r\n                                attr: [],\r\n                                num: item.number,\r\n                                cat_id: 0,\r\n                                goods_attr_id: item.id\r\n                            }\r\n                            for(let attr of item.attr_list) {\r\n                                let attrList = {\r\n                                    attr_id: attr.attr_id,\r\n                                    attr_group_id: attr.attr_group_id\r\n                                }\r\n                                para.attr.push(attrList)\r\n\r\n                            }\r\n                            mch_list[0].goods_list.push(para)\r\n                        }\r\n                    }\r\n                    let url = `/pages/order-submit/order-submit?mch_list=${JSON.stringify(mch_list)}`;\r\n                    if (this.submitUrl && this.previewUrl) {\r\n                        url += `&preview_url=${encodeURIComponent(this.previewUrl)}&submit_url=${encodeURIComponent(this.submitUrl)}&plugin=${this.plugin}`;\r\n                    }\r\n                    uni.navigateTo({\r\n                        url: url\r\n                    })\r\n                }else {\r\n                    let goods = this.goods;\r\n                    let number = this.number;\r\n                    let select_attr = this.selectAttr;\r\n                    let goods_attr_id = select_attr.id;\r\n                    let attr = [];\r\n                    for (let i in select_attr.attr_list) {\r\n                        attr.push({\r\n                            attr_id: select_attr.attr_list[i].attr_id,\r\n                            attr_group_id: select_attr.attr_list[i].attr_group_id\r\n                        });\r\n                    }\r\n                    let mch_list = [{\r\n                        mch_id: goods.mch_id ? goods.mch_id : 0,\r\n                        goods_list: [{\r\n                            id: this.goodsId ? this.goodsId: goods.id,\r\n                            attr: attr,\r\n                            num: number,\r\n                            cat_id: 0,\r\n                            goods_attr_id: goods_attr_id\r\n                        }]\r\n                    }];\r\n                    let url = `/pages/order-submit/order-submit?mch_list=${JSON.stringify(mch_list)}`;\r\n                    if (this.submitUrl && this.previewUrl) {\r\n                        url += `&preview_url=${encodeURIComponent(this.previewUrl)}&submit_url=${encodeURIComponent(this.submitUrl)}&plugin=${this.plugin}`;\r\n                    }\r\n                    uni.navigateTo({\r\n                        url: url\r\n                    })\r\n                }\r\n            },\r\n            submit() {\r\n                let select_attr = this.selectAttr;\r\n                if(this.goods.sign === 'wholesale') {\r\n                    return true;\r\n                }\r\n                if (!select_attr) {\r\n                    uni.showToast({\r\n                        title: '请先选规格',\r\n                        icon: 'none'\r\n                    });\r\n                    return false;\r\n                }\r\n                if (select_attr.stock <= 0) {\r\n                    uni.showToast({\r\n                        title: '库存不足',\r\n                        icon: 'none'\r\n                    });\r\n                    return false;\r\n\t\t\t\t}\r\n                if (this.number <= 0) {\r\n                    uni.showToast({\r\n                        title: '数量不能为0',\r\n                        icon: 'none'\r\n                    });\r\n                    return false;\r\n                }\r\n                if (!this.goods) {\r\n                    return false;\r\n                }\r\n\r\n                return true;\r\n            },\r\n            clickImg(src) {\r\n                uni.previewImage({\r\n                    current: 0,\r\n                    urls: [src]\r\n                });\r\n            },\r\n        },\r\n        computed: {\r\n            ...mapState({\r\n                gConfig: state => state.gConfig,\r\n            }),\r\n            attrPic() {\r\n                if (this.pic_url) {\r\n                    return this.pic_url;\r\n                } else if (this.goods) {\r\n\t\t\t\t\treturn this.goods.cover_pic;\r\n                } else {\r\n\t\t\t\t\treturn ``;\r\n\t\t\t\t}\r\n            },\r\n            priceColor() {\r\n                if (this.goods && this.goods.level_show === 1) {\r\n                    return `member`;\r\n                } else {\r\n                    return this.theme + '-color';\r\n                }\r\n            },\r\n            attrNum() {\r\n                if (this.selectAttr) {\r\n                    return this.selectAttr.stock;\r\n                } else if (this.goods) {\r\n\t\t\t\t\treturn this.goods.goods_num;\r\n                }  else {\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n            },\r\n            attrPrice() {\r\n\t\t\t\tif (this.selectAttr) {\r\n                    let price;\r\n\t\t\t\t\tif (this.goods.level_show === 1) {\r\n                        price = this.selectAttr.price_member\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tprice = this.selectAttr.price;\r\n\t\t\t\t\t}\r\n                    if(this.sign == 'wholesale') {\r\n                        if(this.selectAttr.number == 0) {\r\n                            return 'undefined'\r\n                        }\r\n                        if(this.wholesaleType == 0) {\r\n                            price = (price*(this.discount/10)).toFixed(2);\r\n                            return price\r\n                        }else {\r\n                            price = (price - this.discount).toFixed(2);\r\n                            return price\r\n                        }\r\n                    }else {\r\n                        return price\r\n                    }\r\n\t\t\t\t} else if(this.sign == 'wholesale') {\r\n                    return 'undefined';\r\n                } else if (this.goods) {\r\n                    if (this.goods.hasOwnProperty('price_min')) {\r\n    \t\t\t\t\treturn this.goods.price_min;\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\treturn this.goods.price;\r\n    \t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n            },\r\n            newData() {\r\n                const { number, display, selectAttr } = this;\r\n                return {\r\n                    number,\r\n                    display,\r\n                    selectAttr\r\n                }\r\n            },\r\n            themeObject:function() {\r\n                return {\r\n                    back: this.theme + '-m-back ' + this.theme,\r\n                    theme: this.theme,\r\n                    color: this.theme + '-m-text ' + this.theme,\r\n                    sBack: this.theme + '-s-back ' + this.theme\r\n                }\r\n            },\r\n\t        ...mapGetters('iPhoneX', {\r\n                boolEmpty: 'getBoolEmpty'\r\n\t        })\r\n        }\r\n    }\r\n\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n    .app-attr {\r\n        background-color: #ffffff;\r\n        .modal {\r\n            background-color: rgba(0, 0, 0, 0.5);\r\n            position: fixed;\r\n            top: 0;\r\n            left: 0;\r\n            width: 100%;\r\n            height: 100%;\r\n\t\t\tz-index: 1603;\r\n        }\r\n\t\t.content {\r\n\t\t\twidth: 100%;\r\n\t\t\tbackground-color: #ffffff;\r\n\t\t\tborder-radius: #{16rpx} #{16rpx} 0 0;\r\n\t\t\t.close {\r\n\t\t\t\twidth: #{30rpx};\r\n\t\t\t\theight: #{30rpx};\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tright: #{24rpx};\r\n\t\t\t\ttop: #{24rpx};\r\n\t\t\t\tbackground-color: #ffffff;\r\n\t\t\t}\r\n\t\t\t.first {\r\n\t\t\t\tmargin: 0 #{24rpx};\r\n\t\t\t\tborder-bottom: #{1rpx} solid #e2e2e2;\r\n                &.no-border {\r\n                    border-bottom: 0;\r\n                }\r\n\t\t\t\t.img {\r\n\t\t\t\t\twidth: #{200rpx};\r\n\t\t\t\t\theight: #{200rpx};\r\n\t\t\t\t\tborder: #{4rpx} solid #ffffff;\r\n\t\t\t\t\tborder-radius: #{8rpx};\r\n\t\t\t\t\tmargin-top: #{-64rpx};\r\n\t\t\t\t\tdisplay: block;\r\n\t\t\t\t}\r\n\t\t\t\t.info {\r\n\t\t\t\t\tmargin: #{36rpx} 0 #{26rpx} #{24rpx};\r\n\t\t\t\t\tfont-size: $uni-font-size-import-two;\r\n\t\t\t\t\tline-height: 1;\r\n\t\t\t\t\t.stock {\r\n\t\t\t\t\t\tfont-size: $uni-font-size-weak-one;\r\n\t\t\t\t\t\tcolor: $uni-general-color-two;\r\n\t\t\t\t\t\tmargin-top: #{18rpx};\r\n\t\t\t\t\t}\r\n\t\t\t\t\tview {\r\n\t\t\t\t\t\t&:first-child {\r\n\t\t\t\t\t\t\tmargin-right: #{12rpx};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.member {\r\n\t\t\t\t\t\tcolor: #f39800;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.second {\r\n\t\t\t\tmax-height: #{650rpx};\r\n                overflow-y: auto;\r\n\t\t\t\toverflow-x: hidden;\r\n\t\t\t\tpadding: #{4rpx} #{24rpx};\r\n\t\t\t\tfont-size: $uni-font-size-general-two;\r\n                &.no-padding {\r\n                    padding: 0;\r\n                }\r\n\t\t\t\t.attr-group {\r\n\t\t\t\t\tpadding: #{32rpx} 0;\r\n\t\t\t\t\tborder-bottom: #{1rpx} solid #e2e2e2;\r\n\t\t\t\t\t.attr-group-name {\r\n\t\t\t\t\t\tcolor: $uni-general-color-one;\r\n\t\t\t\t\t\tmargin-bottom: #{20rpx};\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.attr-item {\r\n\t\t\t\t\t\tmargin-right: #{20rpx};\r\n\t\t\t\t\t\tpadding: #{15rpx 24rpx};\r\n\t\t\t\t\t\tborder-radius: #{8rpx};\r\n\t\t\t\t\t\tmargin-bottom: #{20rpx};\r\n\t\t\t\t\t\t&.attr-item-default {\r\n\t\t\t\t\t\t\tbackground-color: #f2f2f2;\r\n\t\t\t\t\t\t\tcolor: $uni-important-color-black;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t&.active {\r\n\t\t\t\t\t\t\tcolor: #ffffff;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t&.attr_num_0 {\r\n\t\t\t\t\t\t\tcolor: #cdcdcd;\r\n\t\t\t\t\t\t\tbackground-color: #f7f7f7;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.number-box {\r\n\t\t\t\t\tcolor: $uni-general-color-one;\r\n\t\t\t\t\theight: #{124rpx};\r\n\t\t\t\t\t.block {\r\n\t\t\t\t\t\twidth: #{60rpx};\r\n\t\t\t\t\t\theight: #{60rpx};\r\n\t\t\t\t\t\tmargin: 0 #{4rpx};\r\n\t\t\t\t\t\t&.disabled {\r\n\t\t\t\t\t\t\tbackground-color: #fbfbfb;\r\n\t\t\t\t\t\t\tcolor: $uni-general-color-two;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.number-input {\r\n\t\t\t\t\t\twidth: #{88rpx};\r\n\t\t\t\t\t\theight: #{60rpx};\r\n\t\t\t\t\t\tcolor: $uni-important-color-black;\r\n\t\t\t\t\t\tfont-size: $uni-font-size-general-one;\r\n\t\t\t\t\t\tbackground-color: $uni-weak-color-two;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.three {\r\n\t\t\t\theight: #{110rpx};\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tfont-size: $uni-font-size-general-one;\r\n\t\t\t}\r\n\t\t}\r\n    }\r\n\t.buy {\r\n\t\tcolor: #ffffff;\r\n\t}\r\n    .wholesale {      \r\n        .wholesale-attr-list {\r\n            height: 88rpx;\r\n            margin: 0 24rpx;\r\n            border-bottom: 1rpx solid #e2e2e2;\r\n            position: relative;\r\n            &:first-of-type {\r\n                border-top: 1rpx solid #e2e2e2;\r\n            }\r\n            .wholesale-attr-group {\r\n                max-width: 200rpx;\r\n                flex-shrink: 0;\r\n                margin-right: 4rpx;\r\n                font-size: 20rpx;\r\n                color: #666666;\r\n            }\r\n            .right-icon {\r\n                position: absolute;\r\n                right: -24rpx;\r\n                top: 0;\r\n                height: 84rpx;\r\n                padding-left: 10rpx;\r\n                width: 50rpx;\r\n                z-index: 10000;\r\n                background-color: #fff;\r\n                view {\r\n                    height: 40rpx;\r\n                    width: 3rpx;\r\n                    background-color: #e2e2e2;\r\n                    position: absolute;\r\n                    left: 0;\r\n                    top: 24rpx;\r\n                }\r\n                image {\r\n                    margin-top: 33rpx;\r\n                    height: 22rpx;\r\n                    width: 16rpx;\r\n                }\r\n            }\r\n            .wholesale-attr-item {\r\n                height: 100%;\r\n                white-space : nowrap;\r\n                .attr-name {\r\n                    margin-top: 16rpx;\r\n                    color: #fff;\r\n                    padding: 0 22rpx;\r\n                    height: 56rpx;\r\n                    line-height: 56rpx;\r\n                    border-radius: 8rpx;\r\n                    font-size: 26rpx;\r\n                    margin-left: 20rpx;\r\n                    display: inline-block;\r\n                    position: relative;\r\n                    .attr-number {\r\n                        color: #fff;\r\n                        position: absolute;\r\n                        top: -15rpx;\r\n                        height: 30rpx;\r\n                        line-height: 26rpx;\r\n                        border: 2rpx solid #fff;\r\n                        padding: 0 10rpx;\r\n                        border-radius: 15rpx;\r\n                        font-size: 20rpx;\r\n                        z-index: 100;\r\n                    }\r\n                    &.attr-background {\r\n                        background-color: #f2f2f2;\r\n                        color: #353535;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        .wholesale-attr-group-list {\r\n            margin-top: 20rpx;\r\n            .wholesale-attr-group {\r\n                margin-bottom: 20rpx;\r\n                .wholesale-attr-item {\r\n                    padding: 20rpx;\r\n                    background-color: #f7f7f7;\r\n                    width: 100%;\r\n                    .attr-name {\r\n                        width: 60%;\r\n                        .attr-price {\r\n                            color: #999999;\r\n                            font-size: 24rpx;\r\n                        }\r\n                    }\r\n                    .wholesale-number-box {\r\n                        color: $uni-general-color-one;\r\n                        .block {\r\n                            width: #{60rpx};\r\n                            height: #{60rpx};\r\n                            margin: 0 #{4rpx};\r\n                            &.disabled {\r\n                                background-color: #fbfbfb;\r\n                                color: $uni-general-color-two;\r\n                            }\r\n                        }\r\n\r\n                        .wholesale-number-input {\r\n                            width: #{88rpx};\r\n                            height: #{60rpx};\r\n                            color: $uni-important-color-black;\r\n                            font-size: $uni-font-size-general-one;\r\n                            background-color: #fff;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    .total {\r\n        width: 100%;\r\n        height: 80rpx;\r\n        line-height: 80rpx;\r\n        text-align: right;\r\n        padding: 0 24rpx;\r\n        color: #353535;\r\n        font-size: 28rpx;\r\n        border-top: 1rpx solid #e2e2e2;\r\n        text {\r\n            color: #ff4544;\r\n        }\r\n    }\r\n    .u-attr-fixed {\r\n        position: fixed;\r\n        bottom: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        background-color: #ffffff;\r\n    }\r\n</style>\r\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./app-attr.vue?vue&type=style&index=0&id=b5423a8c&scoped=true&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./app-attr.vue?vue&type=style&index=0&id=b5423a8c&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1608184820964\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}