{"version":3,"sources":["webpack:///C:/Users/26439/Desktop/shop4.3.57_1/components/basic-component/app-upload-image/app-upload-image.vue?ff33","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/components/basic-component/app-upload-image/app-upload-image.vue?a1a4","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/components/basic-component/app-upload-image/app-upload-image.vue?169d","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/components/basic-component/app-upload-image/app-upload-image.vue?692d","uni-app:///components/basic-component/app-upload-image/app-upload-image.vue","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/components/basic-component/app-upload-image/app-upload-image.vue?0965","webpack:///C:/Users/26439/Desktop/shop4.3.57_1/components/basic-component/app-upload-image/app-upload-image.vue?bf7e"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyI;AACzI;AACoE;AACL;AACsC;;;AAGrG;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,sFAAM;AACR,EAAE,uGAAM;AACR,EAAE,gHAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,2GAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA0mB,CAAgB,ooBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACoB9nB;AACA,0BADA;AAEA;AACA;AACA,mBADA,EADA;;AAIA;AACA;AACA,kBAFA;AAGA,kDAHA,EAJA;;AASA;AACA;AACA,kBAFA;AAGA,gBAHA,EATA;;AAcA;AACA;AACA;AACA,kBADA;AAEA,iBAFA,EAhBA;;AAoBA;AACA,kBADA;AAEA,wBAFA,EApBA;;AAwBA;AACA,kBADA;AAEA,mBAFA,EAxBA;;AA4BA;AACA,mBADA;AAEA,oBAFA,EA5BA;;AAgCA;AACA,mBADA;AAEA,mBAFA,EAhCA;;AAoCA;AACA,kBADA;AAEA,qBAFA,EApCA;;AAwCA;AACA,kBADA;AAEA,gBAFA,EAxCA,EAFA;;;AA+CA,MA/CA,kBA+CA;AACA;AACA,6CADA;AAEA,oBAFA;;AAIA,GApDA;AAqDA;AACA;AACA,eAFA,yBAEA;AACA;AACA;AACA,KALA;AAMA;AACA,UAPA,kBAOA,KAPA,EAOA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,4BADA;AAEA,uBAFA;;AAIA,KAlBA;AAmBA;AACA,eApBA,yBAoBA;AACA;AACA;AACA;AACA,0BADA;AAEA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA,wCADA;AAEA,0CAFA;AAGA,0BAHA;AAIA,+BAJA;AAKA;AACA,wCADA;AAEA,mCAFA,EALA;;AASA,qBATA,mBASA,GATA,EASA;AACA;AACA;AACA;AACA;AACA,iBAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCADA;AAEA,mCAFA;;AAIA,iBARA,MAQA;AACA;AACA,6BADA;AAEA,uCAFA;AAGA,qCAHA;;AAKA;AACA,eAhCA;AAiCA,kBAjCA,gBAiCA,CAjCA,EAiCA;AACA;AACA;AACA,+BADA;AAEA,qCAFA;AAGA,qCAHA;;AAKA;AACA,eAzCA;;AA2CA;AACA,SAvDA;AAwDA;AACA;AACA;AACA,gCADA;AAEA,2BAFA;;AAIA,SA9DA;;AAgEA,KAvFA;AAwFA;AACA,gBAzFA,wBAyFA,KAzFA,EAyFA;AACA;AACA;AACA,iCADA;AAEA,uBAFA;;AAIA,KA/FA,EArDA;;AAsJA,SAtJA,qBAsJA;AACA;AACA,GAxJA,E;;;;;;;;;;;;;ACpBA;AAAA;AAAA;AAAA;AAAooC,CAAgB,8mCAAG,EAAC,C;;;;;;;;;;;ACAxpC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/basic-component/app-upload-image/app-upload-image.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./app-upload-image.vue?vue&type=template&id=6d303d9a&scoped=true&\"\nvar renderjs\nimport script from \"./app-upload-image.vue?vue&type=script&lang=js&\"\nexport * from \"./app-upload-image.vue?vue&type=script&lang=js&\"\nimport style0 from \"./app-upload-image.vue?vue&type=style&index=0&id=6d303d9a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d303d9a\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/basic-component/app-upload-image/app-upload-image.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./app-upload-image.vue?vue&type=template&id=6d303d9a&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./app-upload-image.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./app-upload-image.vue?vue&type=script&lang=js&\"","<template>\r\n    <view class=\"app-upload-image\">\r\n        <view class='upload-box' :style=\"{'background':backgroundColor}\">\r\n            <view class='flex-wrap'>\r\n                <view v-for='(item, index) in imageList' :key='item.id' class='img-box'>\r\n                    <view mode=\"aspectFill\" @click='remove(index)' class='remove cross-center main-center'>x</view>\r\n                    <image @click='previewImage(index)' :src='item' mode=\"aspectFill\" class='img'></image>\r\n                </view>\r\n                <view @click='chooseImage'>\r\n                    <view v-if='isAddImg' :style=\"{'margin':margin + 'rpx'}\" :class=\"{'other-border': diy ? true : false}\" class=\"add-img dir-top-nowrap cross-center main-center\">\r\n                        <image mode=\"aspectFill\" class='add-img-icon' :src='defaultImg'></image>\r\n                        <text class='text'>{{text}}</text>\r\n                        <text class='text' v-if=\"showNumber\">(最多{{maxNum}}张)</text>\r\n                    </view>\r\n                </view>\r\n            </view>\r\n        </view>\r\n    </view>\r\n</template>\r\n<script>\r\nexport default {\r\n    name: 'app-upload-image',\r\n    props: {\r\n        value: {\r\n            default: null,\r\n        },\r\n        defaultImg: {\r\n            // 添加图片的默认背景图片\r\n            type: String,\r\n            default: '/static/image/icon/icon-image.png'\r\n        },\r\n        maxNum: {\r\n            // 可添加最大图片数量\r\n            type: Number,\r\n            default: 3\r\n        },\r\n        // 标记\r\n        // 当组件用于循环时使用\r\n        sign: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        backgroundColor: {\r\n            type: String,\r\n            default: '#f7f7f7',\r\n        },\r\n        margin: {\r\n            type: String,\r\n            default: '10'\r\n        },\r\n        diy: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        showNumber: {\r\n            type: Boolean,\r\n            default: true,\r\n        },\r\n        text: {\r\n            type: String,\r\n            default: '上传图片',\r\n        },\r\n        count: {\r\n            type: Number,\r\n            default: 9\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            imageList: this.value ? this.value : [],\r\n            isAddImg: true\r\n        }\r\n    },\r\n    methods: {\r\n        // 上传最大图片数量\r\n        checkMaxNum() {\r\n            let status = this.imageList.length >= this.maxNum ? false : true;\r\n            this.isAddImg = status;\r\n        },\r\n        // 移除图片\r\n        remove(index) {\r\n            let imageList = this.imageList;\r\n            let data = imageList.splice(index, 1);\r\n            this.imageList = imageList;\r\n            this.checkMaxNum();\r\n\r\n            // 触发事件 tabEvent\r\n            this.$emit('imageEvent', {\r\n                imageList: imageList,\r\n                sign: this.sign\r\n            })\r\n        },\r\n        // 选择图片\r\n        chooseImage() {\r\n            let self = this;\r\n            let imageList = self.imageList;\r\n            uni.chooseImage({\r\n                count: self.maxNum,\r\n                success: function(e) {\r\n                    for (let i in e.tempFilePaths) {\r\n                        if (i >= (self.maxNum - imageList.length)) {\r\n                            break;\r\n                        }\r\n                        let fileName = '';\r\n                        // #ifdef MP-BAIDU\r\n                        fileName = e.tempFilePaths[i].substr(e.tempFilePaths[i].lastIndexOf('/') + 1);\r\n                        // #endif\r\n                        uni.uploadFile({\r\n                            url: self.$api.upload.file,\r\n                            filePath: e.tempFilePaths[i],\r\n                            name: 'file',\r\n                            fileType: 'image',\r\n                            formData: {\r\n                                file: e.tempFilePaths[i],\r\n                                file_name: fileName,\r\n                            },\r\n                            success(res) {\r\n                                const data = res.data;\r\n                                let result = null;\r\n                                if (typeof data === 'string') {\r\n                                    result = JSON.parse(data);\r\n                                } else {\r\n                                    result = data;\r\n                                }\r\n                                if (result.code == 0) {\r\n                                    imageList.push(result.data.url)\r\n                                    self.imageList = imageList;\r\n                                    self.checkMaxNum();\r\n                                    self.$emit('imageEvent', {\r\n                                        imageList: imageList,\r\n                                        sign: self.sign\r\n                                    })\r\n                                } else {\r\n                                    uni.showModal({\r\n                                        title: '',\r\n                                        content: result.msg,\r\n                                        showCancel: false,\r\n                                    })\r\n                                }\r\n                            },\r\n                            fail(e) {\r\n                                if (e && e.errMsg) {\r\n                                    uni.showModal({\r\n                                        title: '错误',\r\n                                        content: e.errMsg,\r\n                                        showCancel: false,\r\n                                    });\r\n                                }\r\n                            },\r\n                        });\r\n                    }\r\n                },\r\n                complete: function(e) {\r\n                    // 触发事件 tabEvent\r\n                    self.$emit('imageEvent', {\r\n                        imageList: imageList,\r\n                        sign: self.sign\r\n                    })\r\n                }\r\n            })\r\n        },\r\n        // 图片预览\r\n        previewImage(index) {\r\n            let imageList = this.imageList;\r\n            uni.previewImage({\r\n                current: imageList[index],\r\n                urls: imageList\r\n            })\r\n        },\r\n    },\r\n    created() {\r\n        this.checkMaxNum();\r\n    }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.upload-box {\r\n    background-color: #fff;\r\n}\r\n\r\n.upload-box .title {\r\n    padding: 15#{rpx} 0 15#{rpx} 20#{rpx};\r\n}\r\n\r\n.upload-box .img {\r\n    width: 188#{rpx};\r\n    height: 188#{rpx};\r\n    margin: 10#{rpx};\r\n    display: block;\r\n}\r\n\r\n.upload-box .add-img {\r\n    width: 188#{rpx};\r\n    height: 188#{rpx};\r\n    border: 1#{rpx} dotted $uni-weak-color-one;\r\n    background-color: #fff;\r\n}\r\n\r\n.upload-box .add-img .text {\r\n    color: $uni-general-color-two;\r\n    font-size: $uni-font-size-weak-two;\r\n}\r\n\r\n.upload-box .add-img-icon {\r\n    width: 56#{rpx};\r\n    height: 56#{rpx};\r\n    margin-bottom: 10#{rpx};\r\n}\r\n\r\n.upload-box .img-box {\r\n    position: relative;\r\n}\r\n\r\n\r\n.upload-box .remove {\r\n    width: 40#{rpx};\r\n    height: 40#{rpx};\r\n    position: absolute;\r\n    right: -5rpx;\r\n    top: -10rpx;\r\n    background: $uni-important-color-red;\r\n    color: #fff;\r\n    border-radius: 50%;\r\n    padding-bottom: 8#{rpx};\r\n    font-size: 24#{rpx};\r\n}\r\n\r\n.upload-box .add-img.other-border {\r\n    border: 1#{rpx} solid $uni-weak-color-one\r\n}\r\n</style>","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./app-upload-image.vue?vue&type=style&index=0&id=6d303d9a&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./app-upload-image.vue?vue&type=style&index=0&id=6d303d9a&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1608184827603\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}