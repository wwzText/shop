(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["plugins/gift/detail/detail"],{"42ee":function(t,e,n){"use strict";var i=n("82a1"),r=n.n(i);r.a},"6d16":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("a34a")),r=n("2f62");function a(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e,n,i,r,a,o){try{var u=t[a](o),c=u.value}catch(s){return void n(s)}u.done?e(c):Promise.resolve(c).then(i,r)}function d(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var a=t.apply(e,n);function o(t){s(a,i,r,o,u,"next",t)}function u(t){s(a,i,r,o,u,"throw",t)}o(void 0)}))}}var l=function(){n.e("plugins/gift/components/detail/order").then(function(){return resolve(n("2abc"))}.bind(null,n)).catch(n.oe)},f=function(){n.e("plugins/gift/components/detail/order-information").then(function(){return resolve(n("a770"))}.bind(null,n)).catch(n.oe)},g=function(){n.e("plugins/gift/components/detail/win-order-information").then(function(){return resolve(n("2404"))}.bind(null,n)).catch(n.oe)},p=function(){n.e("plugins/gift/components/detail/receiving-status").then(function(){return resolve(n("24390"))}.bind(null,n)).catch(n.oe)},h=function(){n.e("components/basic-component/app-empty-bottom/app-empty-bottom").then(function(){return resolve(n("7599"))}.bind(null,n)).catch(n.oe)},_=function(){n.e("plugins/gift/components/detail/win-order").then(function(){return resolve(n("ed35"))}.bind(null,n)).catch(n.oe)},b=function(){n.e("components/page-component/app-share-qr-code-poster/app-share-qr-code-poster").then(function(){return resolve(n("aa90"))}.bind(null,n)).catch(n.oe)},m=function(){n.e("plugins/gift/components/detail/logistics").then(function(){return resolve(n("d9be"))}.bind(null,n)).catch(n.oe)},v={name:"detail",data:function(){return{gift_id:-1,detail:{},gift_status:-1,win_detail:{},share:!1,turn_no:"",loading:!1}},onLoad:function(t){this.gift_id=t.gift_id,this.gift_status=t.status,this.$store.dispatch("gift/getConfig",this.$api.gift.config)},onShow:function(){var t=this.$api.gift,e=t.send_detail,n=t.win_detail,i=t.join_detail;switch(this.gift_status){case"0":this.getDetail({url:e,data:{gift_id:this.gift_id}});break;case"1":this.getDetail({url:n,data:{user_order_id:this.gift_id}});break;case"2":this.getDetail({url:i,data:{user_order_id:this.gift_id}});break}},onShareAppMessage:function(t){if("button"===t.from)return this.$shareAppMessage({path:"/plugins/gift/index/index",imageUrl:0===this.detail.is_big_gift?this.detail.detail[0].cover_pic:this.big_gift_pic,title:this.detail.giftLog.bless_word,params:{gift_id:this.detail.gift_id,turn_no:this.turn_no}})},methods:{getDetail:function(e){var n=this;return d(i.default.mark((function r(){var a;return i.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n.$utils.showLoading(),i.prev=1,i.next=4,n.$request({url:e.url,method:"get",data:u({},e.data)});case 4:a=i.sent,n.$utils.hideLoading(),0===a.code?(n.detail=a.data.detail,n.loading=!0):t.showModal({title:"提示",content:a.msg}),i.next=13;break;case 9:throw i.prev=9,i.t0=i["catch"](1),n.$utils.hideLoading(),new Error(i.t0);case 13:case"end":return i.stop()}}),r,null,[[1,9]])})))()},setShare:function(){var e=this;return d(i.default.mark((function n(){var r;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.$utils.showLoading(),n.next=3,e.$request({url:e.$api.gift.turn,data:{id:e.gift_id}});case 3:r=n.sent,0===r.code?(e.turn_no=r.data.turn_no,e.share=!0):t.showModal({title:"提示",content:r.msg}),e.$utils.hideLoading();case 6:case"end":return n.stop()}}),n)})))()},setSwitch:function(t){this.detail.detail[t].switch=!this.detail.detail[t].switch},receipt:function(e){var n=this;t.showModal({title:"提示",content:"确认收货",success:function(t){t.confirm&&n.$request({url:n.$api.order.confirm,data:{id:e}}).then((function(t){if(0===t.code)switch(n.gift_status){case"0":n.getDetail({url:n.$api.gift.send_detail,data:{gift_id:n.gift_id}});break;case"1":n.getDetail({url:n.$api.gift.win_detail,data:{user_order_id:n.gift_id}});break;case"2":n.getDetail({url:n.$api.gift.join_detail,data:{user_order_id:n.gift_id}});break}}))}})}},computed:u({},(0,r.mapState)("gift",{theme:function(t){return t.theme},big_gift_pic:function(t){return t.big_gift_pic}})),components:{order:l,"order-information":f,"receiving-status":p,"app-empty-bottom":h,"win-order":_,"win-order-information":g,"app-share-qr-code-poster":b,logistics:m}};e.default=v}).call(this,n("543d")["default"])},"7c99":function(t,e,n){"use strict";n.r(e);var i=n("d2e0"),r=n("f1c8");for(var a in r)"default"!==a&&function(t){n.d(e,t,(function(){return r[t]}))}(a);n("42ee");var o,u=n("f0c5"),c=Object(u["a"])(r["default"],i["b"],i["c"],!1,null,"786d589d",null,!1,i["a"],o);e["default"]=c.exports},"82a1":function(t,e,n){},9595:function(t,e,n){"use strict";(function(t){n("aaea");i(n("66fd"));var e=i(n("7c99"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},d2e0:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var r=function(){var t=this,e=t.$createElement,n=(t._self._c,t.loading?Number(110):null);t.$mp.data=Object.assign({},{$root:{m0:n}})},a=[]},f1c8:function(t,e,n){"use strict";n.r(e);var i=n("6d16"),r=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=r.a}},[["9595","common/runtime","common/vendor"]]]);